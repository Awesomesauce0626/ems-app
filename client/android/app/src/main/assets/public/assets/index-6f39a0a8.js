function e1(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var t1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function b_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var T_={exports:{}},$l={},C_={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qo=Symbol.for("react.element"),n1=Symbol.for("react.portal"),r1=Symbol.for("react.fragment"),i1=Symbol.for("react.strict_mode"),s1=Symbol.for("react.profiler"),o1=Symbol.for("react.provider"),a1=Symbol.for("react.context"),l1=Symbol.for("react.forward_ref"),u1=Symbol.for("react.suspense"),c1=Symbol.for("react.memo"),d1=Symbol.for("react.lazy"),Kp=Symbol.iterator;function h1(e){return e===null||typeof e!="object"?null:(e=Kp&&e[Kp]||e["@@iterator"],typeof e=="function"?e:null)}var P_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L_=Object.assign,N_={};function ks(e,t,n){this.props=e,this.context=t,this.refs=N_,this.updater=n||P_}ks.prototype.isReactComponent={};ks.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ks.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function A_(){}A_.prototype=ks.prototype;function dh(e,t,n){this.props=e,this.context=t,this.refs=N_,this.updater=n||P_}var hh=dh.prototype=new A_;hh.constructor=dh;L_(hh,ks.prototype);hh.isPureReactComponent=!0;var Gp=Array.isArray,O_=Object.prototype.hasOwnProperty,fh={current:null},I_={key:!0,ref:!0,__self:!0,__source:!0};function R_(e,t,n){var r,s={},a=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)O_.call(t,r)&&!I_.hasOwnProperty(r)&&(s[r]=t[r]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var h=Array(c),p=0;p<c;p++)h[p]=arguments[p+2];s.children=h}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)s[r]===void 0&&(s[r]=c[r]);return{$$typeof:qo,type:e,key:a,ref:l,props:s,_owner:fh.current}}function f1(e,t){return{$$typeof:qo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ph(e){return typeof e=="object"&&e!==null&&e.$$typeof===qo}function p1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Yp=/\/+/g;function Vu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?p1(""+e.key):t.toString(36)}function $a(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case qo:case n1:l=!0}}if(l)return l=e,s=s(l),e=r===""?"."+Vu(l,0):r,Gp(s)?(n="",e!=null&&(n=e.replace(Yp,"$&/")+"/"),$a(s,t,n,"",function(p){return p})):s!=null&&(ph(s)&&(s=f1(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(Yp,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=r===""?".":r+":",Gp(e))for(var c=0;c<e.length;c++){a=e[c];var h=r+Vu(a,c);l+=$a(a,t,n,h,s)}else if(h=h1(e),typeof h=="function")for(e=h.call(e),c=0;!(a=e.next()).done;)a=a.value,h=r+Vu(a,c++),l+=$a(a,t,n,h,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function ya(e,t,n){if(e==null)return e;var r=[],s=0;return $a(e,r,"","",function(a){return t.call(n,a,s++)}),r}function m1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ot={current:null},ja={transition:null},g1={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:ja,ReactCurrentOwner:fh};function D_(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:ya,forEach:function(e,t,n){ya(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ya(e,function(){t++}),t},toArray:function(e){return ya(e,function(t){return t})||[]},only:function(e){if(!ph(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};xe.Component=ks;xe.Fragment=r1;xe.Profiler=s1;xe.PureComponent=dh;xe.StrictMode=i1;xe.Suspense=u1;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g1;xe.act=D_;xe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=L_({},e.props),s=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=fh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(h in t)O_.call(t,h)&&!I_.hasOwnProperty(h)&&(r[h]=t[h]===void 0&&c!==void 0?c[h]:t[h])}var h=arguments.length-2;if(h===1)r.children=n;else if(1<h){c=Array(h);for(var p=0;p<h;p++)c[p]=arguments[p+2];r.children=c}return{$$typeof:qo,type:e.type,key:s,ref:a,props:r,_owner:l}};xe.createContext=function(e){return e={$$typeof:a1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:o1,_context:e},e.Consumer=e};xe.createElement=R_;xe.createFactory=function(e){var t=R_.bind(null,e);return t.type=e,t};xe.createRef=function(){return{current:null}};xe.forwardRef=function(e){return{$$typeof:l1,render:e}};xe.isValidElement=ph;xe.lazy=function(e){return{$$typeof:d1,_payload:{_status:-1,_result:e},_init:m1}};xe.memo=function(e,t){return{$$typeof:c1,type:e,compare:t===void 0?null:t}};xe.startTransition=function(e){var t=ja.transition;ja.transition={};try{e()}finally{ja.transition=t}};xe.unstable_act=D_;xe.useCallback=function(e,t){return Ot.current.useCallback(e,t)};xe.useContext=function(e){return Ot.current.useContext(e)};xe.useDebugValue=function(){};xe.useDeferredValue=function(e){return Ot.current.useDeferredValue(e)};xe.useEffect=function(e,t){return Ot.current.useEffect(e,t)};xe.useId=function(){return Ot.current.useId()};xe.useImperativeHandle=function(e,t,n){return Ot.current.useImperativeHandle(e,t,n)};xe.useInsertionEffect=function(e,t){return Ot.current.useInsertionEffect(e,t)};xe.useLayoutEffect=function(e,t){return Ot.current.useLayoutEffect(e,t)};xe.useMemo=function(e,t){return Ot.current.useMemo(e,t)};xe.useReducer=function(e,t,n){return Ot.current.useReducer(e,t,n)};xe.useRef=function(e){return Ot.current.useRef(e)};xe.useState=function(e){return Ot.current.useState(e)};xe.useSyncExternalStore=function(e,t,n){return Ot.current.useSyncExternalStore(e,t,n)};xe.useTransition=function(){return Ot.current.useTransition()};xe.version="18.3.1";C_.exports=xe;var C=C_.exports;const ot=b_(C),_1=e1({__proto__:null,default:ot},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v1=C,y1=Symbol.for("react.element"),w1=Symbol.for("react.fragment"),k1=Object.prototype.hasOwnProperty,x1=v1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,S1={key:!0,ref:!0,__self:!0,__source:!0};function M_(e,t,n){var r,s={},a=null,l=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)k1.call(t,r)&&!S1.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:y1,type:e,key:a,ref:l,props:s,_owner:x1.current}}$l.Fragment=w1;$l.jsx=M_;$l.jsxs=M_;T_.exports=$l;var mh=T_.exports;const E1=mh.Fragment,v=mh.jsx,D=mh.jsxs;var $c={},B_={exports:{}},Gt={},z_={exports:{}},F_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,ae){var j=F.length;F.push(ae);e:for(;0<j;){var ee=j-1>>>1,ce=F[ee];if(0<s(ce,ae))F[ee]=ae,F[j]=ce,j=ee;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var ae=F[0],j=F.pop();if(j!==ae){F[0]=j;e:for(var ee=0,ce=F.length,Oe=ce>>>1;ee<Oe;){var _e=2*(ee+1)-1,de=F[_e],le=_e+1,Je=F[le];if(0>s(de,j))le<ce&&0>s(Je,de)?(F[ee]=Je,F[le]=j,ee=le):(F[ee]=de,F[_e]=j,ee=_e);else if(le<ce&&0>s(Je,j))F[ee]=Je,F[le]=j,ee=le;else break e}}return ae}function s(F,ae){var j=F.sortIndex-ae.sortIndex;return j!==0?j:F.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var h=[],p=[],_=1,g=null,w=3,b=!1,O=!1,N=!1,z=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(F){for(var ae=n(p);ae!==null;){if(ae.callback===null)r(p);else if(ae.startTime<=F)r(p),ae.sortIndex=ae.expirationTime,t(h,ae);else break;ae=n(p)}}function T(F){if(N=!1,x(F),!O)if(n(h)!==null)O=!0,Ce(R);else{var ae=n(p);ae!==null&&Re(T,ae.startTime-F)}}function R(F,ae){O=!1,N&&(N=!1,S($),$=-1),b=!0;var j=w;try{for(x(ae),g=n(h);g!==null&&(!(g.expirationTime>ae)||F&&!pe());){var ee=g.callback;if(typeof ee=="function"){g.callback=null,w=g.priorityLevel;var ce=ee(g.expirationTime<=ae);ae=e.unstable_now(),typeof ce=="function"?g.callback=ce:g===n(h)&&r(h),x(ae)}else r(h);g=n(h)}if(g!==null)var Oe=!0;else{var _e=n(p);_e!==null&&Re(T,_e.startTime-ae),Oe=!1}return Oe}finally{g=null,w=j,b=!1}}var U=!1,B=null,$=-1,oe=5,G=-1;function pe(){return!(e.unstable_now()-G<oe)}function J(){if(B!==null){var F=e.unstable_now();G=F;var ae=!0;try{ae=B(!0,F)}finally{ae?ge():(U=!1,B=null)}}else U=!1}var ge;if(typeof y=="function")ge=function(){y(J)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,$e=Se.port2;Se.port1.onmessage=J,ge=function(){$e.postMessage(null)}}else ge=function(){z(J,0)};function Ce(F){B=F,U||(U=!0,ge())}function Re(F,ae){$=z(function(){F(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){O||b||(O=!0,Ce(R))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(F){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var j=w;w=ae;try{return F()}finally{w=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,ae){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var j=w;w=F;try{return ae()}finally{w=j}},e.unstable_scheduleCallback=function(F,ae,j){var ee=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?ee+j:ee):j=ee,F){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=j+ce,F={id:_++,callback:ae,priorityLevel:F,startTime:j,expirationTime:ce,sortIndex:-1},j>ee?(F.sortIndex=j,t(p,F),n(h)===null&&F===n(p)&&(N?(S($),$=-1):N=!0,Re(T,j-ee))):(F.sortIndex=ce,t(h,F),O||b||(O=!0,Ce(R))),F},e.unstable_shouldYield=pe,e.unstable_wrapCallback=function(F){var ae=w;return function(){var j=w;w=ae;try{return F.apply(this,arguments)}finally{w=j}}}})(F_);z_.exports=F_;var b1=z_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T1=C,qt=b1;function Z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var U_=new Set,Eo={};function Ei(e,t){ls(e,t),ls(e+"Capture",t)}function ls(e,t){for(Eo[e]=t,e=0;e<t.length;e++)U_.add(t[e])}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jc=Object.prototype.hasOwnProperty,C1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qp={},Jp={};function P1(e){return jc.call(Jp,e)?!0:jc.call(Qp,e)?!1:C1.test(e)?Jp[e]=!0:(Qp[e]=!0,!1)}function L1(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N1(e,t,n,r){if(t===null||typeof t>"u"||L1(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function It(e,t,n,r,s,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){kt[e]=new It(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];kt[t]=new It(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){kt[e]=new It(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){kt[e]=new It(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){kt[e]=new It(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){kt[e]=new It(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){kt[e]=new It(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){kt[e]=new It(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){kt[e]=new It(e,5,!1,e.toLowerCase(),null,!1,!1)});var gh=/[\-:]([a-z])/g;function _h(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gh,_h);kt[t]=new It(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gh,_h);kt[t]=new It(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gh,_h);kt[t]=new It(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){kt[e]=new It(e,1,!1,e.toLowerCase(),null,!1,!1)});kt.xlinkHref=new It("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){kt[e]=new It(e,1,!1,e.toLowerCase(),null,!0,!0)});function vh(e,t,n,r){var s=kt.hasOwnProperty(t)?kt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(N1(t,n,s,r)&&(n=null),r||s===null?P1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var sr=T1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wa=Symbol.for("react.element"),Zi=Symbol.for("react.portal"),Hi=Symbol.for("react.fragment"),yh=Symbol.for("react.strict_mode"),Vc=Symbol.for("react.profiler"),$_=Symbol.for("react.provider"),j_=Symbol.for("react.context"),wh=Symbol.for("react.forward_ref"),Zc=Symbol.for("react.suspense"),Hc=Symbol.for("react.suspense_list"),kh=Symbol.for("react.memo"),dr=Symbol.for("react.lazy"),V_=Symbol.for("react.offscreen"),Xp=Symbol.iterator;function qs(e){return e===null||typeof e!="object"?null:(e=Xp&&e[Xp]||e["@@iterator"],typeof e=="function"?e:null)}var qe=Object.assign,Zu;function so(e){if(Zu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Zu=t&&t[1]||""}return`
`+Zu+e}var Hu=!1;function Wu(e,t){if(!e||Hu)return"";Hu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var r=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){r=p}e.call(t.prototype)}else{try{throw Error()}catch(p){r=p}e()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var s=p.stack.split(`
`),a=r.stack.split(`
`),l=s.length-1,c=a.length-1;1<=l&&0<=c&&s[l]!==a[c];)c--;for(;1<=l&&0<=c;l--,c--)if(s[l]!==a[c]){if(l!==1||c!==1)do if(l--,c--,0>c||s[l]!==a[c]){var h=`
`+s[l].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=l&&0<=c);break}}}finally{Hu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?so(e):""}function A1(e){switch(e.tag){case 5:return so(e.type);case 16:return so("Lazy");case 13:return so("Suspense");case 19:return so("SuspenseList");case 0:case 2:case 15:return e=Wu(e.type,!1),e;case 11:return e=Wu(e.type.render,!1),e;case 1:return e=Wu(e.type,!0),e;default:return""}}function Wc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hi:return"Fragment";case Zi:return"Portal";case Vc:return"Profiler";case yh:return"StrictMode";case Zc:return"Suspense";case Hc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case j_:return(e.displayName||"Context")+".Consumer";case $_:return(e._context.displayName||"Context")+".Provider";case wh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case kh:return t=e.displayName||null,t!==null?t:Wc(e.type)||"Memo";case dr:t=e._payload,e=e._init;try{return Wc(e(t))}catch{}}return null}function O1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wc(t);case 8:return t===yh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Mr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Z_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function I1(e){var t=Z_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ka(e){e._valueTracker||(e._valueTracker=I1(e))}function H_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Z_(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function rl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qc(e,t){var n=t.checked;return qe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function em(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Mr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function W_(e,t){t=t.checked,t!=null&&vh(e,"checked",t,!1)}function Kc(e,t){W_(e,t);var n=Mr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Gc(e,t.type,n):t.hasOwnProperty("defaultValue")&&Gc(e,t.type,Mr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Gc(e,t,n){(t!=="number"||rl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var oo=Array.isArray;function ns(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Mr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Yc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Z(91));return qe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Z(92));if(oo(n)){if(1<n.length)throw Error(Z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Mr(n)}}function q_(e,t){var n=Mr(t.value),r=Mr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function rm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function K_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?K_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xa,G_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xa=xa||document.createElement("div"),xa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function bo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ho={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},R1=["Webkit","ms","Moz","O"];Object.keys(ho).forEach(function(e){R1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ho[t]=ho[e]})});function Y_(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ho.hasOwnProperty(e)&&ho[e]?(""+t).trim():t+"px"}function Q_(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Y_(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var D1=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jc(e,t){if(t){if(D1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Z(62))}}function Xc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ed=null;function xh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var td=null,rs=null,is=null;function im(e){if(e=Yo(e)){if(typeof td!="function")throw Error(Z(280));var t=e.stateNode;t&&(t=Wl(t),td(e.stateNode,e.type,t))}}function J_(e){rs?is?is.push(e):is=[e]:rs=e}function X_(){if(rs){var e=rs,t=is;if(is=rs=null,im(e),t)for(e=0;e<t.length;e++)im(t[e])}}function ev(e,t){return e(t)}function tv(){}var qu=!1;function nv(e,t,n){if(qu)return e(t,n);qu=!0;try{return ev(e,t,n)}finally{qu=!1,(rs!==null||is!==null)&&(tv(),X_())}}function To(e,t){var n=e.stateNode;if(n===null)return null;var r=Wl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Z(231,t,typeof n));return n}var nd=!1;if(Xn)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){nd=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{nd=!1}function M1(e,t,n,r,s,a,l,c,h){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(_){this.onError(_)}}var fo=!1,il=null,sl=!1,rd=null,B1={onError:function(e){fo=!0,il=e}};function z1(e,t,n,r,s,a,l,c,h){fo=!1,il=null,M1.apply(B1,arguments)}function F1(e,t,n,r,s,a,l,c,h){if(z1.apply(this,arguments),fo){if(fo){var p=il;fo=!1,il=null}else throw Error(Z(198));sl||(sl=!0,rd=p)}}function bi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sm(e){if(bi(e)!==e)throw Error(Z(188))}function U1(e){var t=e.alternate;if(!t){if(t=bi(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return sm(s),e;if(a===r)return sm(s),t;a=a.sibling}throw Error(Z(188))}if(n.return!==r.return)n=s,r=a;else{for(var l=!1,c=s.child;c;){if(c===n){l=!0,n=s,r=a;break}if(c===r){l=!0,r=s,n=a;break}c=c.sibling}if(!l){for(c=a.child;c;){if(c===n){l=!0,n=a,r=s;break}if(c===r){l=!0,r=a,n=s;break}c=c.sibling}if(!l)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?e:t}function iv(e){return e=U1(e),e!==null?sv(e):null}function sv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sv(e);if(t!==null)return t;e=e.sibling}return null}var ov=qt.unstable_scheduleCallback,om=qt.unstable_cancelCallback,$1=qt.unstable_shouldYield,j1=qt.unstable_requestPaint,et=qt.unstable_now,V1=qt.unstable_getCurrentPriorityLevel,Sh=qt.unstable_ImmediatePriority,av=qt.unstable_UserBlockingPriority,ol=qt.unstable_NormalPriority,Z1=qt.unstable_LowPriority,lv=qt.unstable_IdlePriority,jl=null,Rn=null;function H1(e){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(jl,e,void 0,(e.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:K1,W1=Math.log,q1=Math.LN2;function K1(e){return e>>>=0,e===0?32:31-(W1(e)/q1|0)|0}var Sa=64,Ea=4194304;function ao(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function al(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,l=n&268435455;if(l!==0){var c=l&~s;c!==0?r=ao(c):(a&=l,a!==0&&(r=ao(a)))}else l=n&~s,l!==0?r=ao(l):a!==0&&(r=ao(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-wn(t),s=1<<n,r|=e[n],t&=~s;return r}function G1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Y1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-wn(a),c=1<<l,h=s[l];h===-1?(!(c&n)||c&r)&&(s[l]=G1(c,t)):h<=t&&(e.expiredLanes|=c),a&=~c}}function id(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uv(){var e=Sa;return Sa<<=1,!(Sa&4194240)&&(Sa=64),e}function Ku(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ko(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wn(t),e[t]=n}function Q1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-wn(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function Eh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ie=0;function cv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dv,bh,hv,fv,pv,sd=!1,ba=[],xr=null,Sr=null,Er=null,Co=new Map,Po=new Map,pr=[],J1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function am(e,t){switch(e){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":Co.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Po.delete(t.pointerId)}}function Gs(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Yo(t),t!==null&&bh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function X1(e,t,n,r,s){switch(t){case"focusin":return xr=Gs(xr,e,t,n,r,s),!0;case"dragenter":return Sr=Gs(Sr,e,t,n,r,s),!0;case"mouseover":return Er=Gs(Er,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return Co.set(a,Gs(Co.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Po.set(a,Gs(Po.get(a)||null,e,t,n,r,s)),!0}return!1}function mv(e){var t=si(e.target);if(t!==null){var n=bi(t);if(n!==null){if(t=n.tag,t===13){if(t=rv(n),t!==null){e.blockedOn=t,pv(e.priority,function(){hv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Va(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=od(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ed=r,n.target.dispatchEvent(r),ed=null}else return t=Yo(n),t!==null&&bh(t),e.blockedOn=n,!1;t.shift()}return!0}function lm(e,t,n){Va(e)&&n.delete(t)}function ex(){sd=!1,xr!==null&&Va(xr)&&(xr=null),Sr!==null&&Va(Sr)&&(Sr=null),Er!==null&&Va(Er)&&(Er=null),Co.forEach(lm),Po.forEach(lm)}function Ys(e,t){e.blockedOn===t&&(e.blockedOn=null,sd||(sd=!0,qt.unstable_scheduleCallback(qt.unstable_NormalPriority,ex)))}function Lo(e){function t(s){return Ys(s,e)}if(0<ba.length){Ys(ba[0],e);for(var n=1;n<ba.length;n++){var r=ba[n];r.blockedOn===e&&(r.blockedOn=null)}}for(xr!==null&&Ys(xr,e),Sr!==null&&Ys(Sr,e),Er!==null&&Ys(Er,e),Co.forEach(t),Po.forEach(t),n=0;n<pr.length;n++)r=pr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<pr.length&&(n=pr[0],n.blockedOn===null);)mv(n),n.blockedOn===null&&pr.shift()}var ss=sr.ReactCurrentBatchConfig,ll=!0;function tx(e,t,n,r){var s=Ie,a=ss.transition;ss.transition=null;try{Ie=1,Th(e,t,n,r)}finally{Ie=s,ss.transition=a}}function nx(e,t,n,r){var s=Ie,a=ss.transition;ss.transition=null;try{Ie=4,Th(e,t,n,r)}finally{Ie=s,ss.transition=a}}function Th(e,t,n,r){if(ll){var s=od(e,t,n,r);if(s===null)ic(e,t,r,ul,n),am(e,r);else if(X1(s,e,t,n,r))r.stopPropagation();else if(am(e,r),t&4&&-1<J1.indexOf(e)){for(;s!==null;){var a=Yo(s);if(a!==null&&dv(a),a=od(e,t,n,r),a===null&&ic(e,t,r,ul,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else ic(e,t,r,null,n)}}var ul=null;function od(e,t,n,r){if(ul=null,e=xh(r),e=si(e),e!==null)if(t=bi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ul=e,null}function gv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(V1()){case Sh:return 1;case av:return 4;case ol:case Z1:return 16;case lv:return 536870912;default:return 16}default:return 16}}var vr=null,Ch=null,Za=null;function _v(){if(Za)return Za;var e,t=Ch,n=t.length,r,s="value"in vr?vr.value:vr.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===s[a-r];r++);return Za=s.slice(e,1<r?1-r:void 0)}function Ha(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ta(){return!0}function um(){return!1}function Yt(e){function t(n,r,s,a,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ta:um,this.isPropagationStopped=um,this}return qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ta)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ta)},persist:function(){},isPersistent:Ta}),t}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ph=Yt(xs),Go=qe({},xs,{view:0,detail:0}),rx=Yt(Go),Gu,Yu,Qs,Vl=qe({},Go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qs&&(Qs&&e.type==="mousemove"?(Gu=e.screenX-Qs.screenX,Yu=e.screenY-Qs.screenY):Yu=Gu=0,Qs=e),Gu)},movementY:function(e){return"movementY"in e?e.movementY:Yu}}),cm=Yt(Vl),ix=qe({},Vl,{dataTransfer:0}),sx=Yt(ix),ox=qe({},Go,{relatedTarget:0}),Qu=Yt(ox),ax=qe({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),lx=Yt(ax),ux=qe({},xs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cx=Yt(ux),dx=qe({},xs,{data:0}),dm=Yt(dx),hx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},px={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=px[e])?!!t[e]:!1}function Lh(){return mx}var gx=qe({},Go,{key:function(e){if(e.key){var t=hx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ha(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lh,charCode:function(e){return e.type==="keypress"?Ha(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ha(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_x=Yt(gx),vx=qe({},Vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hm=Yt(vx),yx=qe({},Go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lh}),wx=Yt(yx),kx=qe({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),xx=Yt(kx),Sx=qe({},Vl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ex=Yt(Sx),bx=[9,13,27,32],Nh=Xn&&"CompositionEvent"in window,po=null;Xn&&"documentMode"in document&&(po=document.documentMode);var Tx=Xn&&"TextEvent"in window&&!po,vv=Xn&&(!Nh||po&&8<po&&11>=po),fm=String.fromCharCode(32),pm=!1;function yv(e,t){switch(e){case"keyup":return bx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wi=!1;function Cx(e,t){switch(e){case"compositionend":return wv(t);case"keypress":return t.which!==32?null:(pm=!0,fm);case"textInput":return e=t.data,e===fm&&pm?null:e;default:return null}}function Px(e,t){if(Wi)return e==="compositionend"||!Nh&&yv(e,t)?(e=_v(),Za=Ch=vr=null,Wi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vv&&t.locale!=="ko"?null:t.data;default:return null}}var Lx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Lx[e.type]:t==="textarea"}function kv(e,t,n,r){J_(r),t=cl(t,"onChange"),0<t.length&&(n=new Ph("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var mo=null,No=null;function Nx(e){Ov(e,0)}function Zl(e){var t=Gi(e);if(H_(t))return e}function Ax(e,t){if(e==="change")return t}var xv=!1;if(Xn){var Ju;if(Xn){var Xu="oninput"in document;if(!Xu){var gm=document.createElement("div");gm.setAttribute("oninput","return;"),Xu=typeof gm.oninput=="function"}Ju=Xu}else Ju=!1;xv=Ju&&(!document.documentMode||9<document.documentMode)}function _m(){mo&&(mo.detachEvent("onpropertychange",Sv),No=mo=null)}function Sv(e){if(e.propertyName==="value"&&Zl(No)){var t=[];kv(t,No,e,xh(e)),nv(Nx,t)}}function Ox(e,t,n){e==="focusin"?(_m(),mo=t,No=n,mo.attachEvent("onpropertychange",Sv)):e==="focusout"&&_m()}function Ix(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zl(No)}function Rx(e,t){if(e==="click")return Zl(t)}function Dx(e,t){if(e==="input"||e==="change")return Zl(t)}function Mx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xn=typeof Object.is=="function"?Object.is:Mx;function Ao(e,t){if(xn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!jc.call(t,s)||!xn(e[s],t[s]))return!1}return!0}function vm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ym(e,t){var n=vm(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vm(n)}}function Ev(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ev(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bv(){for(var e=window,t=rl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=rl(e.document)}return t}function Ah(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Bx(e){var t=bv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ev(n.ownerDocument.documentElement,n)){if(r!==null&&Ah(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=ym(n,a);var l=ym(n,r);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zx=Xn&&"documentMode"in document&&11>=document.documentMode,qi=null,ad=null,go=null,ld=!1;function wm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ld||qi==null||qi!==rl(r)||(r=qi,"selectionStart"in r&&Ah(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),go&&Ao(go,r)||(go=r,r=cl(ad,"onSelect"),0<r.length&&(t=new Ph("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=qi)))}function Ca(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ki={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionend:Ca("Transition","TransitionEnd")},ec={},Tv={};Xn&&(Tv=document.createElement("div").style,"AnimationEvent"in window||(delete Ki.animationend.animation,delete Ki.animationiteration.animation,delete Ki.animationstart.animation),"TransitionEvent"in window||delete Ki.transitionend.transition);function Hl(e){if(ec[e])return ec[e];if(!Ki[e])return e;var t=Ki[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Tv)return ec[e]=t[n];return e}var Cv=Hl("animationend"),Pv=Hl("animationiteration"),Lv=Hl("animationstart"),Nv=Hl("transitionend"),Av=new Map,km="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){Av.set(e,t),Ei(t,[e])}for(var tc=0;tc<km.length;tc++){var nc=km[tc],Fx=nc.toLowerCase(),Ux=nc[0].toUpperCase()+nc.slice(1);jr(Fx,"on"+Ux)}jr(Cv,"onAnimationEnd");jr(Pv,"onAnimationIteration");jr(Lv,"onAnimationStart");jr("dblclick","onDoubleClick");jr("focusin","onFocus");jr("focusout","onBlur");jr(Nv,"onTransitionEnd");ls("onMouseEnter",["mouseout","mouseover"]);ls("onMouseLeave",["mouseout","mouseover"]);ls("onPointerEnter",["pointerout","pointerover"]);ls("onPointerLeave",["pointerout","pointerover"]);Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$x=new Set("cancel close invalid load scroll toggle".split(" ").concat(lo));function xm(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,F1(r,t,void 0,e),e.currentTarget=null}function Ov(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var l=r.length-1;0<=l;l--){var c=r[l],h=c.instance,p=c.currentTarget;if(c=c.listener,h!==a&&s.isPropagationStopped())break e;xm(s,c,p),a=h}else for(l=0;l<r.length;l++){if(c=r[l],h=c.instance,p=c.currentTarget,c=c.listener,h!==a&&s.isPropagationStopped())break e;xm(s,c,p),a=h}}}if(sl)throw e=rd,sl=!1,rd=null,e}function Be(e,t){var n=t[fd];n===void 0&&(n=t[fd]=new Set);var r=e+"__bubble";n.has(r)||(Iv(t,e,2,!1),n.add(r))}function rc(e,t,n){var r=0;t&&(r|=4),Iv(n,e,r,t)}var Pa="_reactListening"+Math.random().toString(36).slice(2);function Oo(e){if(!e[Pa]){e[Pa]=!0,U_.forEach(function(n){n!=="selectionchange"&&($x.has(n)||rc(n,!1,e),rc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pa]||(t[Pa]=!0,rc("selectionchange",!1,t))}}function Iv(e,t,n,r){switch(gv(t)){case 1:var s=tx;break;case 4:s=nx;break;default:s=Th}n=s.bind(null,t,n,e),s=void 0,!nd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ic(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var c=r.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var h=l.tag;if((h===3||h===4)&&(h=l.stateNode.containerInfo,h===s||h.nodeType===8&&h.parentNode===s))return;l=l.return}for(;c!==null;){if(l=si(c),l===null)return;if(h=l.tag,h===5||h===6){r=a=l;continue e}c=c.parentNode}}r=r.return}nv(function(){var p=a,_=xh(n),g=[];e:{var w=Av.get(e);if(w!==void 0){var b=Ph,O=e;switch(e){case"keypress":if(Ha(n)===0)break e;case"keydown":case"keyup":b=_x;break;case"focusin":O="focus",b=Qu;break;case"focusout":O="blur",b=Qu;break;case"beforeblur":case"afterblur":b=Qu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=cm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=sx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=wx;break;case Cv:case Pv:case Lv:b=lx;break;case Nv:b=xx;break;case"scroll":b=rx;break;case"wheel":b=Ex;break;case"copy":case"cut":case"paste":b=cx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=hm}var N=(t&4)!==0,z=!N&&e==="scroll",S=N?w!==null?w+"Capture":null:w;N=[];for(var y=p,x;y!==null;){x=y;var T=x.stateNode;if(x.tag===5&&T!==null&&(x=T,S!==null&&(T=To(y,S),T!=null&&N.push(Io(y,T,x)))),z)break;y=y.return}0<N.length&&(w=new b(w,O,null,n,_),g.push({event:w,listeners:N}))}}if(!(t&7)){e:{if(w=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",w&&n!==ed&&(O=n.relatedTarget||n.fromElement)&&(si(O)||O[er]))break e;if((b||w)&&(w=_.window===_?_:(w=_.ownerDocument)?w.defaultView||w.parentWindow:window,b?(O=n.relatedTarget||n.toElement,b=p,O=O?si(O):null,O!==null&&(z=bi(O),O!==z||O.tag!==5&&O.tag!==6)&&(O=null)):(b=null,O=p),b!==O)){if(N=cm,T="onMouseLeave",S="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(N=hm,T="onPointerLeave",S="onPointerEnter",y="pointer"),z=b==null?w:Gi(b),x=O==null?w:Gi(O),w=new N(T,y+"leave",b,n,_),w.target=z,w.relatedTarget=x,T=null,si(_)===p&&(N=new N(S,y+"enter",O,n,_),N.target=x,N.relatedTarget=z,T=N),z=T,b&&O)t:{for(N=b,S=O,y=0,x=N;x;x=Ui(x))y++;for(x=0,T=S;T;T=Ui(T))x++;for(;0<y-x;)N=Ui(N),y--;for(;0<x-y;)S=Ui(S),x--;for(;y--;){if(N===S||S!==null&&N===S.alternate)break t;N=Ui(N),S=Ui(S)}N=null}else N=null;b!==null&&Sm(g,w,b,N,!1),O!==null&&z!==null&&Sm(g,z,O,N,!0)}}e:{if(w=p?Gi(p):window,b=w.nodeName&&w.nodeName.toLowerCase(),b==="select"||b==="input"&&w.type==="file")var R=Ax;else if(mm(w))if(xv)R=Dx;else{R=Ix;var U=Ox}else(b=w.nodeName)&&b.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(R=Rx);if(R&&(R=R(e,p))){kv(g,R,n,_);break e}U&&U(e,w,p),e==="focusout"&&(U=w._wrapperState)&&U.controlled&&w.type==="number"&&Gc(w,"number",w.value)}switch(U=p?Gi(p):window,e){case"focusin":(mm(U)||U.contentEditable==="true")&&(qi=U,ad=p,go=null);break;case"focusout":go=ad=qi=null;break;case"mousedown":ld=!0;break;case"contextmenu":case"mouseup":case"dragend":ld=!1,wm(g,n,_);break;case"selectionchange":if(zx)break;case"keydown":case"keyup":wm(g,n,_)}var B;if(Nh)e:{switch(e){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else Wi?yv(e,n)&&($="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&($="onCompositionStart");$&&(vv&&n.locale!=="ko"&&(Wi||$!=="onCompositionStart"?$==="onCompositionEnd"&&Wi&&(B=_v()):(vr=_,Ch="value"in vr?vr.value:vr.textContent,Wi=!0)),U=cl(p,$),0<U.length&&($=new dm($,e,null,n,_),g.push({event:$,listeners:U}),B?$.data=B:(B=wv(n),B!==null&&($.data=B)))),(B=Tx?Cx(e,n):Px(e,n))&&(p=cl(p,"onBeforeInput"),0<p.length&&(_=new dm("onBeforeInput","beforeinput",null,n,_),g.push({event:_,listeners:p}),_.data=B))}Ov(g,t)})}function Io(e,t,n){return{instance:e,listener:t,currentTarget:n}}function cl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=To(e,n),a!=null&&r.unshift(Io(e,a,s)),a=To(e,t),a!=null&&r.push(Io(e,a,s))),e=e.return}return r}function Ui(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Sm(e,t,n,r,s){for(var a=t._reactName,l=[];n!==null&&n!==r;){var c=n,h=c.alternate,p=c.stateNode;if(h!==null&&h===r)break;c.tag===5&&p!==null&&(c=p,s?(h=To(n,a),h!=null&&l.unshift(Io(n,h,c))):s||(h=To(n,a),h!=null&&l.push(Io(n,h,c)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var jx=/\r\n?/g,Vx=/\u0000|\uFFFD/g;function Em(e){return(typeof e=="string"?e:""+e).replace(jx,`
`).replace(Vx,"")}function La(e,t,n){if(t=Em(t),Em(e)!==t&&n)throw Error(Z(425))}function dl(){}var ud=null,cd=null;function dd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hd=typeof setTimeout=="function"?setTimeout:void 0,Zx=typeof clearTimeout=="function"?clearTimeout:void 0,bm=typeof Promise=="function"?Promise:void 0,Hx=typeof queueMicrotask=="function"?queueMicrotask:typeof bm<"u"?function(e){return bm.resolve(null).then(e).catch(Wx)}:hd;function Wx(e){setTimeout(function(){throw e})}function sc(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Lo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Lo(t)}function br(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Tm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ss=Math.random().toString(36).slice(2),On="__reactFiber$"+Ss,Ro="__reactProps$"+Ss,er="__reactContainer$"+Ss,fd="__reactEvents$"+Ss,qx="__reactListeners$"+Ss,Kx="__reactHandles$"+Ss;function si(e){var t=e[On];if(t)return t;for(var n=e.parentNode;n;){if(t=n[er]||n[On]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Tm(e);e!==null;){if(n=e[On])return n;e=Tm(e)}return t}e=n,n=e.parentNode}return null}function Yo(e){return e=e[On]||e[er],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Z(33))}function Wl(e){return e[Ro]||null}var pd=[],Yi=-1;function Vr(e){return{current:e}}function Ue(e){0>Yi||(e.current=pd[Yi],pd[Yi]=null,Yi--)}function Me(e,t){Yi++,pd[Yi]=e.current,e.current=t}var Br={},bt=Vr(Br),zt=Vr(!1),fi=Br;function us(e,t){var n=e.type.contextTypes;if(!n)return Br;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ft(e){return e=e.childContextTypes,e!=null}function hl(){Ue(zt),Ue(bt)}function Cm(e,t,n){if(bt.current!==Br)throw Error(Z(168));Me(bt,t),Me(zt,n)}function Rv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(Z(108,O1(e)||"Unknown",s));return qe({},n,r)}function fl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Br,fi=bt.current,Me(bt,e),Me(zt,zt.current),!0}function Pm(e,t,n){var r=e.stateNode;if(!r)throw Error(Z(169));n?(e=Rv(e,t,fi),r.__reactInternalMemoizedMergedChildContext=e,Ue(zt),Ue(bt),Me(bt,e)):Ue(zt),Me(zt,n)}var Kn=null,ql=!1,oc=!1;function Dv(e){Kn===null?Kn=[e]:Kn.push(e)}function Gx(e){ql=!0,Dv(e)}function Zr(){if(!oc&&Kn!==null){oc=!0;var e=0,t=Ie;try{var n=Kn;for(Ie=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Kn=null,ql=!1}catch(s){throw Kn!==null&&(Kn=Kn.slice(e+1)),ov(Sh,Zr),s}finally{Ie=t,oc=!1}}return null}var Qi=[],Ji=0,pl=null,ml=0,tn=[],nn=0,pi=null,Gn=1,Yn="";function ni(e,t){Qi[Ji++]=ml,Qi[Ji++]=pl,pl=e,ml=t}function Mv(e,t,n){tn[nn++]=Gn,tn[nn++]=Yn,tn[nn++]=pi,pi=e;var r=Gn;e=Yn;var s=32-wn(r)-1;r&=~(1<<s),n+=1;var a=32-wn(t)+s;if(30<a){var l=s-s%5;a=(r&(1<<l)-1).toString(32),r>>=l,s-=l,Gn=1<<32-wn(t)+s|n<<s|r,Yn=a+e}else Gn=1<<a|n<<s|r,Yn=e}function Oh(e){e.return!==null&&(ni(e,1),Mv(e,1,0))}function Ih(e){for(;e===pl;)pl=Qi[--Ji],Qi[Ji]=null,ml=Qi[--Ji],Qi[Ji]=null;for(;e===pi;)pi=tn[--nn],tn[nn]=null,Yn=tn[--nn],tn[nn]=null,Gn=tn[--nn],tn[nn]=null}var Wt=null,Zt=null,je=!1,_n=null;function Bv(e,t){var n=on(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Lm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Wt=e,Zt=br(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Wt=e,Zt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=pi!==null?{id:Gn,overflow:Yn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=on(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Wt=e,Zt=null,!0):!1;default:return!1}}function md(e){return(e.mode&1)!==0&&(e.flags&128)===0}function gd(e){if(je){var t=Zt;if(t){var n=t;if(!Lm(e,t)){if(md(e))throw Error(Z(418));t=br(n.nextSibling);var r=Wt;t&&Lm(e,t)?Bv(r,n):(e.flags=e.flags&-4097|2,je=!1,Wt=e)}}else{if(md(e))throw Error(Z(418));e.flags=e.flags&-4097|2,je=!1,Wt=e}}}function Nm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Wt=e}function Na(e){if(e!==Wt)return!1;if(!je)return Nm(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!dd(e.type,e.memoizedProps)),t&&(t=Zt)){if(md(e))throw zv(),Error(Z(418));for(;t;)Bv(e,t),t=br(t.nextSibling)}if(Nm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Zt=br(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Zt=null}}else Zt=Wt?br(e.stateNode.nextSibling):null;return!0}function zv(){for(var e=Zt;e;)e=br(e.nextSibling)}function cs(){Zt=Wt=null,je=!1}function Rh(e){_n===null?_n=[e]:_n.push(e)}var Yx=sr.ReactCurrentBatchConfig;function Js(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var c=s.refs;l===null?delete c[a]:c[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,e))}return e}function Aa(e,t){throw e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Am(e){var t=e._init;return t(e._payload)}function Fv(e){function t(S,y){if(e){var x=S.deletions;x===null?(S.deletions=[y],S.flags|=16):x.push(y)}}function n(S,y){if(!e)return null;for(;y!==null;)t(S,y),y=y.sibling;return null}function r(S,y){for(S=new Map;y!==null;)y.key!==null?S.set(y.key,y):S.set(y.index,y),y=y.sibling;return S}function s(S,y){return S=Lr(S,y),S.index=0,S.sibling=null,S}function a(S,y,x){return S.index=x,e?(x=S.alternate,x!==null?(x=x.index,x<y?(S.flags|=2,y):x):(S.flags|=2,y)):(S.flags|=1048576,y)}function l(S){return e&&S.alternate===null&&(S.flags|=2),S}function c(S,y,x,T){return y===null||y.tag!==6?(y=fc(x,S.mode,T),y.return=S,y):(y=s(y,x),y.return=S,y)}function h(S,y,x,T){var R=x.type;return R===Hi?_(S,y,x.props.children,T,x.key):y!==null&&(y.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===dr&&Am(R)===y.type)?(T=s(y,x.props),T.ref=Js(S,y,x),T.return=S,T):(T=Ja(x.type,x.key,x.props,null,S.mode,T),T.ref=Js(S,y,x),T.return=S,T)}function p(S,y,x,T){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=pc(x,S.mode,T),y.return=S,y):(y=s(y,x.children||[]),y.return=S,y)}function _(S,y,x,T,R){return y===null||y.tag!==7?(y=di(x,S.mode,T,R),y.return=S,y):(y=s(y,x),y.return=S,y)}function g(S,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=fc(""+y,S.mode,x),y.return=S,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case wa:return x=Ja(y.type,y.key,y.props,null,S.mode,x),x.ref=Js(S,null,y),x.return=S,x;case Zi:return y=pc(y,S.mode,x),y.return=S,y;case dr:var T=y._init;return g(S,T(y._payload),x)}if(oo(y)||qs(y))return y=di(y,S.mode,x,null),y.return=S,y;Aa(S,y)}return null}function w(S,y,x,T){var R=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return R!==null?null:c(S,y,""+x,T);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case wa:return x.key===R?h(S,y,x,T):null;case Zi:return x.key===R?p(S,y,x,T):null;case dr:return R=x._init,w(S,y,R(x._payload),T)}if(oo(x)||qs(x))return R!==null?null:_(S,y,x,T,null);Aa(S,x)}return null}function b(S,y,x,T,R){if(typeof T=="string"&&T!==""||typeof T=="number")return S=S.get(x)||null,c(y,S,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case wa:return S=S.get(T.key===null?x:T.key)||null,h(y,S,T,R);case Zi:return S=S.get(T.key===null?x:T.key)||null,p(y,S,T,R);case dr:var U=T._init;return b(S,y,x,U(T._payload),R)}if(oo(T)||qs(T))return S=S.get(x)||null,_(y,S,T,R,null);Aa(y,T)}return null}function O(S,y,x,T){for(var R=null,U=null,B=y,$=y=0,oe=null;B!==null&&$<x.length;$++){B.index>$?(oe=B,B=null):oe=B.sibling;var G=w(S,B,x[$],T);if(G===null){B===null&&(B=oe);break}e&&B&&G.alternate===null&&t(S,B),y=a(G,y,$),U===null?R=G:U.sibling=G,U=G,B=oe}if($===x.length)return n(S,B),je&&ni(S,$),R;if(B===null){for(;$<x.length;$++)B=g(S,x[$],T),B!==null&&(y=a(B,y,$),U===null?R=B:U.sibling=B,U=B);return je&&ni(S,$),R}for(B=r(S,B);$<x.length;$++)oe=b(B,S,$,x[$],T),oe!==null&&(e&&oe.alternate!==null&&B.delete(oe.key===null?$:oe.key),y=a(oe,y,$),U===null?R=oe:U.sibling=oe,U=oe);return e&&B.forEach(function(pe){return t(S,pe)}),je&&ni(S,$),R}function N(S,y,x,T){var R=qs(x);if(typeof R!="function")throw Error(Z(150));if(x=R.call(x),x==null)throw Error(Z(151));for(var U=R=null,B=y,$=y=0,oe=null,G=x.next();B!==null&&!G.done;$++,G=x.next()){B.index>$?(oe=B,B=null):oe=B.sibling;var pe=w(S,B,G.value,T);if(pe===null){B===null&&(B=oe);break}e&&B&&pe.alternate===null&&t(S,B),y=a(pe,y,$),U===null?R=pe:U.sibling=pe,U=pe,B=oe}if(G.done)return n(S,B),je&&ni(S,$),R;if(B===null){for(;!G.done;$++,G=x.next())G=g(S,G.value,T),G!==null&&(y=a(G,y,$),U===null?R=G:U.sibling=G,U=G);return je&&ni(S,$),R}for(B=r(S,B);!G.done;$++,G=x.next())G=b(B,S,$,G.value,T),G!==null&&(e&&G.alternate!==null&&B.delete(G.key===null?$:G.key),y=a(G,y,$),U===null?R=G:U.sibling=G,U=G);return e&&B.forEach(function(J){return t(S,J)}),je&&ni(S,$),R}function z(S,y,x,T){if(typeof x=="object"&&x!==null&&x.type===Hi&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case wa:e:{for(var R=x.key,U=y;U!==null;){if(U.key===R){if(R=x.type,R===Hi){if(U.tag===7){n(S,U.sibling),y=s(U,x.props.children),y.return=S,S=y;break e}}else if(U.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===dr&&Am(R)===U.type){n(S,U.sibling),y=s(U,x.props),y.ref=Js(S,U,x),y.return=S,S=y;break e}n(S,U);break}else t(S,U);U=U.sibling}x.type===Hi?(y=di(x.props.children,S.mode,T,x.key),y.return=S,S=y):(T=Ja(x.type,x.key,x.props,null,S.mode,T),T.ref=Js(S,y,x),T.return=S,S=T)}return l(S);case Zi:e:{for(U=x.key;y!==null;){if(y.key===U)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(S,y.sibling),y=s(y,x.children||[]),y.return=S,S=y;break e}else{n(S,y);break}else t(S,y);y=y.sibling}y=pc(x,S.mode,T),y.return=S,S=y}return l(S);case dr:return U=x._init,z(S,y,U(x._payload),T)}if(oo(x))return O(S,y,x,T);if(qs(x))return N(S,y,x,T);Aa(S,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(S,y.sibling),y=s(y,x),y.return=S,S=y):(n(S,y),y=fc(x,S.mode,T),y.return=S,S=y),l(S)):n(S,y)}return z}var ds=Fv(!0),Uv=Fv(!1),gl=Vr(null),_l=null,Xi=null,Dh=null;function Mh(){Dh=Xi=_l=null}function Bh(e){var t=gl.current;Ue(gl),e._currentValue=t}function _d(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function os(e,t){_l=e,Dh=Xi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Bt=!0),e.firstContext=null)}function ln(e){var t=e._currentValue;if(Dh!==e)if(e={context:e,memoizedValue:t,next:null},Xi===null){if(_l===null)throw Error(Z(308));Xi=e,_l.dependencies={lanes:0,firstContext:e}}else Xi=Xi.next=e;return t}var oi=null;function zh(e){oi===null?oi=[e]:oi.push(e)}function $v(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,zh(t)):(n.next=s.next,s.next=n),t.interleaved=n,tr(e,r)}function tr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var hr=!1;function Fh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Tr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,tr(e,n)}return s=r.interleaved,s===null?(t.next=t,zh(r)):(t.next=s.next,s.next=t),r.interleaved=t,tr(e,n)}function Wa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Eh(e,n)}}function Om(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=l:a=a.next=l,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function vl(e,t,n,r){var s=e.updateQueue;hr=!1;var a=s.firstBaseUpdate,l=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var h=c,p=h.next;h.next=null,l===null?a=p:l.next=p,l=h;var _=e.alternate;_!==null&&(_=_.updateQueue,c=_.lastBaseUpdate,c!==l&&(c===null?_.firstBaseUpdate=p:c.next=p,_.lastBaseUpdate=h))}if(a!==null){var g=s.baseState;l=0,_=p=h=null,c=a;do{var w=c.lane,b=c.eventTime;if((r&w)===w){_!==null&&(_=_.next={eventTime:b,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var O=e,N=c;switch(w=t,b=n,N.tag){case 1:if(O=N.payload,typeof O=="function"){g=O.call(b,g,w);break e}g=O;break e;case 3:O.flags=O.flags&-65537|128;case 0:if(O=N.payload,w=typeof O=="function"?O.call(b,g,w):O,w==null)break e;g=qe({},g,w);break e;case 2:hr=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,w=s.effects,w===null?s.effects=[c]:w.push(c))}else b={eventTime:b,lane:w,tag:c.tag,payload:c.payload,callback:c.callback,next:null},_===null?(p=_=b,h=g):_=_.next=b,l|=w;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;w=c,c=w.next,w.next=null,s.lastBaseUpdate=w,s.shared.pending=null}}while(1);if(_===null&&(h=g),s.baseState=h,s.firstBaseUpdate=p,s.lastBaseUpdate=_,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);gi|=l,e.lanes=l,e.memoizedState=g}}function Im(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Z(191,s));s.call(r)}}}var Qo={},Dn=Vr(Qo),Do=Vr(Qo),Mo=Vr(Qo);function ai(e){if(e===Qo)throw Error(Z(174));return e}function Uh(e,t){switch(Me(Mo,t),Me(Do,e),Me(Dn,Qo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Qc(t,e)}Ue(Dn),Me(Dn,t)}function hs(){Ue(Dn),Ue(Do),Ue(Mo)}function Vv(e){ai(Mo.current);var t=ai(Dn.current),n=Qc(t,e.type);t!==n&&(Me(Do,e),Me(Dn,n))}function $h(e){Do.current===e&&(Ue(Dn),Ue(Do))}var He=Vr(0);function yl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ac=[];function jh(){for(var e=0;e<ac.length;e++)ac[e]._workInProgressVersionPrimary=null;ac.length=0}var qa=sr.ReactCurrentDispatcher,lc=sr.ReactCurrentBatchConfig,mi=0,We=null,dt=null,mt=null,wl=!1,_o=!1,Bo=0,Qx=0;function xt(){throw Error(Z(321))}function Vh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xn(e[n],t[n]))return!1;return!0}function Zh(e,t,n,r,s,a){if(mi=a,We=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qa.current=e===null||e.memoizedState===null?tS:nS,e=n(r,s),_o){a=0;do{if(_o=!1,Bo=0,25<=a)throw Error(Z(301));a+=1,mt=dt=null,t.updateQueue=null,qa.current=rS,e=n(r,s)}while(_o)}if(qa.current=kl,t=dt!==null&&dt.next!==null,mi=0,mt=dt=We=null,wl=!1,t)throw Error(Z(300));return e}function Hh(){var e=Bo!==0;return Bo=0,e}function Nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?We.memoizedState=mt=e:mt=mt.next=e,mt}function un(){if(dt===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=dt.next;var t=mt===null?We.memoizedState:mt.next;if(t!==null)mt=t,dt=e;else{if(e===null)throw Error(Z(310));dt=e,e={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},mt===null?We.memoizedState=mt=e:mt=mt.next=e}return mt}function zo(e,t){return typeof t=="function"?t(e):t}function uc(e){var t=un(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var r=dt,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var l=s.next;s.next=a.next,a.next=l}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var c=l=null,h=null,p=a;do{var _=p.lane;if((mi&_)===_)h!==null&&(h=h.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:e(r,p.action);else{var g={lane:_,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};h===null?(c=h=g,l=r):h=h.next=g,We.lanes|=_,gi|=_}p=p.next}while(p!==null&&p!==a);h===null?l=r:h.next=c,xn(r,t.memoizedState)||(Bt=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=h,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,We.lanes|=a,gi|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function cc(e){var t=un(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do a=e(a,l.action),l=l.next;while(l!==s);xn(a,t.memoizedState)||(Bt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Zv(){}function Hv(e,t){var n=We,r=un(),s=t(),a=!xn(r.memoizedState,s);if(a&&(r.memoizedState=s,Bt=!0),r=r.queue,Wh(Kv.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||mt!==null&&mt.memoizedState.tag&1){if(n.flags|=2048,Fo(9,qv.bind(null,n,r,s,t),void 0,null),gt===null)throw Error(Z(349));mi&30||Wv(n,t,s)}return s}function Wv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function qv(e,t,n,r){t.value=n,t.getSnapshot=r,Gv(t)&&Yv(e)}function Kv(e,t,n){return n(function(){Gv(t)&&Yv(e)})}function Gv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xn(e,n)}catch{return!0}}function Yv(e){var t=tr(e,1);t!==null&&kn(t,e,1,-1)}function Rm(e){var t=Nn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:e},t.queue=e,e=e.dispatch=eS.bind(null,We,e),[t.memoizedState,e]}function Fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Qv(){return un().memoizedState}function Ka(e,t,n,r){var s=Nn();We.flags|=e,s.memoizedState=Fo(1|t,n,void 0,r===void 0?null:r)}function Kl(e,t,n,r){var s=un();r=r===void 0?null:r;var a=void 0;if(dt!==null){var l=dt.memoizedState;if(a=l.destroy,r!==null&&Vh(r,l.deps)){s.memoizedState=Fo(t,n,a,r);return}}We.flags|=e,s.memoizedState=Fo(1|t,n,a,r)}function Dm(e,t){return Ka(8390656,8,e,t)}function Wh(e,t){return Kl(2048,8,e,t)}function Jv(e,t){return Kl(4,2,e,t)}function Xv(e,t){return Kl(4,4,e,t)}function ey(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ty(e,t,n){return n=n!=null?n.concat([e]):null,Kl(4,4,ey.bind(null,t,e),n)}function qh(){}function ny(e,t){var n=un();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ry(e,t){var n=un();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function iy(e,t,n){return mi&21?(xn(n,t)||(n=uv(),We.lanes|=n,gi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Bt=!0),e.memoizedState=n)}function Jx(e,t){var n=Ie;Ie=n!==0&&4>n?n:4,e(!0);var r=lc.transition;lc.transition={};try{e(!1),t()}finally{Ie=n,lc.transition=r}}function sy(){return un().memoizedState}function Xx(e,t,n){var r=Pr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},oy(e))ay(t,n);else if(n=$v(e,t,n,r),n!==null){var s=Nt();kn(n,e,r,s),ly(n,t,r)}}function eS(e,t,n){var r=Pr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(oy(e))ay(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,c=a(l,n);if(s.hasEagerState=!0,s.eagerState=c,xn(c,l)){var h=t.interleaved;h===null?(s.next=s,zh(t)):(s.next=h.next,h.next=s),t.interleaved=s;return}}catch{}finally{}n=$v(e,t,s,r),n!==null&&(s=Nt(),kn(n,e,r,s),ly(n,t,r))}}function oy(e){var t=e.alternate;return e===We||t!==null&&t===We}function ay(e,t){_o=wl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ly(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Eh(e,n)}}var kl={readContext:ln,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},tS={readContext:ln,useCallback:function(e,t){return Nn().memoizedState=[e,t===void 0?null:t],e},useContext:ln,useEffect:Dm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ka(4194308,4,ey.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ka(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ka(4,2,e,t)},useMemo:function(e,t){var n=Nn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Nn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Xx.bind(null,We,e),[r.memoizedState,e]},useRef:function(e){var t=Nn();return e={current:e},t.memoizedState=e},useState:Rm,useDebugValue:qh,useDeferredValue:function(e){return Nn().memoizedState=e},useTransition:function(){var e=Rm(!1),t=e[0];return e=Jx.bind(null,e[1]),Nn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=We,s=Nn();if(je){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=t(),gt===null)throw Error(Z(349));mi&30||Wv(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,Dm(Kv.bind(null,r,a,e),[e]),r.flags|=2048,Fo(9,qv.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Nn(),t=gt.identifierPrefix;if(je){var n=Yn,r=Gn;n=(r&~(1<<32-wn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Bo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Qx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},nS={readContext:ln,useCallback:ny,useContext:ln,useEffect:Wh,useImperativeHandle:ty,useInsertionEffect:Jv,useLayoutEffect:Xv,useMemo:ry,useReducer:uc,useRef:Qv,useState:function(){return uc(zo)},useDebugValue:qh,useDeferredValue:function(e){var t=un();return iy(t,dt.memoizedState,e)},useTransition:function(){var e=uc(zo)[0],t=un().memoizedState;return[e,t]},useMutableSource:Zv,useSyncExternalStore:Hv,useId:sy,unstable_isNewReconciler:!1},rS={readContext:ln,useCallback:ny,useContext:ln,useEffect:Wh,useImperativeHandle:ty,useInsertionEffect:Jv,useLayoutEffect:Xv,useMemo:ry,useReducer:cc,useRef:Qv,useState:function(){return cc(zo)},useDebugValue:qh,useDeferredValue:function(e){var t=un();return dt===null?t.memoizedState=e:iy(t,dt.memoizedState,e)},useTransition:function(){var e=cc(zo)[0],t=un().memoizedState;return[e,t]},useMutableSource:Zv,useSyncExternalStore:Hv,useId:sy,unstable_isNewReconciler:!1};function pn(e,t){if(e&&e.defaultProps){t=qe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function vd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:qe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Gl={isMounted:function(e){return(e=e._reactInternals)?bi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Nt(),s=Pr(e),a=Qn(r,s);a.payload=t,n!=null&&(a.callback=n),t=Tr(e,a,s),t!==null&&(kn(t,e,s,r),Wa(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Nt(),s=Pr(e),a=Qn(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Tr(e,a,s),t!==null&&(kn(t,e,s,r),Wa(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Nt(),r=Pr(e),s=Qn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Tr(e,s,r),t!==null&&(kn(t,e,r,n),Wa(t,e,r))}};function Mm(e,t,n,r,s,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,l):t.prototype&&t.prototype.isPureReactComponent?!Ao(n,r)||!Ao(s,a):!0}function uy(e,t,n){var r=!1,s=Br,a=t.contextType;return typeof a=="object"&&a!==null?a=ln(a):(s=Ft(t)?fi:bt.current,r=t.contextTypes,a=(r=r!=null)?us(e,s):Br),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Bm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Gl.enqueueReplaceState(t,t.state,null)}function yd(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Fh(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=ln(a):(a=Ft(t)?fi:bt.current,s.context=us(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(vd(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Gl.enqueueReplaceState(s,s.state,null),vl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function fs(e,t){try{var n="",r=t;do n+=A1(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function dc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function wd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var iS=typeof WeakMap=="function"?WeakMap:Map;function cy(e,t,n){n=Qn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Sl||(Sl=!0,Nd=r),wd(e,t)},n}function dy(e,t,n){n=Qn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){wd(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){wd(e,t),typeof r!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function zm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new iS;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=vS.bind(null,e,t,n),t.then(e,e))}function Fm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Um(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Qn(-1,1),t.tag=2,Tr(n,t,1))),n.lanes|=1),e)}var sS=sr.ReactCurrentOwner,Bt=!1;function Lt(e,t,n,r){t.child=e===null?Uv(t,null,n,r):ds(t,e.child,n,r)}function $m(e,t,n,r,s){n=n.render;var a=t.ref;return os(t,s),r=Zh(e,t,n,r,a,s),n=Hh(),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,nr(e,t,s)):(je&&n&&Oh(t),t.flags|=1,Lt(e,t,r,s),t.child)}function jm(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!tf(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,hy(e,t,a,r,s)):(e=Ja(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var l=a.memoizedProps;if(n=n.compare,n=n!==null?n:Ao,n(l,r)&&e.ref===t.ref)return nr(e,t,s)}return t.flags|=1,e=Lr(a,r),e.ref=t.ref,e.return=t,t.child=e}function hy(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(Ao(a,r)&&e.ref===t.ref)if(Bt=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(Bt=!0);else return t.lanes=e.lanes,nr(e,t,s)}return kd(e,t,n,r,s)}function fy(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(ts,jt),jt|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Me(ts,jt),jt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Me(ts,jt),jt|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Me(ts,jt),jt|=r;return Lt(e,t,s,n),t.child}function py(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function kd(e,t,n,r,s){var a=Ft(n)?fi:bt.current;return a=us(t,a),os(t,s),n=Zh(e,t,n,r,a,s),r=Hh(),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,nr(e,t,s)):(je&&r&&Oh(t),t.flags|=1,Lt(e,t,n,s),t.child)}function Vm(e,t,n,r,s){if(Ft(n)){var a=!0;fl(t)}else a=!1;if(os(t,s),t.stateNode===null)Ga(e,t),uy(t,n,r),yd(t,n,r,s),r=!0;else if(e===null){var l=t.stateNode,c=t.memoizedProps;l.props=c;var h=l.context,p=n.contextType;typeof p=="object"&&p!==null?p=ln(p):(p=Ft(n)?fi:bt.current,p=us(t,p));var _=n.getDerivedStateFromProps,g=typeof _=="function"||typeof l.getSnapshotBeforeUpdate=="function";g||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==r||h!==p)&&Bm(t,l,r,p),hr=!1;var w=t.memoizedState;l.state=w,vl(t,r,l,s),h=t.memoizedState,c!==r||w!==h||zt.current||hr?(typeof _=="function"&&(vd(t,n,_,r),h=t.memoizedState),(c=hr||Mm(t,n,c,r,w,h,p))?(g||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=h),l.props=r,l.state=h,l.context=p,r=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,jv(e,t),c=t.memoizedProps,p=t.type===t.elementType?c:pn(t.type,c),l.props=p,g=t.pendingProps,w=l.context,h=n.contextType,typeof h=="object"&&h!==null?h=ln(h):(h=Ft(n)?fi:bt.current,h=us(t,h));var b=n.getDerivedStateFromProps;(_=typeof b=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==g||w!==h)&&Bm(t,l,r,h),hr=!1,w=t.memoizedState,l.state=w,vl(t,r,l,s);var O=t.memoizedState;c!==g||w!==O||zt.current||hr?(typeof b=="function"&&(vd(t,n,b,r),O=t.memoizedState),(p=hr||Mm(t,n,p,r,w,O,h)||!1)?(_||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,O,h),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,O,h)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=O),l.props=r,l.state=O,l.context=h,r=p):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),r=!1)}return xd(e,t,n,r,a,s)}function xd(e,t,n,r,s,a){py(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return s&&Pm(t,n,!1),nr(e,t,a);r=t.stateNode,sS.current=t;var c=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=ds(t,e.child,null,a),t.child=ds(t,null,c,a)):Lt(e,t,c,a),t.memoizedState=r.state,s&&Pm(t,n,!0),t.child}function my(e){var t=e.stateNode;t.pendingContext?Cm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cm(e,t.context,!1),Uh(e,t.containerInfo)}function Zm(e,t,n,r,s){return cs(),Rh(s),t.flags|=256,Lt(e,t,n,r),t.child}var Sd={dehydrated:null,treeContext:null,retryLane:0};function Ed(e){return{baseLanes:e,cachePool:null,transitions:null}}function gy(e,t,n){var r=t.pendingProps,s=He.current,a=!1,l=(t.flags&128)!==0,c;if((c=l)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Me(He,s&1),e===null)return gd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,a?(r=t.mode,a=t.child,l={mode:"hidden",children:l},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=Jl(l,r,0,null),e=di(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ed(n),t.memoizedState=Sd,e):Kh(t,l));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return oS(e,t,l,r,c,s,n);if(a){a=r.fallback,l=t.mode,s=e.child,c=s.sibling;var h={mode:"hidden",children:r.children};return!(l&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=h,t.deletions=null):(r=Lr(s,h),r.subtreeFlags=s.subtreeFlags&14680064),c!==null?a=Lr(c,a):(a=di(a,l,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,l=e.child.memoizedState,l=l===null?Ed(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Sd,r}return a=e.child,e=a.sibling,r=Lr(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Kh(e,t){return t=Jl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Oa(e,t,n,r){return r!==null&&Rh(r),ds(t,e.child,null,n),e=Kh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function oS(e,t,n,r,s,a,l){if(n)return t.flags&256?(t.flags&=-257,r=dc(Error(Z(422))),Oa(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=Jl({mode:"visible",children:r.children},s,0,null),a=di(a,s,l,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&ds(t,e.child,null,l),t.child.memoizedState=Ed(l),t.memoizedState=Sd,a);if(!(t.mode&1))return Oa(e,t,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var c=r.dgst;return r=c,a=Error(Z(419)),r=dc(a,r,void 0),Oa(e,t,l,r)}if(c=(l&e.childLanes)!==0,Bt||c){if(r=gt,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,tr(e,s),kn(r,e,s,-1))}return ef(),r=dc(Error(Z(421))),Oa(e,t,l,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=yS.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Zt=br(s.nextSibling),Wt=t,je=!0,_n=null,e!==null&&(tn[nn++]=Gn,tn[nn++]=Yn,tn[nn++]=pi,Gn=e.id,Yn=e.overflow,pi=t),t=Kh(t,r.children),t.flags|=4096,t)}function Hm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),_d(e.return,t,n)}function hc(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function _y(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(Lt(e,t,r.children,n),r=He.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hm(e,n,t);else if(e.tag===19)Hm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Me(He,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&yl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),hc(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&yl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}hc(t,!0,n,null,a);break;case"together":hc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ga(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function nr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,n=Lr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Lr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function aS(e,t,n){switch(t.tag){case 3:my(t),cs();break;case 5:Vv(t);break;case 1:Ft(t.type)&&fl(t);break;case 4:Uh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Me(gl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Me(He,He.current&1),t.flags|=128,null):n&t.child.childLanes?gy(e,t,n):(Me(He,He.current&1),e=nr(e,t,n),e!==null?e.sibling:null);Me(He,He.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return _y(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Me(He,He.current),r)break;return null;case 22:case 23:return t.lanes=0,fy(e,t,n)}return nr(e,t,n)}var vy,bd,yy,wy;vy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bd=function(){};yy=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,ai(Dn.current);var a=null;switch(n){case"input":s=qc(e,s),r=qc(e,r),a=[];break;case"select":s=qe({},s,{value:void 0}),r=qe({},r,{value:void 0}),a=[];break;case"textarea":s=Yc(e,s),r=Yc(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=dl)}Jc(n,r);var l;n=null;for(p in s)if(!r.hasOwnProperty(p)&&s.hasOwnProperty(p)&&s[p]!=null)if(p==="style"){var c=s[p];for(l in c)c.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(Eo.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in r){var h=r[p];if(c=s!=null?s[p]:void 0,r.hasOwnProperty(p)&&h!==c&&(h!=null||c!=null))if(p==="style")if(c){for(l in c)!c.hasOwnProperty(l)||h&&h.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in h)h.hasOwnProperty(l)&&c[l]!==h[l]&&(n||(n={}),n[l]=h[l])}else n||(a||(a=[]),a.push(p,n)),n=h;else p==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,c=c?c.__html:void 0,h!=null&&c!==h&&(a=a||[]).push(p,h)):p==="children"?typeof h!="string"&&typeof h!="number"||(a=a||[]).push(p,""+h):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(Eo.hasOwnProperty(p)?(h!=null&&p==="onScroll"&&Be("scroll",e),a||c===h||(a=[])):(a=a||[]).push(p,h))}n&&(a=a||[]).push("style",n);var p=a;(t.updateQueue=p)&&(t.flags|=4)}};wy=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xs(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function St(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function lS(e,t,n){var r=t.pendingProps;switch(Ih(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(t),null;case 1:return Ft(t.type)&&hl(),St(t),null;case 3:return r=t.stateNode,hs(),Ue(zt),Ue(bt),jh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Na(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_n!==null&&(Id(_n),_n=null))),bd(e,t),St(t),null;case 5:$h(t);var s=ai(Mo.current);if(n=t.type,e!==null&&t.stateNode!=null)yy(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Z(166));return St(t),null}if(e=ai(Dn.current),Na(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[On]=t,r[Ro]=a,e=(t.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(s=0;s<lo.length;s++)Be(lo[s],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":em(r,a),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Be("invalid",r);break;case"textarea":nm(r,a),Be("invalid",r)}Jc(n,a),s=null;for(var l in a)if(a.hasOwnProperty(l)){var c=a[l];l==="children"?typeof c=="string"?r.textContent!==c&&(a.suppressHydrationWarning!==!0&&La(r.textContent,c,e),s=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&La(r.textContent,c,e),s=["children",""+c]):Eo.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&Be("scroll",r)}switch(n){case"input":ka(r),tm(r,a,!0);break;case"textarea":ka(r),rm(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=dl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=K_(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[On]=t,e[Ro]=r,vy(e,t,!1,!1),t.stateNode=e;e:{switch(l=Xc(n,r),n){case"dialog":Be("cancel",e),Be("close",e),s=r;break;case"iframe":case"object":case"embed":Be("load",e),s=r;break;case"video":case"audio":for(s=0;s<lo.length;s++)Be(lo[s],e);s=r;break;case"source":Be("error",e),s=r;break;case"img":case"image":case"link":Be("error",e),Be("load",e),s=r;break;case"details":Be("toggle",e),s=r;break;case"input":em(e,r),s=qc(e,r),Be("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=qe({},r,{value:void 0}),Be("invalid",e);break;case"textarea":nm(e,r),s=Yc(e,r),Be("invalid",e);break;default:s=r}Jc(n,s),c=s;for(a in c)if(c.hasOwnProperty(a)){var h=c[a];a==="style"?Q_(e,h):a==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&G_(e,h)):a==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&bo(e,h):typeof h=="number"&&bo(e,""+h):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Eo.hasOwnProperty(a)?h!=null&&a==="onScroll"&&Be("scroll",e):h!=null&&vh(e,a,h,l))}switch(n){case"input":ka(e),tm(e,r,!1);break;case"textarea":ka(e),rm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Mr(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?ns(e,!!r.multiple,a,!1):r.defaultValue!=null&&ns(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=dl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return St(t),null;case 6:if(e&&t.stateNode!=null)wy(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Z(166));if(n=ai(Mo.current),ai(Dn.current),Na(t)){if(r=t.stateNode,n=t.memoizedProps,r[On]=t,(a=r.nodeValue!==n)&&(e=Wt,e!==null))switch(e.tag){case 3:La(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&La(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[On]=t,t.stateNode=r}return St(t),null;case 13:if(Ue(He),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&Zt!==null&&t.mode&1&&!(t.flags&128))zv(),cs(),t.flags|=98560,a=!1;else if(a=Na(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Z(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Z(317));a[On]=t}else cs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;St(t),a=!1}else _n!==null&&(Id(_n),_n=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||He.current&1?ht===0&&(ht=3):ef())),t.updateQueue!==null&&(t.flags|=4),St(t),null);case 4:return hs(),bd(e,t),e===null&&Oo(t.stateNode.containerInfo),St(t),null;case 10:return Bh(t.type._context),St(t),null;case 17:return Ft(t.type)&&hl(),St(t),null;case 19:if(Ue(He),a=t.memoizedState,a===null)return St(t),null;if(r=(t.flags&128)!==0,l=a.rendering,l===null)if(r)Xs(a,!1);else{if(ht!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=yl(e),l!==null){for(t.flags|=128,Xs(a,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Me(He,He.current&1|2),t.child}e=e.sibling}a.tail!==null&&et()>ps&&(t.flags|=128,r=!0,Xs(a,!1),t.lanes=4194304)}else{if(!r)if(e=yl(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xs(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!je)return St(t),null}else 2*et()-a.renderingStartTime>ps&&n!==1073741824&&(t.flags|=128,r=!0,Xs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(n=a.last,n!==null?n.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=et(),t.sibling=null,n=He.current,Me(He,r?n&1|2:n&1),t):(St(t),null);case 22:case 23:return Xh(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?jt&1073741824&&(St(t),t.subtreeFlags&6&&(t.flags|=8192)):St(t),null;case 24:return null;case 25:return null}throw Error(Z(156,t.tag))}function uS(e,t){switch(Ih(t),t.tag){case 1:return Ft(t.type)&&hl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hs(),Ue(zt),Ue(bt),jh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $h(t),null;case 13:if(Ue(He),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));cs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ue(He),null;case 4:return hs(),null;case 10:return Bh(t.type._context),null;case 22:case 23:return Xh(),null;case 24:return null;default:return null}}var Ia=!1,Et=!1,cS=typeof WeakSet=="function"?WeakSet:Set,X=null;function es(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ge(e,t,r)}else n.current=null}function Td(e,t,n){try{n()}catch(r){Ge(e,t,r)}}var Wm=!1;function dS(e,t){if(ud=ll,e=bv(),Ah(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var l=0,c=-1,h=-1,p=0,_=0,g=e,w=null;t:for(;;){for(var b;g!==n||s!==0&&g.nodeType!==3||(c=l+s),g!==a||r!==0&&g.nodeType!==3||(h=l+r),g.nodeType===3&&(l+=g.nodeValue.length),(b=g.firstChild)!==null;)w=g,g=b;for(;;){if(g===e)break t;if(w===n&&++p===s&&(c=l),w===a&&++_===r&&(h=l),(b=g.nextSibling)!==null)break;g=w,w=g.parentNode}g=b}n=c===-1||h===-1?null:{start:c,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(cd={focusedElem:e,selectionRange:n},ll=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var O=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(O!==null){var N=O.memoizedProps,z=O.memoizedState,S=t.stateNode,y=S.getSnapshotBeforeUpdate(t.elementType===t.type?N:pn(t.type,N),z);S.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(T){Ge(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return O=Wm,Wm=!1,O}function vo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Td(t,n,a)}s=s.next}while(s!==r)}}function Yl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Cd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ky(e){var t=e.alternate;t!==null&&(e.alternate=null,ky(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[On],delete t[Ro],delete t[fd],delete t[qx],delete t[Kx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xy(e){return e.tag===5||e.tag===3||e.tag===4}function qm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=dl));else if(r!==4&&(e=e.child,e!==null))for(Pd(e,t,n),e=e.sibling;e!==null;)Pd(e,t,n),e=e.sibling}function Ld(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ld(e,t,n),e=e.sibling;e!==null;)Ld(e,t,n),e=e.sibling}var vt=null,mn=!1;function cr(e,t,n){for(n=n.child;n!==null;)Sy(e,t,n),n=n.sibling}function Sy(e,t,n){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(jl,n)}catch{}switch(n.tag){case 5:Et||es(n,t);case 6:var r=vt,s=mn;vt=null,cr(e,t,n),vt=r,mn=s,vt!==null&&(mn?(e=vt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):vt.removeChild(n.stateNode));break;case 18:vt!==null&&(mn?(e=vt,n=n.stateNode,e.nodeType===8?sc(e.parentNode,n):e.nodeType===1&&sc(e,n),Lo(e)):sc(vt,n.stateNode));break;case 4:r=vt,s=mn,vt=n.stateNode.containerInfo,mn=!0,cr(e,t,n),vt=r,mn=s;break;case 0:case 11:case 14:case 15:if(!Et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&Td(n,t,l),s=s.next}while(s!==r)}cr(e,t,n);break;case 1:if(!Et&&(es(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Ge(n,t,c)}cr(e,t,n);break;case 21:cr(e,t,n);break;case 22:n.mode&1?(Et=(r=Et)||n.memoizedState!==null,cr(e,t,n),Et=r):cr(e,t,n);break;default:cr(e,t,n)}}function Km(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new cS),t.forEach(function(r){var s=wS.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function fn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,l=t,c=l;e:for(;c!==null;){switch(c.tag){case 5:vt=c.stateNode,mn=!1;break e;case 3:vt=c.stateNode.containerInfo,mn=!0;break e;case 4:vt=c.stateNode.containerInfo,mn=!0;break e}c=c.return}if(vt===null)throw Error(Z(160));Sy(a,l,s),vt=null,mn=!1;var h=s.alternate;h!==null&&(h.return=null),s.return=null}catch(p){Ge(s,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ey(t,e),t=t.sibling}function Ey(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fn(t,e),Ln(e),r&4){try{vo(3,e,e.return),Yl(3,e)}catch(N){Ge(e,e.return,N)}try{vo(5,e,e.return)}catch(N){Ge(e,e.return,N)}}break;case 1:fn(t,e),Ln(e),r&512&&n!==null&&es(n,n.return);break;case 5:if(fn(t,e),Ln(e),r&512&&n!==null&&es(n,n.return),e.flags&32){var s=e.stateNode;try{bo(s,"")}catch(N){Ge(e,e.return,N)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,l=n!==null?n.memoizedProps:a,c=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&W_(s,a),Xc(c,l);var p=Xc(c,a);for(l=0;l<h.length;l+=2){var _=h[l],g=h[l+1];_==="style"?Q_(s,g):_==="dangerouslySetInnerHTML"?G_(s,g):_==="children"?bo(s,g):vh(s,_,g,p)}switch(c){case"input":Kc(s,a);break;case"textarea":q_(s,a);break;case"select":var w=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var b=a.value;b!=null?ns(s,!!a.multiple,b,!1):w!==!!a.multiple&&(a.defaultValue!=null?ns(s,!!a.multiple,a.defaultValue,!0):ns(s,!!a.multiple,a.multiple?[]:"",!1))}s[Ro]=a}catch(N){Ge(e,e.return,N)}}break;case 6:if(fn(t,e),Ln(e),r&4){if(e.stateNode===null)throw Error(Z(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(N){Ge(e,e.return,N)}}break;case 3:if(fn(t,e),Ln(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Lo(t.containerInfo)}catch(N){Ge(e,e.return,N)}break;case 4:fn(t,e),Ln(e);break;case 13:fn(t,e),Ln(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Qh=et())),r&4&&Km(e);break;case 22:if(_=n!==null&&n.memoizedState!==null,e.mode&1?(Et=(p=Et)||_,fn(t,e),Et=p):fn(t,e),Ln(e),r&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!_&&e.mode&1)for(X=e,_=e.child;_!==null;){for(g=X=_;X!==null;){switch(w=X,b=w.child,w.tag){case 0:case 11:case 14:case 15:vo(4,w,w.return);break;case 1:es(w,w.return);var O=w.stateNode;if(typeof O.componentWillUnmount=="function"){r=w,n=w.return;try{t=r,O.props=t.memoizedProps,O.state=t.memoizedState,O.componentWillUnmount()}catch(N){Ge(r,n,N)}}break;case 5:es(w,w.return);break;case 22:if(w.memoizedState!==null){Ym(g);continue}}b!==null?(b.return=w,X=b):Ym(g)}_=_.sibling}e:for(_=null,g=e;;){if(g.tag===5){if(_===null){_=g;try{s=g.stateNode,p?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=g.stateNode,h=g.memoizedProps.style,l=h!=null&&h.hasOwnProperty("display")?h.display:null,c.style.display=Y_("display",l))}catch(N){Ge(e,e.return,N)}}}else if(g.tag===6){if(_===null)try{g.stateNode.nodeValue=p?"":g.memoizedProps}catch(N){Ge(e,e.return,N)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;_===g&&(_=null),g=g.return}_===g&&(_=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:fn(t,e),Ln(e),r&4&&Km(e);break;case 21:break;default:fn(t,e),Ln(e)}}function Ln(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(xy(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(bo(s,""),r.flags&=-33);var a=qm(e);Ld(e,a,s);break;case 3:case 4:var l=r.stateNode.containerInfo,c=qm(e);Pd(e,c,l);break;default:throw Error(Z(161))}}catch(h){Ge(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hS(e,t,n){X=e,by(e)}function by(e,t,n){for(var r=(e.mode&1)!==0;X!==null;){var s=X,a=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||Ia;if(!l){var c=s.alternate,h=c!==null&&c.memoizedState!==null||Et;c=Ia;var p=Et;if(Ia=l,(Et=h)&&!p)for(X=s;X!==null;)l=X,h=l.child,l.tag===22&&l.memoizedState!==null?Qm(s):h!==null?(h.return=l,X=h):Qm(s);for(;a!==null;)X=a,by(a),a=a.sibling;X=s,Ia=c,Et=p}Gm(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,X=a):Gm(e)}}function Gm(e){for(;X!==null;){var t=X;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Et||Yl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Et)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:pn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Im(t,a,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Im(t,l,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var _=p.memoizedState;if(_!==null){var g=_.dehydrated;g!==null&&Lo(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}Et||t.flags&512&&Cd(t)}catch(w){Ge(t,t.return,w)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function Ym(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function Qm(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Yl(4,t)}catch(h){Ge(t,n,h)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(h){Ge(t,s,h)}}var a=t.return;try{Cd(t)}catch(h){Ge(t,a,h)}break;case 5:var l=t.return;try{Cd(t)}catch(h){Ge(t,l,h)}}}catch(h){Ge(t,t.return,h)}if(t===e){X=null;break}var c=t.sibling;if(c!==null){c.return=t.return,X=c;break}X=t.return}}var fS=Math.ceil,xl=sr.ReactCurrentDispatcher,Gh=sr.ReactCurrentOwner,an=sr.ReactCurrentBatchConfig,be=0,gt=null,at=null,yt=0,jt=0,ts=Vr(0),ht=0,Uo=null,gi=0,Ql=0,Yh=0,yo=null,Mt=null,Qh=0,ps=1/0,Wn=null,Sl=!1,Nd=null,Cr=null,Ra=!1,yr=null,El=0,wo=0,Ad=null,Ya=-1,Qa=0;function Nt(){return be&6?et():Ya!==-1?Ya:Ya=et()}function Pr(e){return e.mode&1?be&2&&yt!==0?yt&-yt:Yx.transition!==null?(Qa===0&&(Qa=uv()),Qa):(e=Ie,e!==0||(e=window.event,e=e===void 0?16:gv(e.type)),e):1}function kn(e,t,n,r){if(50<wo)throw wo=0,Ad=null,Error(Z(185));Ko(e,n,r),(!(be&2)||e!==gt)&&(e===gt&&(!(be&2)&&(Ql|=n),ht===4&&mr(e,yt)),Ut(e,r),n===1&&be===0&&!(t.mode&1)&&(ps=et()+500,ql&&Zr()))}function Ut(e,t){var n=e.callbackNode;Y1(e,t);var r=al(e,e===gt?yt:0);if(r===0)n!==null&&om(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&om(n),t===1)e.tag===0?Gx(Jm.bind(null,e)):Dv(Jm.bind(null,e)),Hx(function(){!(be&6)&&Zr()}),n=null;else{switch(cv(r)){case 1:n=Sh;break;case 4:n=av;break;case 16:n=ol;break;case 536870912:n=lv;break;default:n=ol}n=Iy(n,Ty.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ty(e,t){if(Ya=-1,Qa=0,be&6)throw Error(Z(327));var n=e.callbackNode;if(as()&&e.callbackNode!==n)return null;var r=al(e,e===gt?yt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=bl(e,r);else{t=r;var s=be;be|=2;var a=Py();(gt!==e||yt!==t)&&(Wn=null,ps=et()+500,ci(e,t));do try{gS();break}catch(c){Cy(e,c)}while(1);Mh(),xl.current=a,be=s,at!==null?t=0:(gt=null,yt=0,t=ht)}if(t!==0){if(t===2&&(s=id(e),s!==0&&(r=s,t=Od(e,s))),t===1)throw n=Uo,ci(e,0),mr(e,r),Ut(e,et()),n;if(t===6)mr(e,r);else{if(s=e.current.alternate,!(r&30)&&!pS(s)&&(t=bl(e,r),t===2&&(a=id(e),a!==0&&(r=a,t=Od(e,a))),t===1))throw n=Uo,ci(e,0),mr(e,r),Ut(e,et()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(Z(345));case 2:ri(e,Mt,Wn);break;case 3:if(mr(e,r),(r&130023424)===r&&(t=Qh+500-et(),10<t)){if(al(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Nt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=hd(ri.bind(null,e,Mt,Wn),t);break}ri(e,Mt,Wn);break;case 4:if(mr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-wn(r);a=1<<l,l=t[l],l>s&&(s=l),r&=~a}if(r=s,r=et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fS(r/1960))-r,10<r){e.timeoutHandle=hd(ri.bind(null,e,Mt,Wn),r);break}ri(e,Mt,Wn);break;case 5:ri(e,Mt,Wn);break;default:throw Error(Z(329))}}}return Ut(e,et()),e.callbackNode===n?Ty.bind(null,e):null}function Od(e,t){var n=yo;return e.current.memoizedState.isDehydrated&&(ci(e,t).flags|=256),e=bl(e,t),e!==2&&(t=Mt,Mt=n,t!==null&&Id(t)),e}function Id(e){Mt===null?Mt=e:Mt.push.apply(Mt,e)}function pS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!xn(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mr(e,t){for(t&=~Yh,t&=~Ql,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wn(t),r=1<<n;e[n]=-1,t&=~r}}function Jm(e){if(be&6)throw Error(Z(327));as();var t=al(e,0);if(!(t&1))return Ut(e,et()),null;var n=bl(e,t);if(e.tag!==0&&n===2){var r=id(e);r!==0&&(t=r,n=Od(e,r))}if(n===1)throw n=Uo,ci(e,0),mr(e,t),Ut(e,et()),n;if(n===6)throw Error(Z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ri(e,Mt,Wn),Ut(e,et()),null}function Jh(e,t){var n=be;be|=1;try{return e(t)}finally{be=n,be===0&&(ps=et()+500,ql&&Zr())}}function _i(e){yr!==null&&yr.tag===0&&!(be&6)&&as();var t=be;be|=1;var n=an.transition,r=Ie;try{if(an.transition=null,Ie=1,e)return e()}finally{Ie=r,an.transition=n,be=t,!(be&6)&&Zr()}}function Xh(){jt=ts.current,Ue(ts)}function ci(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Zx(n)),at!==null)for(n=at.return;n!==null;){var r=n;switch(Ih(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hl();break;case 3:hs(),Ue(zt),Ue(bt),jh();break;case 5:$h(r);break;case 4:hs();break;case 13:Ue(He);break;case 19:Ue(He);break;case 10:Bh(r.type._context);break;case 22:case 23:Xh()}n=n.return}if(gt=e,at=e=Lr(e.current,null),yt=jt=t,ht=0,Uo=null,Yh=Ql=gi=0,Mt=yo=null,oi!==null){for(t=0;t<oi.length;t++)if(n=oi[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var l=a.next;a.next=s,r.next=l}n.pending=r}oi=null}return e}function Cy(e,t){do{var n=at;try{if(Mh(),qa.current=kl,wl){for(var r=We.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}wl=!1}if(mi=0,mt=dt=We=null,_o=!1,Bo=0,Gh.current=null,n===null||n.return===null){ht=1,Uo=t,at=null;break}e:{var a=e,l=n.return,c=n,h=t;if(t=yt,c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var p=h,_=c,g=_.tag;if(!(_.mode&1)&&(g===0||g===11||g===15)){var w=_.alternate;w?(_.updateQueue=w.updateQueue,_.memoizedState=w.memoizedState,_.lanes=w.lanes):(_.updateQueue=null,_.memoizedState=null)}var b=Fm(l);if(b!==null){b.flags&=-257,Um(b,l,c,a,t),b.mode&1&&zm(a,p,t),t=b,h=p;var O=t.updateQueue;if(O===null){var N=new Set;N.add(h),t.updateQueue=N}else O.add(h);break e}else{if(!(t&1)){zm(a,p,t),ef();break e}h=Error(Z(426))}}else if(je&&c.mode&1){var z=Fm(l);if(z!==null){!(z.flags&65536)&&(z.flags|=256),Um(z,l,c,a,t),Rh(fs(h,c));break e}}a=h=fs(h,c),ht!==4&&(ht=2),yo===null?yo=[a]:yo.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var S=cy(a,h,t);Om(a,S);break e;case 1:c=h;var y=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Cr===null||!Cr.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var T=dy(a,c,t);Om(a,T);break e}}a=a.return}while(a!==null)}Ny(n)}catch(R){t=R,at===n&&n!==null&&(at=n=n.return);continue}break}while(1)}function Py(){var e=xl.current;return xl.current=kl,e===null?kl:e}function ef(){(ht===0||ht===3||ht===2)&&(ht=4),gt===null||!(gi&268435455)&&!(Ql&268435455)||mr(gt,yt)}function bl(e,t){var n=be;be|=2;var r=Py();(gt!==e||yt!==t)&&(Wn=null,ci(e,t));do try{mS();break}catch(s){Cy(e,s)}while(1);if(Mh(),be=n,xl.current=r,at!==null)throw Error(Z(261));return gt=null,yt=0,ht}function mS(){for(;at!==null;)Ly(at)}function gS(){for(;at!==null&&!$1();)Ly(at)}function Ly(e){var t=Oy(e.alternate,e,jt);e.memoizedProps=e.pendingProps,t===null?Ny(e):at=t,Gh.current=null}function Ny(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=uS(n,t),n!==null){n.flags&=32767,at=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ht=6,at=null;return}}else if(n=lS(n,t,jt),n!==null){at=n;return}if(t=t.sibling,t!==null){at=t;return}at=t=e}while(t!==null);ht===0&&(ht=5)}function ri(e,t,n){var r=Ie,s=an.transition;try{an.transition=null,Ie=1,_S(e,t,n,r)}finally{an.transition=s,Ie=r}return null}function _S(e,t,n,r){do as();while(yr!==null);if(be&6)throw Error(Z(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Z(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Q1(e,a),e===gt&&(at=gt=null,yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ra||(Ra=!0,Iy(ol,function(){return as(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=an.transition,an.transition=null;var l=Ie;Ie=1;var c=be;be|=4,Gh.current=null,dS(e,n),Ey(n,e),Bx(cd),ll=!!ud,cd=ud=null,e.current=n,hS(n),j1(),be=c,Ie=l,an.transition=a}else e.current=n;if(Ra&&(Ra=!1,yr=e,El=s),a=e.pendingLanes,a===0&&(Cr=null),H1(n.stateNode),Ut(e,et()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Sl)throw Sl=!1,e=Nd,Nd=null,e;return El&1&&e.tag!==0&&as(),a=e.pendingLanes,a&1?e===Ad?wo++:(wo=0,Ad=e):wo=0,Zr(),null}function as(){if(yr!==null){var e=cv(El),t=an.transition,n=Ie;try{if(an.transition=null,Ie=16>e?16:e,yr===null)var r=!1;else{if(e=yr,yr=null,El=0,be&6)throw Error(Z(331));var s=be;for(be|=4,X=e.current;X!==null;){var a=X,l=a.child;if(X.flags&16){var c=a.deletions;if(c!==null){for(var h=0;h<c.length;h++){var p=c[h];for(X=p;X!==null;){var _=X;switch(_.tag){case 0:case 11:case 15:vo(8,_,a)}var g=_.child;if(g!==null)g.return=_,X=g;else for(;X!==null;){_=X;var w=_.sibling,b=_.return;if(ky(_),_===p){X=null;break}if(w!==null){w.return=b,X=w;break}X=b}}}var O=a.alternate;if(O!==null){var N=O.child;if(N!==null){O.child=null;do{var z=N.sibling;N.sibling=null,N=z}while(N!==null)}}X=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,X=l;else e:for(;X!==null;){if(a=X,a.flags&2048)switch(a.tag){case 0:case 11:case 15:vo(9,a,a.return)}var S=a.sibling;if(S!==null){S.return=a.return,X=S;break e}X=a.return}}var y=e.current;for(X=y;X!==null;){l=X;var x=l.child;if(l.subtreeFlags&2064&&x!==null)x.return=l,X=x;else e:for(l=y;X!==null;){if(c=X,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Yl(9,c)}}catch(R){Ge(c,c.return,R)}if(c===l){X=null;break e}var T=c.sibling;if(T!==null){T.return=c.return,X=T;break e}X=c.return}}if(be=s,Zr(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(jl,e)}catch{}r=!0}return r}finally{Ie=n,an.transition=t}}return!1}function Xm(e,t,n){t=fs(n,t),t=cy(e,t,1),e=Tr(e,t,1),t=Nt(),e!==null&&(Ko(e,1,t),Ut(e,t))}function Ge(e,t,n){if(e.tag===3)Xm(e,e,n);else for(;t!==null;){if(t.tag===3){Xm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cr===null||!Cr.has(r))){e=fs(n,e),e=dy(t,e,1),t=Tr(t,e,1),e=Nt(),t!==null&&(Ko(t,1,e),Ut(t,e));break}}t=t.return}}function vS(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Nt(),e.pingedLanes|=e.suspendedLanes&n,gt===e&&(yt&n)===n&&(ht===4||ht===3&&(yt&130023424)===yt&&500>et()-Qh?ci(e,0):Yh|=n),Ut(e,t)}function Ay(e,t){t===0&&(e.mode&1?(t=Ea,Ea<<=1,!(Ea&130023424)&&(Ea=4194304)):t=1);var n=Nt();e=tr(e,t),e!==null&&(Ko(e,t,n),Ut(e,n))}function yS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ay(e,n)}function wS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(t),Ay(e,n)}var Oy;Oy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||zt.current)Bt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Bt=!1,aS(e,t,n);Bt=!!(e.flags&131072)}else Bt=!1,je&&t.flags&1048576&&Mv(t,ml,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ga(e,t),e=t.pendingProps;var s=us(t,bt.current);os(t,n),s=Zh(null,t,r,e,s,n);var a=Hh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ft(r)?(a=!0,fl(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Fh(t),s.updater=Gl,t.stateNode=s,s._reactInternals=t,yd(t,r,e,n),t=xd(null,t,r,!0,a,n)):(t.tag=0,je&&a&&Oh(t),Lt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ga(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=xS(r),e=pn(r,e),s){case 0:t=kd(null,t,r,e,n);break e;case 1:t=Vm(null,t,r,e,n);break e;case 11:t=$m(null,t,r,e,n);break e;case 14:t=jm(null,t,r,pn(r.type,e),n);break e}throw Error(Z(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pn(r,s),kd(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pn(r,s),Vm(e,t,r,s,n);case 3:e:{if(my(t),e===null)throw Error(Z(387));r=t.pendingProps,a=t.memoizedState,s=a.element,jv(e,t),vl(t,r,null,n);var l=t.memoizedState;if(r=l.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=fs(Error(Z(423)),t),t=Zm(e,t,r,n,s);break e}else if(r!==s){s=fs(Error(Z(424)),t),t=Zm(e,t,r,n,s);break e}else for(Zt=br(t.stateNode.containerInfo.firstChild),Wt=t,je=!0,_n=null,n=Uv(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(cs(),r===s){t=nr(e,t,n);break e}Lt(e,t,r,n)}t=t.child}return t;case 5:return Vv(t),e===null&&gd(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,l=s.children,dd(r,s)?l=null:a!==null&&dd(r,a)&&(t.flags|=32),py(e,t),Lt(e,t,l,n),t.child;case 6:return e===null&&gd(t),null;case 13:return gy(e,t,n);case 4:return Uh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ds(t,null,r,n):Lt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pn(r,s),$m(e,t,r,s,n);case 7:return Lt(e,t,t.pendingProps,n),t.child;case 8:return Lt(e,t,t.pendingProps.children,n),t.child;case 12:return Lt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,l=s.value,Me(gl,r._currentValue),r._currentValue=l,a!==null)if(xn(a.value,l)){if(a.children===s.children&&!zt.current){t=nr(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var c=a.dependencies;if(c!==null){l=a.child;for(var h=c.firstContext;h!==null;){if(h.context===r){if(a.tag===1){h=Qn(-1,n&-n),h.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var _=p.pending;_===null?h.next=h:(h.next=_.next,_.next=h),p.pending=h}}a.lanes|=n,h=a.alternate,h!==null&&(h.lanes|=n),_d(a.return,n,t),c.lanes|=n;break}h=h.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(Z(341));l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),_d(l,n,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}Lt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,os(t,n),s=ln(s),r=r(s),t.flags|=1,Lt(e,t,r,n),t.child;case 14:return r=t.type,s=pn(r,t.pendingProps),s=pn(r.type,s),jm(e,t,r,s,n);case 15:return hy(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pn(r,s),Ga(e,t),t.tag=1,Ft(r)?(e=!0,fl(t)):e=!1,os(t,n),uy(t,r,s),yd(t,r,s,n),xd(null,t,r,!0,e,n);case 19:return _y(e,t,n);case 22:return fy(e,t,n)}throw Error(Z(156,t.tag))};function Iy(e,t){return ov(e,t)}function kS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(e,t,n,r){return new kS(e,t,n,r)}function tf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xS(e){if(typeof e=="function")return tf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wh)return 11;if(e===kh)return 14}return 2}function Lr(e,t){var n=e.alternate;return n===null?(n=on(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ja(e,t,n,r,s,a){var l=2;if(r=e,typeof e=="function")tf(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Hi:return di(n.children,s,a,t);case yh:l=8,s|=8;break;case Vc:return e=on(12,n,t,s|2),e.elementType=Vc,e.lanes=a,e;case Zc:return e=on(13,n,t,s),e.elementType=Zc,e.lanes=a,e;case Hc:return e=on(19,n,t,s),e.elementType=Hc,e.lanes=a,e;case V_:return Jl(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $_:l=10;break e;case j_:l=9;break e;case wh:l=11;break e;case kh:l=14;break e;case dr:l=16,r=null;break e}throw Error(Z(130,e==null?e:typeof e,""))}return t=on(l,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function di(e,t,n,r){return e=on(7,e,r,t),e.lanes=n,e}function Jl(e,t,n,r){return e=on(22,e,r,t),e.elementType=V_,e.lanes=n,e.stateNode={isHidden:!1},e}function fc(e,t,n){return e=on(6,e,null,t),e.lanes=n,e}function pc(e,t,n){return t=on(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function SS(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ku(0),this.expirationTimes=Ku(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ku(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function nf(e,t,n,r,s,a,l,c,h){return e=new SS(e,t,n,c,h),t===1?(t=1,a===!0&&(t|=8)):t=0,a=on(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fh(a),e}function ES(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ry(e){if(!e)return Br;e=e._reactInternals;e:{if(bi(e)!==e||e.tag!==1)throw Error(Z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Z(171))}if(e.tag===1){var n=e.type;if(Ft(n))return Rv(e,n,t)}return t}function Dy(e,t,n,r,s,a,l,c,h){return e=nf(n,r,!0,e,s,a,l,c,h),e.context=Ry(null),n=e.current,r=Nt(),s=Pr(n),a=Qn(r,s),a.callback=t??null,Tr(n,a,s),e.current.lanes=s,Ko(e,s,r),Ut(e,r),e}function Xl(e,t,n,r){var s=t.current,a=Nt(),l=Pr(s);return n=Ry(n),t.context===null?t.context=n:t.pendingContext=n,t=Qn(a,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Tr(s,t,l),e!==null&&(kn(e,s,l,a),Wa(e,s,l)),l}function Tl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function eg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function rf(e,t){eg(e,t),(e=e.alternate)&&eg(e,t)}function bS(){return null}var My=typeof reportError=="function"?reportError:function(e){console.error(e)};function sf(e){this._internalRoot=e}eu.prototype.render=sf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));Xl(e,t,null,null)};eu.prototype.unmount=sf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_i(function(){Xl(null,e,null,null)}),t[er]=null}};function eu(e){this._internalRoot=e}eu.prototype.unstable_scheduleHydration=function(e){if(e){var t=fv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<pr.length&&t!==0&&t<pr[n].priority;n++);pr.splice(n,0,e),n===0&&mv(e)}};function of(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tg(){}function TS(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var p=Tl(l);a.call(p)}}var l=Dy(t,r,e,0,null,!1,!1,"",tg);return e._reactRootContainer=l,e[er]=l.current,Oo(e.nodeType===8?e.parentNode:e),_i(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var c=r;r=function(){var p=Tl(h);c.call(p)}}var h=nf(e,0,!1,null,null,!1,!1,"",tg);return e._reactRootContainer=h,e[er]=h.current,Oo(e.nodeType===8?e.parentNode:e),_i(function(){Xl(t,h,n,r)}),h}function nu(e,t,n,r,s){var a=n._reactRootContainer;if(a){var l=a;if(typeof s=="function"){var c=s;s=function(){var h=Tl(l);c.call(h)}}Xl(t,l,e,s)}else l=TS(n,t,e,s,r);return Tl(l)}dv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ao(t.pendingLanes);n!==0&&(Eh(t,n|1),Ut(t,et()),!(be&6)&&(ps=et()+500,Zr()))}break;case 13:_i(function(){var r=tr(e,1);if(r!==null){var s=Nt();kn(r,e,1,s)}}),rf(e,1)}};bh=function(e){if(e.tag===13){var t=tr(e,134217728);if(t!==null){var n=Nt();kn(t,e,134217728,n)}rf(e,134217728)}};hv=function(e){if(e.tag===13){var t=Pr(e),n=tr(e,t);if(n!==null){var r=Nt();kn(n,e,t,r)}rf(e,t)}};fv=function(){return Ie};pv=function(e,t){var n=Ie;try{return Ie=e,t()}finally{Ie=n}};td=function(e,t,n){switch(t){case"input":if(Kc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Wl(r);if(!s)throw Error(Z(90));H_(r),Kc(r,s)}}}break;case"textarea":q_(e,n);break;case"select":t=n.value,t!=null&&ns(e,!!n.multiple,t,!1)}};ev=Jh;tv=_i;var CS={usingClientEntryPoint:!1,Events:[Yo,Gi,Wl,J_,X_,Jh]},eo={findFiberByHostInstance:si,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PS={bundleType:eo.bundleType,version:eo.version,rendererPackageName:eo.rendererPackageName,rendererConfig:eo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=iv(e),e===null?null:e.stateNode},findFiberByHostInstance:eo.findFiberByHostInstance||bS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Da=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Da.isDisabled&&Da.supportsFiber)try{jl=Da.inject(PS),Rn=Da}catch{}}Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CS;Gt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!of(t))throw Error(Z(200));return ES(e,t,null,n)};Gt.createRoot=function(e,t){if(!of(e))throw Error(Z(299));var n=!1,r="",s=My;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=nf(e,1,!1,null,null,n,!1,r,s),e[er]=t.current,Oo(e.nodeType===8?e.parentNode:e),new sf(t)};Gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=iv(t),e=e===null?null:e.stateNode,e};Gt.flushSync=function(e){return _i(e)};Gt.hydrate=function(e,t,n){if(!tu(t))throw Error(Z(200));return nu(null,e,t,!0,n)};Gt.hydrateRoot=function(e,t,n){if(!of(e))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",l=My;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Dy(t,null,e,1,n??null,s,!1,a,l),e[er]=t.current,Oo(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new eu(t)};Gt.render=function(e,t,n){if(!tu(t))throw Error(Z(200));return nu(null,e,t,!1,n)};Gt.unmountComponentAtNode=function(e){if(!tu(e))throw Error(Z(40));return e._reactRootContainer?(_i(function(){nu(null,null,e,!1,function(){e._reactRootContainer=null,e[er]=null})}),!0):!1};Gt.unstable_batchedUpdates=Jh;Gt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!tu(n))throw Error(Z(200));if(e==null||e._reactInternals===void 0)throw Error(Z(38));return nu(e,t,n,!1,r)};Gt.version="18.3.1-next-f1338f8080-20240426";function By(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(By)}catch(e){console.error(e)}}By(),B_.exports=Gt;var zy=B_.exports,ng=zy;$c.createRoot=ng.createRoot,$c.hydrateRoot=ng.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $o(){return $o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$o.apply(this,arguments)}var wr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(wr||(wr={}));const rg="popstate";function LS(e){e===void 0&&(e={});function t(r,s){let{pathname:a,search:l,hash:c}=r.location;return Rd("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Cl(s)}return AS(t,n,null,e)}function tt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function af(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function NS(){return Math.random().toString(36).substr(2,8)}function ig(e,t){return{usr:e.state,key:e.key,idx:t}}function Rd(e,t,n,r){return n===void 0&&(n=null),$o({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Es(t):t,{state:n,key:t&&t.key||r||NS()})}function Cl(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Es(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function AS(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,c=wr.Pop,h=null,p=_();p==null&&(p=0,l.replaceState($o({},l.state,{idx:p}),""));function _(){return(l.state||{idx:null}).idx}function g(){c=wr.Pop;let z=_(),S=z==null?null:z-p;p=z,h&&h({action:c,location:N.location,delta:S})}function w(z,S){c=wr.Push;let y=Rd(N.location,z,S);n&&n(y,z),p=_()+1;let x=ig(y,p),T=N.createHref(y);try{l.pushState(x,"",T)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(T)}a&&h&&h({action:c,location:N.location,delta:1})}function b(z,S){c=wr.Replace;let y=Rd(N.location,z,S);n&&n(y,z),p=_();let x=ig(y,p),T=N.createHref(y);l.replaceState(x,"",T),a&&h&&h({action:c,location:N.location,delta:0})}function O(z){let S=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof z=="string"?z:Cl(z);return y=y.replace(/ $/,"%20"),tt(S,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,S)}let N={get action(){return c},get location(){return e(s,l)},listen(z){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(rg,g),h=z,()=>{s.removeEventListener(rg,g),h=null}},createHref(z){return t(s,z)},createURL:O,encodeLocation(z){let S=O(z);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:w,replace:b,go(z){return l.go(z)}};return N}var sg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(sg||(sg={}));function OS(e,t,n){return n===void 0&&(n="/"),IS(e,t,n,!1)}function IS(e,t,n,r){let s=typeof t=="string"?Es(t):t,a=lf(s.pathname||"/",n);if(a==null)return null;let l=Fy(e);RS(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let p=HS(a);c=VS(l[h],p,r)}return c}function Fy(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,l,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(tt(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let p=Nr([r,h.relativePath]),_=n.concat(h);a.children&&a.children.length>0&&(tt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Fy(a.children,t,_,p)),!(a.path==null&&!a.index)&&t.push({path:p,score:$S(p,a.index),routesMeta:_})};return e.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let h of Uy(a.path))s(a,l,h)}),t}function Uy(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=Uy(r.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&c.push(...l),c.map(h=>e.startsWith("/")&&h===""?"/":h)}function RS(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:jS(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const DS=/^:[\w-]+$/,MS=3,BS=2,zS=1,FS=10,US=-2,og=e=>e==="*";function $S(e,t){let n=e.split("/"),r=n.length;return n.some(og)&&(r+=US),t&&(r+=BS),n.filter(s=>!og(s)).reduce((s,a)=>s+(DS.test(a)?MS:a===""?zS:FS),r)}function jS(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function VS(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,s={},a="/",l=[];for(let c=0;c<r.length;++c){let h=r[c],p=c===r.length-1,_=a==="/"?t:t.slice(a.length)||"/",g=ag({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},_),w=h.route;if(!g&&p&&n&&!r[r.length-1].route.index&&(g=ag({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},_)),!g)return null;Object.assign(s,g.params),l.push({params:s,pathname:Nr([a,g.pathname]),pathnameBase:YS(Nr([a,g.pathnameBase])),route:w}),g.pathnameBase!=="/"&&(a=Nr([a,g.pathnameBase]))}return l}function ag(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=ZS(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((p,_,g)=>{let{paramName:w,isOptional:b}=_;if(w==="*"){let N=c[g]||"";l=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const O=c[g];return b&&!O?p[w]=void 0:p[w]=(O||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:e}}function ZS(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),af(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function HS(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return af(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function lf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const WS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qS=e=>WS.test(e);function KS(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Es(e):e,a;if(n)if(qS(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),af(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?a=lg(n.substring(1),"/"):a=lg(n,t)}else a=t;return{pathname:a,search:QS(r),hash:JS(s)}}function lg(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function mc(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function GS(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function uf(e,t){let n=GS(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function cf(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Es(e):(s=$o({},e),tt(!s.pathname||!s.pathname.includes("?"),mc("?","pathname","search",s)),tt(!s.pathname||!s.pathname.includes("#"),mc("#","pathname","hash",s)),tt(!s.search||!s.search.includes("#"),mc("#","search","hash",s)));let a=e===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=n;else{let g=t.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),g-=1;s.pathname=w.join("/")}c=g>=0?t[g]:"/"}let h=KS(s,c),p=l&&l!=="/"&&l.endsWith("/"),_=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||_)&&(h.pathname+="/"),h}const Nr=e=>e.join("/").replace(/\/\/+/g,"/"),YS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),QS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,JS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function XS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const $y=["post","put","patch","delete"];new Set($y);const eE=["get",...$y];new Set(eE);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jo(){return jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jo.apply(this,arguments)}const df=C.createContext(null),tE=C.createContext(null),Hr=C.createContext(null),ru=C.createContext(null),or=C.createContext({outlet:null,matches:[],isDataRoute:!1}),jy=C.createContext(null);function nE(e,t){let{relative:n}=t===void 0?{}:t;bs()||tt(!1);let{basename:r,navigator:s}=C.useContext(Hr),{hash:a,pathname:l,search:c}=Hy(e,{relative:n}),h=l;return r!=="/"&&(h=l==="/"?r:Nr([r,l])),s.createHref({pathname:h,search:c,hash:a})}function bs(){return C.useContext(ru)!=null}function Ts(){return bs()||tt(!1),C.useContext(ru).location}function Vy(e){C.useContext(Hr).static||C.useLayoutEffect(e)}function Un(){let{isDataRoute:e}=C.useContext(or);return e?mE():rE()}function rE(){bs()||tt(!1);let e=C.useContext(df),{basename:t,future:n,navigator:r}=C.useContext(Hr),{matches:s}=C.useContext(or),{pathname:a}=Ts(),l=JSON.stringify(uf(s,n.v7_relativeSplatPath)),c=C.useRef(!1);return Vy(()=>{c.current=!0}),C.useCallback(function(p,_){if(_===void 0&&(_={}),!c.current)return;if(typeof p=="number"){r.go(p);return}let g=cf(p,JSON.parse(l),a,_.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Nr([t,g.pathname])),(_.replace?r.replace:r.push)(g,_.state,_)},[t,r,l,a,e])}function Zy(){let{matches:e}=C.useContext(or),t=e[e.length-1];return t?t.params:{}}function Hy(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=C.useContext(Hr),{matches:s}=C.useContext(or),{pathname:a}=Ts(),l=JSON.stringify(uf(s,r.v7_relativeSplatPath));return C.useMemo(()=>cf(e,JSON.parse(l),a,n==="path"),[e,l,a,n])}function iE(e,t){return sE(e,t)}function sE(e,t,n,r){bs()||tt(!1);let{navigator:s}=C.useContext(Hr),{matches:a}=C.useContext(or),l=a[a.length-1],c=l?l.params:{};l&&l.pathname;let h=l?l.pathnameBase:"/";l&&l.route;let p=Ts(),_;if(t){var g;let z=typeof t=="string"?Es(t):t;h==="/"||(g=z.pathname)!=null&&g.startsWith(h)||tt(!1),_=z}else _=p;let w=_.pathname||"/",b=w;if(h!=="/"){let z=h.replace(/^\//,"").split("/");b="/"+w.replace(/^\//,"").split("/").slice(z.length).join("/")}let O=OS(e,{pathname:b}),N=cE(O&&O.map(z=>Object.assign({},z,{params:Object.assign({},c,z.params),pathname:Nr([h,s.encodeLocation?s.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?h:Nr([h,s.encodeLocation?s.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),a,n,r);return t&&N?C.createElement(ru.Provider,{value:{location:jo({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:wr.Pop}},N):N}function oE(){let e=pE(),t=XS(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),n?C.createElement("pre",{style:s},n):null,a)}const aE=C.createElement(oE,null);class lE extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?C.createElement(or.Provider,{value:this.props.routeContext},C.createElement(jy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uE(e){let{routeContext:t,match:n,children:r}=e,s=C.useContext(df);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(or.Provider,{value:t},r)}function cE(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=(s=n)==null?void 0:s.errors;if(c!=null){let _=l.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);_>=0||tt(!1),l=l.slice(0,Math.min(l.length,_+1))}let h=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let _=0;_<l.length;_++){let g=l[_];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=_),g.route.id){let{loaderData:w,errors:b}=n,O=g.route.loader&&w[g.route.id]===void 0&&(!b||b[g.route.id]===void 0);if(g.route.lazy||O){h=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((_,g,w)=>{let b,O=!1,N=null,z=null;n&&(b=c&&g.route.id?c[g.route.id]:void 0,N=g.route.errorElement||aE,h&&(p<0&&w===0?(gE("route-fallback",!1),O=!0,z=null):p===w&&(O=!0,z=g.route.hydrateFallbackElement||null)));let S=t.concat(l.slice(0,w+1)),y=()=>{let x;return b?x=N:O?x=z:g.route.Component?x=C.createElement(g.route.Component,null):g.route.element?x=g.route.element:x=_,C.createElement(uE,{match:g,routeContext:{outlet:_,matches:S,isDataRoute:n!=null},children:x})};return n&&(g.route.ErrorBoundary||g.route.errorElement||w===0)?C.createElement(lE,{location:n.location,revalidation:n.revalidation,component:N,error:b,children:y(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):y()},null)}var Wy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Wy||{}),Pl=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Pl||{});function dE(e){let t=C.useContext(df);return t||tt(!1),t}function hE(e){let t=C.useContext(tE);return t||tt(!1),t}function fE(e){let t=C.useContext(or);return t||tt(!1),t}function qy(e){let t=fE(),n=t.matches[t.matches.length-1];return n.route.id||tt(!1),n.route.id}function pE(){var e;let t=C.useContext(jy),n=hE(Pl.UseRouteError),r=qy(Pl.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function mE(){let{router:e}=dE(Wy.UseNavigateStable),t=qy(Pl.UseNavigateStable),n=C.useRef(!1);return Vy(()=>{n.current=!0}),C.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,jo({fromRouteId:t},a)))},[e,t])}const ug={};function gE(e,t,n){!t&&!ug[e]&&(ug[e]=!0)}function _E(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function cg(e){let{to:t,replace:n,state:r,relative:s}=e;bs()||tt(!1);let{future:a,static:l}=C.useContext(Hr),{matches:c}=C.useContext(or),{pathname:h}=Ts(),p=Un(),_=cf(t,uf(c,a.v7_relativeSplatPath),h,s==="path"),g=JSON.stringify(_);return C.useEffect(()=>p(JSON.parse(g),{replace:n,state:r,relative:s}),[p,g,s,n,r]),null}function $t(e){tt(!1)}function vE(e){let{basename:t="/",children:n=null,location:r,navigationType:s=wr.Pop,navigator:a,static:l=!1,future:c}=e;bs()&&tt(!1);let h=t.replace(/^\/*/,"/"),p=C.useMemo(()=>({basename:h,navigator:a,static:l,future:jo({v7_relativeSplatPath:!1},c)}),[h,c,a,l]);typeof r=="string"&&(r=Es(r));let{pathname:_="/",search:g="",hash:w="",state:b=null,key:O="default"}=r,N=C.useMemo(()=>{let z=lf(_,h);return z==null?null:{location:{pathname:z,search:g,hash:w,state:b,key:O},navigationType:s}},[h,_,g,w,b,O,s]);return N==null?null:C.createElement(Hr.Provider,{value:p},C.createElement(ru.Provider,{children:n,value:N}))}function yE(e){let{children:t,location:n}=e;return iE(Dd(t),n)}new Promise(()=>{});function Dd(e,t){t===void 0&&(t=[]);let n=[];return C.Children.forEach(e,(r,s)=>{if(!C.isValidElement(r))return;let a=[...t,s];if(r.type===C.Fragment){n.push.apply(n,Dd(r.props.children,a));return}r.type!==$t&&tt(!1),!r.props.index||!r.props.children||tt(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Dd(r.props.children,a)),n.push(l)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Md(){return Md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Md.apply(this,arguments)}function wE(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function kE(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function xE(e,t){return e.button===0&&(!t||t==="_self")&&!kE(e)}const SE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],EE="6";try{window.__reactRouterVersion=EE}catch{}const bE="startTransition",dg=_1[bE];function TE(e){let{basename:t,children:n,future:r,window:s}=e,a=C.useRef();a.current==null&&(a.current=LS({window:s,v5Compat:!0}));let l=a.current,[c,h]=C.useState({action:l.action,location:l.location}),{v7_startTransition:p}=r||{},_=C.useCallback(g=>{p&&dg?dg(()=>h(g)):h(g)},[h,p]);return C.useLayoutEffect(()=>l.listen(_),[l,_]),C.useEffect(()=>_E(r),[r]),C.createElement(vE,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const CE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nt=C.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:a,replace:l,state:c,target:h,to:p,preventScrollReset:_,viewTransition:g}=t,w=wE(t,SE),{basename:b}=C.useContext(Hr),O,N=!1;if(typeof p=="string"&&PE.test(p)&&(O=p,CE))try{let x=new URL(window.location.href),T=p.startsWith("//")?new URL(x.protocol+p):new URL(p),R=lf(T.pathname,b);T.origin===x.origin&&R!=null?p=R+T.search+T.hash:N=!0}catch{}let z=nE(p,{relative:s}),S=LE(p,{replace:l,state:c,target:h,preventScrollReset:_,relative:s,viewTransition:g});function y(x){r&&r(x),x.defaultPrevented||S(x)}return C.createElement("a",Md({},w,{href:O||z,onClick:N||a?r:y,ref:n,target:h}))});var hg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(hg||(hg={}));var fg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(fg||(fg={}));function LE(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:l,viewTransition:c}=t===void 0?{}:t,h=Un(),p=Ts(),_=Hy(e,{relative:l});return C.useCallback(g=>{if(xE(g,n)){g.preventDefault();let w=r!==void 0?r:Cl(p)===Cl(_);h(e,{replace:w,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[p,h,_,r,s,n,e,a,l,c])}const NE=({onClick:e})=>{const[t,n]=C.useState(!1),[r,s]=C.useState(0),a=C.useRef(null),l=C.useRef(null),c=3e3,h=()=>{n(!0),s(0),a.current=setTimeout(()=>{e(),p()},c);const _=Date.now();l.current=setInterval(()=>{const g=Date.now()-_,w=Math.min(g/c*100,100);s(w)},50)},p=()=>{n(!1),s(0),a.current&&clearTimeout(a.current),l.current&&clearInterval(l.current)};return C.useEffect(()=>()=>{p()},[]),D("div",{className:"sos-button-container",children:[D("button",{className:"sos-button",onMouseDown:h,onMouseUp:p,onMouseLeave:p,onTouchStart:_=>{_.preventDefault(),h()},onTouchEnd:p,children:[v("div",{className:"progress-circle",style:{background:`conic-gradient(#fff ${r}%, transparent ${r}%)`}}),D("div",{className:"sos-button-text-container",children:[v("span",{className:"sos-button-text",children:"SOS"}),v("span",{className:"sos-button-subtext",children:t?"Keep Holding":"Press & Hold"})]})]}),v("div",{className:"sos-pulse"})]})};function AE(){const e=Un();return D("div",{className:"landing-container",children:[D("header",{className:"landing-header",children:[v("img",{src:"/prc-logo.png",alt:"Philippine Red Cross Logo",className:"logo"}),v("h1",{children:"Philippine Red Cross"}),v("h2",{children:"Camarines Norte Chapter"})]}),D("main",{className:"landing-main",children:[v("p",{className:"instructions",children:"In case of emergency, press the button below."}),v(NE,{onClick:()=>{e("/quick-access")}})]}),D("footer",{className:"landing-footer",children:[v("p",{children:v(nt,{to:"/first-aid",className:"footer-link",children:"View First-Aid Guide"})}),D("p",{children:["Already have an account? ",v(nt,{to:"/login",className:"footer-link",children:"Login"})]}),D("p",{children:["or ",v(nt,{to:"/register",className:"footer-link",children:"Register"})," for a better experience."]})]})]})}var Jo=e=>e.type==="checkbox",li=e=>e instanceof Date,Dt=e=>e==null;const Ky=e=>typeof e=="object";var ut=e=>!Dt(e)&&!Array.isArray(e)&&Ky(e)&&!li(e),OE=e=>ut(e)&&e.target?Jo(e.target)?e.target.checked:e.target.value:e,IE=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,RE=(e,t)=>e.has(IE(t)),DE=e=>{const t=e.constructor&&e.constructor.prototype;return ut(t)&&t.hasOwnProperty("isPrototypeOf")},hf=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ct(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(hf&&(e instanceof Blob||t))return e;const n=Array.isArray(e);if(!n&&!(ut(e)&&DE(e)))return e;const r=n?[]:Object.create(Object.getPrototypeOf(e));for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=ct(e[s]));return r}var iu=e=>/^\w*$/.test(e),Ze=e=>e===void 0,ff=e=>Array.isArray(e)?e.filter(Boolean):[],pf=e=>ff(e.replace(/["|']|\]/g,"").split(/\.|\[/)),te=(e,t,n)=>{if(!t||!ut(e))return n;const r=(iu(t)?[t]:pf(t)).reduce((s,a)=>Dt(s)?s:s[a],e);return Ze(r)||r===e?Ze(e[t])?n:e[t]:r},An=e=>typeof e=="boolean",vn=e=>typeof e=="function",ze=(e,t,n)=>{let r=-1;const s=iu(t)?[t]:pf(t),a=s.length,l=a-1;for(;++r<a;){const c=s[r];let h=n;if(r!==l){const p=e[c];h=ut(p)||Array.isArray(p)?p:isNaN(+s[r+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=h,e=e[c]}};const pg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},yn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Hn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ME=ot.createContext(null);ME.displayName="HookFormControlContext";var BE=(e,t,n,r=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const l=a;return t._proxyFormState[l]!==yn.all&&(t._proxyFormState[l]=!r||yn.all),n&&(n[l]=!0),e[l]}});return s};const zE=typeof window<"u"?ot.useLayoutEffect:ot.useEffect;var Vt=e=>typeof e=="string",FE=(e,t,n,r,s)=>Vt(e)?(r&&t.watch.add(e),te(n,e,s)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),te(n,a))):(r&&(t.watchAll=!0),n),Bd=e=>Dt(e)||!Ky(e);function gr(e,t,n=new WeakSet){if(Bd(e)||Bd(t))return Object.is(e,t);if(li(e)&&li(t))return Object.is(e.getTime(),t.getTime());const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const a of r){const l=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const c=t[a];if(li(l)&&li(c)||ut(l)&&ut(c)||Array.isArray(l)&&Array.isArray(c)?!gr(l,c,n):!Object.is(l,c))return!1}}return!0}const UE=ot.createContext(null);UE.displayName="HookFormContext";var Gy=(e,t,n,r,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:s||!0}}:{},ko=e=>Array.isArray(e)?e:[e],mg=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}};function Yy(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const s=e[r],a=t[r];if(s&&ut(s)&&a){const l=Yy(s,a);ut(l)&&(n[r]=l)}else e[r]&&(n[r]=a)}return n}var Pt=e=>ut(e)&&!Object.keys(e).length,mf=e=>e.type==="file",Ll=e=>{if(!hf)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Qy=e=>e.type==="select-multiple",gf=e=>e.type==="radio",$E=e=>gf(e)||Jo(e),gc=e=>Ll(e)&&e.isConnected;function jE(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Ze(e)?r++:e[t[r++]];return e}function VE(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ze(e[t]))return!1;return!0}function st(e,t){const n=Array.isArray(t)?t:iu(t)?[t]:pf(t),r=n.length===1?e:jE(e,n),s=n.length-1,a=n[s];return r&&delete r[a],s!==0&&(ut(r)&&Pt(r)||Array.isArray(r)&&VE(r))&&st(e,n.slice(0,-1)),e}var ZE=e=>{for(const t in e)if(vn(e[t]))return!0;return!1};function Jy(e){return Array.isArray(e)||ut(e)&&!ZE(e)}function zd(e,t={}){for(const n in e){const r=e[n];Jy(r)?(t[n]=Array.isArray(r)?[]:{},zd(r,t[n])):Ze(r)||(t[n]=!0)}return t}function ji(e,t,n){n||(n=zd(t));for(const r in e){const s=e[r];if(Jy(s))Ze(t)||Bd(n[r])?n[r]=zd(s,Array.isArray(s)?[]:{}):ji(s,Dt(t)?{}:t[r],n[r]);else{const a=t[r];n[r]=!gr(s,a)}}return n}const gg={value:!1,isValid:!1},_g={value:!0,isValid:!0};var Xy=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ze(e[0].attributes.value)?Ze(e[0].value)||e[0].value===""?_g:{value:e[0].value,isValid:!0}:_g:gg}return gg},ew=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Ze(e)?e:t?e===""?NaN:e&&+e:n&&Vt(e)?new Date(e):r?r(e):e;const vg={isValid:!1,value:null};var tw=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,vg):vg;function yg(e){const t=e.ref;return mf(t)?t.files:gf(t)?tw(e.refs).value:Qy(t)?[...t.selectedOptions].map(({value:n})=>n):Jo(t)?Xy(e.refs).value:ew(Ze(t.value)?e.ref.value:t.value,e)}var HE=(e,t,n,r)=>{const s={};for(const a of e){const l=te(t,a);l&&ze(s,a,l._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:r}},Nl=e=>e instanceof RegExp,to=e=>Ze(e)?e:Nl(e)?e.source:ut(e)?Nl(e.value)?e.value.source:e.value:e,wg=e=>({isOnSubmit:!e||e===yn.onSubmit,isOnBlur:e===yn.onBlur,isOnChange:e===yn.onChange,isOnAll:e===yn.all,isOnTouch:e===yn.onTouched});const kg="AsyncFunction";var WE=e=>!!e&&!!e.validate&&!!(vn(e.validate)&&e.validate.constructor.name===kg||ut(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===kg)),qE=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),xg=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const xo=(e,t,n,r)=>{for(const s of n||Object.keys(e)){const a=te(e,s);if(a){const{_f:l,...c}=a;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],s)&&!r)return!0;if(l.ref&&t(l.ref,l.name)&&!r)return!0;if(xo(c,t))break}else if(ut(c)&&xo(c,t))break}}};function Sg(e,t,n){const r=te(e,n);if(r||iu(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const a=s.join("."),l=te(t,a),c=te(e,a);if(l&&!Array.isArray(l)&&n!==a)return{name:n};if(c&&c.type)return{name:a,error:c};if(c&&c.root&&c.root.type)return{name:`${a}.root`,error:c.root};s.pop()}return{name:n}}var KE=(e,t,n,r)=>{n(e);const{name:s,...a}=e;return Pt(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(l=>t[l]===(!r||yn.all))},GE=(e,t,n)=>!e||!t||e===t||ko(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),YE=(e,t,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?r.isOnBlur:s.isOnBlur)?!e:(n?r.isOnChange:s.isOnChange)?e:!0,QE=(e,t)=>!ff(te(e,t)).length&&st(e,t),JE=(e,t,n)=>{const r=ko(te(e,n));return ze(r,"root",t[n]),ze(e,n,r),e};function Eg(e,t,n="validate"){if(Vt(e)||Array.isArray(e)&&e.every(Vt)||An(e)&&!e)return{type:n,message:Vt(e)?e:"",ref:t}}var $i=e=>ut(e)&&!Nl(e)?e:{value:e,message:""},bg=async(e,t,n,r,s,a)=>{const{ref:l,refs:c,required:h,maxLength:p,minLength:_,min:g,max:w,pattern:b,validate:O,name:N,valueAsNumber:z,mount:S}=e._f,y=te(n,N);if(!S||t.has(N))return{};const x=c?c[0]:l,T=J=>{s&&x.reportValidity&&(x.setCustomValidity(An(J)?"":J||""),x.reportValidity())},R={},U=gf(l),B=Jo(l),$=U||B,oe=(z||mf(l))&&Ze(l.value)&&Ze(y)||Ll(l)&&l.value===""||y===""||Array.isArray(y)&&!y.length,G=Gy.bind(null,N,r,R),pe=(J,ge,Se,$e=Hn.maxLength,Ce=Hn.minLength)=>{const Re=J?ge:Se;R[N]={type:J?$e:Ce,message:Re,ref:l,...G(J?$e:Ce,Re)}};if(a?!Array.isArray(y)||!y.length:h&&(!$&&(oe||Dt(y))||An(y)&&!y||B&&!Xy(c).isValid||U&&!tw(c).isValid)){const{value:J,message:ge}=Vt(h)?{value:!!h,message:h}:$i(h);if(J&&(R[N]={type:Hn.required,message:ge,ref:x,...G(Hn.required,ge)},!r))return T(ge),R}if(!oe&&(!Dt(g)||!Dt(w))){let J,ge;const Se=$i(w),$e=$i(g);if(!Dt(y)&&!isNaN(y)){const Ce=l.valueAsNumber||y&&+y;Dt(Se.value)||(J=Ce>Se.value),Dt($e.value)||(ge=Ce<$e.value)}else{const Ce=l.valueAsDate||new Date(y),Re=j=>new Date(new Date().toDateString()+" "+j),F=l.type=="time",ae=l.type=="week";Vt(Se.value)&&y&&(J=F?Re(y)>Re(Se.value):ae?y>Se.value:Ce>new Date(Se.value)),Vt($e.value)&&y&&(ge=F?Re(y)<Re($e.value):ae?y<$e.value:Ce<new Date($e.value))}if((J||ge)&&(pe(!!J,Se.message,$e.message,Hn.max,Hn.min),!r))return T(R[N].message),R}if((p||_)&&!oe&&(Vt(y)||a&&Array.isArray(y))){const J=$i(p),ge=$i(_),Se=!Dt(J.value)&&y.length>+J.value,$e=!Dt(ge.value)&&y.length<+ge.value;if((Se||$e)&&(pe(Se,J.message,ge.message),!r))return T(R[N].message),R}if(b&&!oe&&Vt(y)){const{value:J,message:ge}=$i(b);if(Nl(J)&&!y.match(J)&&(R[N]={type:Hn.pattern,message:ge,ref:l,...G(Hn.pattern,ge)},!r))return T(ge),R}if(O){if(vn(O)){const J=await O(y,n),ge=Eg(J,x);if(ge&&(R[N]={...ge,...G(Hn.validate,ge.message)},!r))return T(ge.message),R}else if(ut(O)){let J={};for(const ge in O){if(!Pt(J)&&!r)break;const Se=Eg(await O[ge](y,n),x,ge);Se&&(J={...Se,...G(ge,Se.message)},T(Se.message),r&&(R[N]=J))}if(!Pt(J)&&(R[N]={ref:x,...J},!r))return R}}return T(!0),R};const XE={mode:yn.onSubmit,reValidateMode:yn.onChange,shouldFocusError:!0};function eb(e={}){let t={...XE,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:vn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},s=ut(t.defaultValues)||ut(t.values)?ct(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:ct(s),l={action:!1,mount:!1,watch:!1,keepIsValid:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,p=0;const _={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},g={..._};let w={...g};const b={array:mg(),state:mg()},O=t.criteriaMode===yn.all,N=E=>A=>{clearTimeout(p),p=setTimeout(E,A)},z=async E=>{if(!l.keepIsValid&&!t.disabled&&(g.isValid||w.isValid||E)){let A;t.resolver?(A=Pt((await $()).errors),S()):A=await G(r,!0),A!==n.isValid&&b.state.next({isValid:A})}},S=(E,A)=>{!t.disabled&&(g.isValidating||g.validatingFields||w.isValidating||w.validatingFields)&&((E||Array.from(c.mount)).forEach(M=>{M&&(A?ze(n.validatingFields,M,A):st(n.validatingFields,M))}),b.state.next({validatingFields:n.validatingFields,isValidating:!Pt(n.validatingFields)}))},y=(E,A=[],M,K,q=!0,H=!0)=>{if(K&&M&&!t.disabled){if(l.action=!0,H&&Array.isArray(te(r,E))){const ie=M(te(r,E),K.argA,K.argB);q&&ze(r,E,ie)}if(H&&Array.isArray(te(n.errors,E))){const ie=M(te(n.errors,E),K.argA,K.argB);q&&ze(n.errors,E,ie),QE(n.errors,E)}if((g.touchedFields||w.touchedFields)&&H&&Array.isArray(te(n.touchedFields,E))){const ie=M(te(n.touchedFields,E),K.argA,K.argB);q&&ze(n.touchedFields,E,ie)}(g.dirtyFields||w.dirtyFields)&&(n.dirtyFields=ji(s,a)),b.state.next({name:E,isDirty:J(E,A),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ze(a,E,A)},x=(E,A)=>{ze(n.errors,E,A),b.state.next({errors:n.errors})},T=E=>{n.errors=E,b.state.next({errors:n.errors,isValid:!1})},R=(E,A,M,K)=>{const q=te(r,E);if(q){const H=te(a,E,Ze(M)?te(s,E):M);Ze(H)||K&&K.defaultChecked||A?ze(a,E,A?H:yg(q._f)):$e(E,H),l.mount&&!l.action&&z()}},U=(E,A,M,K,q)=>{let H=!1,ie=!1;const Pe={name:E};if(!t.disabled){if(!M||K){(g.isDirty||w.isDirty)&&(ie=n.isDirty,n.isDirty=Pe.isDirty=J(),H=ie!==Pe.isDirty);const Ae=gr(te(s,E),A);ie=!!te(n.dirtyFields,E),Ae?st(n.dirtyFields,E):ze(n.dirtyFields,E,!0),Pe.dirtyFields=n.dirtyFields,H=H||(g.dirtyFields||w.dirtyFields)&&ie!==!Ae}if(M){const Ae=te(n.touchedFields,E);Ae||(ze(n.touchedFields,E,M),Pe.touchedFields=n.touchedFields,H=H||(g.touchedFields||w.touchedFields)&&Ae!==M)}H&&q&&b.state.next(Pe)}return H?Pe:{}},B=(E,A,M,K)=>{const q=te(n.errors,E),H=(g.isValid||w.isValid)&&An(A)&&n.isValid!==A;if(t.delayError&&M?(h=N(()=>x(E,M)),h(t.delayError)):(clearTimeout(p),h=null,M?ze(n.errors,E,M):st(n.errors,E)),(M?!gr(q,M):q)||!Pt(K)||H){const ie={...K,...H&&An(A)?{isValid:A}:{},errors:n.errors,name:E};n={...n,...ie},b.state.next(ie)}},$=async E=>(S(E,!0),await t.resolver(a,t.context,HE(E||c.mount,r,t.criteriaMode,t.shouldUseNativeValidation))),oe=async E=>{const{errors:A}=await $(E);if(S(E),E)for(const M of E){const K=te(A,M);K?ze(n.errors,M,K):st(n.errors,M)}else n.errors=A;return A},G=async(E,A,M={valid:!0})=>{for(const K in E){const q=E[K];if(q){const{_f:H,...ie}=q;if(H){const Pe=c.array.has(H.name),Ae=q._f&&WE(q._f);Ae&&g.validatingFields&&S([H.name],!0);const ft=await bg(q,c.disabled,a,O,t.shouldUseNativeValidation&&!A,Pe);if(Ae&&g.validatingFields&&S([H.name]),ft[H.name]&&(M.valid=!1,A||e.shouldUseNativeValidation))break;!A&&(te(ft,H.name)?Pe?JE(n.errors,ft,H.name):ze(n.errors,H.name,ft[H.name]):st(n.errors,H.name))}!Pt(ie)&&await G(ie,A,M)}}return M.valid},pe=()=>{for(const E of c.unMount){const A=te(r,E);A&&(A._f.refs?A._f.refs.every(M=>!gc(M)):!gc(A._f.ref))&&Qt(E)}c.unMount=new Set},J=(E,A)=>!t.disabled&&(E&&A&&ze(a,E,A),!gr(ee(),s)),ge=(E,A,M)=>FE(E,c,{...l.mount?a:Ze(A)?s:Vt(E)?{[E]:A}:A},M,A),Se=E=>ff(te(l.mount?a:s,E,t.shouldUnregister?te(s,E,[]):[])),$e=(E,A,M={})=>{const K=te(r,E);let q=A;if(K){const H=K._f;H&&(!H.disabled&&ze(a,E,ew(A,H)),q=Ll(H.ref)&&Dt(A)?"":A,Qy(H.ref)?[...H.ref.options].forEach(ie=>ie.selected=q.includes(ie.value)):H.refs?Jo(H.ref)?H.refs.forEach(ie=>{(!ie.defaultChecked||!ie.disabled)&&(Array.isArray(q)?ie.checked=!!q.find(Pe=>Pe===ie.value):ie.checked=q===ie.value||!!q)}):H.refs.forEach(ie=>ie.checked=ie.value===q):mf(H.ref)?H.ref.value="":(H.ref.value=q,H.ref.type||b.state.next({name:E,values:ct(a)})))}(M.shouldDirty||M.shouldTouch)&&U(E,q,M.shouldTouch,M.shouldDirty,!0),M.shouldValidate&&j(E)},Ce=(E,A,M)=>{for(const K in A){if(!A.hasOwnProperty(K))return;const q=A[K],H=E+"."+K,ie=te(r,H);(c.array.has(E)||ut(q)||ie&&!ie._f)&&!li(q)?Ce(H,q,M):$e(H,q,M)}},Re=(E,A,M={})=>{const K=te(r,E),q=c.array.has(E),H=ct(A);ze(a,E,H),q?(b.array.next({name:E,values:ct(a)}),(g.isDirty||g.dirtyFields||w.isDirty||w.dirtyFields)&&M.shouldDirty&&b.state.next({name:E,dirtyFields:ji(s,a),isDirty:J(E,H)})):K&&!K._f&&!Dt(H)?Ce(E,H,M):$e(E,H,M),xg(E,c)?b.state.next({...n,name:E,values:ct(a)}):b.state.next({name:l.mount?E:void 0,values:ct(a)})},F=async E=>{l.mount=!0;const A=E.target;let M=A.name,K=!0;const q=te(r,M),H=Ae=>{K=Number.isNaN(Ae)||li(Ae)&&isNaN(Ae.getTime())||gr(Ae,te(a,M,Ae))},ie=wg(t.mode),Pe=wg(t.reValidateMode);if(q){let Ae,ft;const Sn=A.type?yg(q._f):OE(E),En=E.type===pg.BLUR||E.type===pg.FOCUS_OUT,Xo=!qE(q._f)&&!t.resolver&&!te(n.errors,M)&&!q._f.deps||YE(En,te(n.touchedFields,M),n.isSubmitted,Pe,ie),Yr=xg(M,c,En);ze(a,M,Sn),En?(!A||!A.readOnly)&&(q._f.onBlur&&q._f.onBlur(E),h&&h(0)):q._f.onChange&&q._f.onChange(E);const Ni=U(M,Sn,En),pu=!Pt(Ni)||Yr;if(!En&&b.state.next({name:M,type:E.type,values:ct(a)}),Xo)return(g.isValid||w.isValid)&&(t.mode==="onBlur"?En&&z():En||z()),pu&&b.state.next({name:M,...Yr?{}:Ni});if(!En&&Yr&&b.state.next({...n}),t.resolver){const{errors:ar}=await $([M]);if(S([M]),H(Sn),K){const mu=Sg(n.errors,r,M),ea=Sg(ar,r,mu.name||M);Ae=ea.error,M=ea.name,ft=Pt(ar)}}else S([M],!0),Ae=(await bg(q,c.disabled,a,O,t.shouldUseNativeValidation))[M],S([M]),H(Sn),K&&(Ae?ft=!1:(g.isValid||w.isValid)&&(ft=await G(r,!0)));K&&(q._f.deps&&(!Array.isArray(q._f.deps)||q._f.deps.length>0)&&j(q._f.deps),B(M,ft,Ae,Ni))}},ae=(E,A)=>{if(te(n.errors,A)&&E.focus)return E.focus(),1},j=async(E,A={})=>{let M,K;const q=ko(E);if(t.resolver){const H=await oe(Ze(E)?E:q);M=Pt(H),K=E?!q.some(ie=>te(H,ie)):M}else E?(K=(await Promise.all(q.map(async H=>{const ie=te(r,H);return await G(ie&&ie._f?{[H]:ie}:ie)}))).every(Boolean),!(!K&&!n.isValid)&&z()):K=M=await G(r);return b.state.next({...!Vt(E)||(g.isValid||w.isValid)&&M!==n.isValid?{}:{name:E},...t.resolver||!E?{isValid:M}:{},errors:n.errors}),A.shouldFocus&&!K&&xo(r,ae,E?q:c.mount),K},ee=(E,A)=>{let M={...l.mount?a:s};return A&&(M=Yy(A.dirtyFields?n.dirtyFields:n.touchedFields,M)),Ze(E)?M:Vt(E)?te(M,E):E.map(K=>te(M,K))},ce=(E,A)=>({invalid:!!te((A||n).errors,E),isDirty:!!te((A||n).dirtyFields,E),error:te((A||n).errors,E),isValidating:!!te(n.validatingFields,E),isTouched:!!te((A||n).touchedFields,E)}),Oe=E=>{E&&ko(E).forEach(A=>st(n.errors,A)),b.state.next({errors:E?n.errors:{}})},_e=(E,A,M)=>{const K=(te(r,E,{_f:{}})._f||{}).ref,q=te(n.errors,E)||{},{ref:H,message:ie,type:Pe,...Ae}=q;ze(n.errors,E,{...Ae,...A,ref:K}),b.state.next({name:E,errors:n.errors,isValid:!1}),M&&M.shouldFocus&&K&&K.focus&&K.focus()},de=(E,A)=>vn(E)?b.state.subscribe({next:M=>"values"in M&&E(ge(void 0,A),M)}):ge(E,A,!0),le=E=>b.state.subscribe({next:A=>{GE(E.name,A.name,E.exact)&&KE(A,E.formState||g,Li,E.reRenderRoot)&&E.callback({values:{...a},...n,...A,defaultValues:s})}}).unsubscribe,Je=E=>(l.mount=!0,w={...w,...E.formState},le({...E,formState:{..._,...E.formState}})),Qt=(E,A={})=>{for(const M of E?ko(E):c.mount)c.mount.delete(M),c.array.delete(M),A.keepValue||(st(r,M),st(a,M)),!A.keepError&&st(n.errors,M),!A.keepDirty&&st(n.dirtyFields,M),!A.keepTouched&&st(n.touchedFields,M),!A.keepIsValidating&&st(n.validatingFields,M),!t.shouldUnregister&&!A.keepDefaultValue&&st(s,M);b.state.next({values:ct(a)}),b.state.next({...n,...A.keepDirty?{isDirty:J()}:{}}),!A.keepIsValid&&z()},Ns=({disabled:E,name:A})=>{if(An(E)&&l.mount||E||c.disabled.has(A)){const q=c.disabled.has(A)!==!!E;E?c.disabled.add(A):c.disabled.delete(A),q&&l.mount&&!l.action&&z()}},qr=(E,A={})=>{let M=te(r,E);const K=An(A.disabled)||An(t.disabled);return ze(r,E,{...M||{},_f:{...M&&M._f?M._f:{ref:{name:E}},name:E,mount:!0,...A}}),c.mount.add(E),M?Ns({disabled:An(A.disabled)?A.disabled:t.disabled,name:E}):R(E,!0,A.value),{...K?{disabled:A.disabled||t.disabled}:{},...t.progressive?{required:!!A.required,min:to(A.min),max:to(A.max),minLength:to(A.minLength),maxLength:to(A.maxLength),pattern:to(A.pattern)}:{},name:E,onChange:F,onBlur:F,ref:q=>{if(q){qr(E,A),M=te(r,E);const H=Ze(q.value)&&q.querySelectorAll&&q.querySelectorAll("input,select,textarea")[0]||q,ie=$E(H),Pe=M._f.refs||[];if(ie?Pe.find(Ae=>Ae===H):H===M._f.ref)return;ze(r,E,{_f:{...M._f,...ie?{refs:[...Pe.filter(gc),H,...Array.isArray(te(s,E))?[{}]:[]],ref:{type:H.type,name:E}}:{ref:H}}}),R(E,!1,void 0,H)}else M=te(r,E,{}),M._f&&(M._f.mount=!1),(t.shouldUnregister||A.shouldUnregister)&&!(RE(c.array,E)&&l.action)&&c.unMount.add(E)}}},Kr=()=>t.shouldFocusError&&xo(r,ae,c.mount),Gr=E=>{An(E)&&(b.state.next({disabled:E}),xo(r,(A,M)=>{const K=te(r,M);K&&(A.disabled=K._f.disabled||E,Array.isArray(K._f.refs)&&K._f.refs.forEach(q=>{q.disabled=K._f.disabled||E}))},0,!1))},Pi=(E,A)=>async M=>{let K;M&&(M.preventDefault&&M.preventDefault(),M.persist&&M.persist());let q=ct(a);if(b.state.next({isSubmitting:!0}),t.resolver){const{errors:H,values:ie}=await $();S(),n.errors=H,q=ct(ie)}else await G(r);if(c.disabled.size)for(const H of c.disabled)st(q,H);if(st(n.errors,"root"),Pt(n.errors)){b.state.next({errors:{}});try{await E(q,M)}catch(H){K=H}}else A&&await A({...n.errors},M),Kr(),setTimeout(Kr);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Pt(n.errors)&&!K,submitCount:n.submitCount+1,errors:n.errors}),K)throw K},fu=(E,A={})=>{te(r,E)&&(Ze(A.defaultValue)?Re(E,ct(te(s,E))):(Re(E,A.defaultValue),ze(s,E,ct(A.defaultValue))),A.keepTouched||st(n.touchedFields,E),A.keepDirty||(st(n.dirtyFields,E),n.isDirty=A.defaultValue?J(E,ct(te(s,E))):J()),A.keepError||(st(n.errors,E),g.isValid&&z()),b.state.next({...n}))},As=(E,A={})=>{const M=E?ct(E):s,K=ct(M),q=Pt(E),H=q?s:K;if(A.keepDefaultValues||(s=M),!A.keepValues){if(A.keepDirtyValues){const ie=new Set([...c.mount,...Object.keys(ji(s,a))]);for(const Pe of Array.from(ie)){const Ae=te(n.dirtyFields,Pe),ft=te(a,Pe),Sn=te(H,Pe);Ae&&!Ze(ft)?ze(H,Pe,ft):!Ae&&!Ze(Sn)&&Re(Pe,Sn)}}else{if(hf&&Ze(E))for(const ie of c.mount){const Pe=te(r,ie);if(Pe&&Pe._f){const Ae=Array.isArray(Pe._f.refs)?Pe._f.refs[0]:Pe._f.ref;if(Ll(Ae)){const ft=Ae.closest("form");if(ft){ft.reset();break}}}}if(A.keepFieldsRef)for(const ie of c.mount)Re(ie,te(H,ie));else r={}}a=t.shouldUnregister?A.keepDefaultValues?ct(s):{}:ct(H),b.array.next({values:{...H}}),b.state.next({values:{...H}})}c={mount:A.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!g.isValid||!!A.keepIsValid||!!A.keepDirtyValues||!t.shouldUnregister&&!Pt(H),l.watch=!!t.shouldUnregister,l.keepIsValid=!!A.keepIsValid,l.action=!1,A.keepErrors||(n.errors={}),b.state.next({submitCount:A.keepSubmitCount?n.submitCount:0,isDirty:q?!1:A.keepDirty?n.isDirty:!!(A.keepDefaultValues&&!gr(E,s)),isSubmitted:A.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:q?{}:A.keepDirtyValues?A.keepDefaultValues&&a?ji(s,a):n.dirtyFields:A.keepDefaultValues&&E?ji(s,E):A.keepDirty?n.dirtyFields:{},touchedFields:A.keepTouched?n.touchedFields:{},errors:A.keepErrors?n.errors:{},isSubmitSuccessful:A.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Os=(E,A)=>As(vn(E)?E(a):E,{...t.resetOptions,...A}),Is=(E,A={})=>{const M=te(r,E),K=M&&M._f;if(K){const q=K.refs?K.refs[0]:K.ref;q.focus&&setTimeout(()=>{q.focus(),A.shouldSelect&&vn(q.select)&&q.select()})}},Li=E=>{n={...n,...E}},Rs={control:{register:qr,unregister:Qt,getFieldState:ce,handleSubmit:Pi,setError:_e,_subscribe:le,_runSchema:$,_updateIsValidating:S,_focusError:Kr,_getWatch:ge,_getDirty:J,_setValid:z,_setFieldArray:y,_setDisabledField:Ns,_setErrors:T,_getFieldArray:Se,_reset:As,_resetDefaultValues:()=>vn(t.defaultValues)&&t.defaultValues().then(E=>{Os(E,t.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:pe,_disableForm:Gr,_subjects:b,_proxyFormState:g,get _fields(){return r},get _formValues(){return a},get _state(){return l},set _state(E){l=E},get _defaultValues(){return s},get _names(){return c},set _names(E){c=E},get _formState(){return n},get _options(){return t},set _options(E){t={...t,...E}}},subscribe:Je,trigger:j,register:qr,handleSubmit:Pi,watch:de,setValue:Re,getValues:ee,reset:Os,resetField:fu,clearErrors:Oe,unregister:Qt,setError:_e,setFocus:Is,getFieldState:ce};return{...Rs,formControl:Rs}}function _f(e={}){const t=ot.useRef(void 0),n=ot.useRef(void 0),[r,s]=ot.useState({isDirty:!1,isValidating:!1,isLoading:vn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:vn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!vn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:l,...c}=eb(e);t.current={...c,formState:r}}const a=t.current.control;return a._options=e,zE(()=>{const l=a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0});return s(c=>({...c,isReady:!0})),a._formState.isReady=!0,l},[a]),ot.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),ot.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),ot.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),ot.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),ot.useEffect(()=>{if(a._proxyFormState.isDirty){const l=a._getDirty();l!==r.isDirty&&a._subjects.state.next({isDirty:l})}},[a,r.isDirty]),ot.useEffect(()=>{var l;e.values&&!gr(e.values,n.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),!((l=a._options.resetOptions)===null||l===void 0)&&l.keepIsValid||a._setValid(),n.current=e.values,s(c=>({...c}))):a._resetDefaultValues()},[a,e.values]),ot.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=ot.useMemo(()=>BE(r,a),[a,r]),t.current}var Tg=function(e,t,n){if(e&&"reportValidity"in e){var r=te(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},nw=function(e,t){var n=function(s){var a=t.fields[s];a&&a.ref&&"reportValidity"in a.ref?Tg(a.ref,s,e):a.refs&&a.refs.forEach(function(l){return Tg(l,s,e)})};for(var r in t.fields)n(r)},tb=function(e,t){t.shouldUseNativeValidation&&nw(e,t);var n={};for(var r in e){var s=te(t.fields,r);ze(n,r,Object.assign(e[r],{ref:s&&s.ref}))}return n},nb=function(e,t){for(var n={};e.length;){var r=e[0],s=r.code,a=r.message,l=r.path.join(".");if(!n[l])if("unionErrors"in r){var c=r.unionErrors[0].errors[0];n[l]={message:c.message,type:c.code}}else n[l]={message:a,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(_){return _.errors.forEach(function(g){return e.push(g)})}),t){var h=n[l].types,p=h&&h[r.code];n[l]=Gy(l,t,n,s,p?[].concat(p,r.message):r.message)}e.shift()}return n},vf=function(e,t,n){return n===void 0&&(n={}),function(r,s,a){try{return Promise.resolve(function(l,c){try{var h=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(p){return a.shouldUseNativeValidation&&nw({},a),{errors:{},values:n.rawValues?r:p}})}catch(p){return c(p)}return h&&h.then?h.then(void 0,c):h}(0,function(l){return{values:{},errors:l.isEmpty?{}:tb(nb(l.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)}}))}catch(l){return Promise.reject(l)}}},Ne;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const a={};for(const l of s)a[l]=l;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(c=>typeof s[s[c]]!="number"),l={};for(const c of a)l[c]=s[c];return e.objectValues(l)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&a.push(l);return a},e.find=(s,a)=>{for(const l of s)if(a(l))return l},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,a=" | "){return s.map(l=>typeof l=="string"?`'${l}'`:l).join(a)}e.joinValues=r,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(Ne||(Ne={}));var Cg;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Cg||(Cg={}));const ne=Ne.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),fr=e=>{switch(typeof e){case"undefined":return ne.undefined;case"string":return ne.string;case"number":return Number.isNaN(e)?ne.nan:ne.number;case"boolean":return ne.boolean;case"function":return ne.function;case"bigint":return ne.bigint;case"symbol":return ne.symbol;case"object":return Array.isArray(e)?ne.array:e===null?ne.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ne.promise:typeof Map<"u"&&e instanceof Map?ne.map:typeof Set<"u"&&e instanceof Set?ne.set:typeof Date<"u"&&e instanceof Date?ne.date:ne.object;default:return ne.unknown}},W=Ne.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class rr extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(a){return a.message},r={_errors:[]},s=a=>{for(const l of a.issues)if(l.code==="invalid_union")l.unionErrors.map(s);else if(l.code==="invalid_return_type")s(l.returnTypeError);else if(l.code==="invalid_arguments")s(l.argumentsError);else if(l.path.length===0)r._errors.push(n(l));else{let c=r,h=0;for(;h<l.path.length;){const p=l.path[h];h===l.path.length-1?(c[p]=c[p]||{_errors:[]},c[p]._errors.push(n(l))):c[p]=c[p]||{_errors:[]},c=c[p],h++}}};return s(this),r}static assert(t){if(!(t instanceof rr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ne.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];n[a]=n[a]||[],n[a].push(t(s))}else r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}rr.create=e=>new rr(e);const rb=(e,t)=>{let n;switch(e.code){case W.invalid_type:e.received===ne.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case W.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Ne.jsonStringifyReplacer)}`;break;case W.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ne.joinValues(e.keys,", ")}`;break;case W.invalid_union:n="Invalid input";break;case W.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ne.joinValues(e.options)}`;break;case W.invalid_enum_value:n=`Invalid enum value. Expected ${Ne.joinValues(e.options)}, received '${e.received}'`;break;case W.invalid_arguments:n="Invalid function arguments";break;case W.invalid_return_type:n="Invalid function return type";break;case W.invalid_date:n="Invalid date";break;case W.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Ne.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case W.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case W.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case W.custom:n="Invalid input";break;case W.invalid_intersection_types:n="Intersection results could not be merged";break;case W.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case W.not_finite:n="Number must be finite";break;default:n=t.defaultError,Ne.assertNever(e)}return{message:n}},Fd=rb;let ib=Fd;function sb(){return ib}const ob=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,a=[...n,...s.path||[]],l={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let c="";const h=r.filter(p=>!!p).slice().reverse();for(const p of h)c=p(l,{data:t,defaultError:c}).message;return{...s,path:a,message:c}};function Q(e,t){const n=sb(),r=ob({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Fd?void 0:Fd].filter(s=>!!s)});e.common.issues.push(r)}class Kt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return he;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n){const a=await s.key,l=await s.value;r.push({key:a,value:l})}return Kt.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:a,value:l}=s;if(a.status==="aborted"||l.status==="aborted")return he;a.status==="dirty"&&t.dirty(),l.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof l.value<"u"||s.alwaysSet)&&(r[a.value]=l.value)}return{status:t.value,value:r}}}const he=Object.freeze({status:"aborted"}),uo=e=>({status:"dirty",value:e}),cn=e=>({status:"valid",value:e}),Pg=e=>e.status==="aborted",Lg=e=>e.status==="dirty",ms=e=>e.status==="valid",Al=e=>typeof Promise<"u"&&e instanceof Promise;var re;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(re||(re={}));class zr{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Ng=(e,t)=>{if(ms(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new rr(e.common.issues);return this._error=n,this._error}}};function ke(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(l,c)=>{const{message:h}=e;return l.code==="invalid_enum_value"?{message:h??c.defaultError}:typeof c.data>"u"?{message:h??r??c.defaultError}:l.code!=="invalid_type"?{message:c.defaultError}:{message:h??n??c.defaultError}},description:s}}class Te{get description(){return this._def.description}_getType(t){return fr(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:fr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Kt,ctx:{common:t.parent.common,data:t.data,parsedType:fr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Al(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fr(t)},s=this._parseSync({data:t,path:r.path,parent:r});return Ng(r,s)}"~validate"(t){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fr(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:n});return ms(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(s=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(a=>ms(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fr(t)},s=this._parse({data:t,path:r.path,parent:r}),a=await(Al(s)?s:Promise.resolve(s));return Ng(r,a)}refine(t,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,a)=>{const l=t(s),c=()=>a.addIssue({code:W.custom,...r(s)});return typeof Promise<"u"&&l instanceof Promise?l.then(h=>h?!0:(c(),!1)):l?!0:(c(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new vs({schema:this,typeName:fe.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ar.create(this,this._def)}nullable(){return ys.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Mn.create(this)}promise(){return Dl.create(this,this._def)}or(t){return Il.create([this,t],this._def)}and(t){return Rl.create(this,t,this._def)}transform(t){return new vs({...ke(this._def),schema:this,typeName:fe.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new jd({...ke(this._def),innerType:this,defaultValue:n,typeName:fe.ZodDefault})}brand(){return new Lb({typeName:fe.ZodBranded,type:this,...ke(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Vd({...ke(this._def),innerType:this,catchValue:n,typeName:fe.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return yf.create(this,t)}readonly(){return Zd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ab=/^c[^\s-]{8,}$/i,lb=/^[0-9a-z]+$/,ub=/^[0-9A-HJKMNP-TV-Z]{26}$/i,cb=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,db=/^[a-z0-9_-]{21}$/i,hb=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,fb=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,pb=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,mb="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let _c;const gb=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,_b=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,vb=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,yb=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,wb=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,kb=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,rw="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",xb=new RegExp(`^${rw}$`);function iw(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function Sb(e){return new RegExp(`^${iw(e)}$`)}function Eb(e){let t=`${rw}T${iw(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function bb(e,t){return!!((t==="v4"||!t)&&gb.test(e)||(t==="v6"||!t)&&vb.test(e))}function Tb(e,t){if(!hb.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function Cb(e,t){return!!((t==="v4"||!t)&&_b.test(e)||(t==="v6"||!t)&&yb.test(e))}class kr extends Te{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ne.string){const a=this._getOrReturnCtx(t);return Q(a,{code:W.invalid_type,expected:ne.string,received:a.parsedType}),he}const r=new Kt;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),Q(s,{code:W.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),Q(s,{code:W.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const l=t.data.length>a.value,c=t.data.length<a.value;(l||c)&&(s=this._getOrReturnCtx(t,s),l?Q(s,{code:W.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):c&&Q(s,{code:W.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")pb.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"email",code:W.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")_c||(_c=new RegExp(mb,"u")),_c.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"emoji",code:W.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")cb.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"uuid",code:W.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")db.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"nanoid",code:W.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")ab.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"cuid",code:W.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")lb.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"cuid2",code:W.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")ub.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"ulid",code:W.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),Q(s,{validation:"url",code:W.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"regex",code:W.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),Q(s,{code:W.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),Q(s,{code:W.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),Q(s,{code:W.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?Eb(a).test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{code:W.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?xb.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{code:W.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?Sb(a).test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{code:W.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?fb.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"duration",code:W.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?bb(t.data,a.version)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"ip",code:W.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?Tb(t.data,a.alg)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"jwt",code:W.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?Cb(t.data,a.version)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"cidr",code:W.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?wb.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"base64",code:W.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?kb.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"base64url",code:W.invalid_string,message:a.message}),r.dirty()):Ne.assertNever(a);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:W.invalid_string,...re.errToObj(r)})}_addCheck(t){return new kr({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...re.errToObj(t)})}url(t){return this._addCheck({kind:"url",...re.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...re.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...re.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...re.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...re.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...re.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...re.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...re.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...re.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...re.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...re.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...re.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...re.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...re.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...re.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...re.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...re.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...re.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...re.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...re.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...re.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...re.errToObj(n)})}nonempty(t){return this.min(1,re.errToObj(t))}trim(){return new kr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new kr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new kr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}kr.create=e=>new kr({checks:[],typeName:fe.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...ke(e)});function Pb(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,a=Number.parseInt(e.toFixed(s).replace(".","")),l=Number.parseInt(t.toFixed(s).replace(".",""));return a%l/10**s}class gs extends Te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ne.number){const a=this._getOrReturnCtx(t);return Q(a,{code:W.invalid_type,expected:ne.number,received:a.parsedType}),he}let r;const s=new Kt;for(const a of this._def.checks)a.kind==="int"?Ne.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Q(r,{code:W.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Q(r,{code:W.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Q(r,{code:W.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?Pb(t.data,a.value)!==0&&(r=this._getOrReturnCtx(t,r),Q(r,{code:W.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Q(r,{code:W.not_finite,message:a.message}),s.dirty()):Ne.assertNever(a);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,re.toString(n))}gt(t,n){return this.setLimit("min",t,!1,re.toString(n))}lte(t,n){return this.setLimit("max",t,!0,re.toString(n))}lt(t,n){return this.setLimit("max",t,!1,re.toString(n))}setLimit(t,n,r,s){return new gs({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:re.toString(s)}]})}_addCheck(t){return new gs({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:re.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:re.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:re.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:re.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:re.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:re.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:re.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:re.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:re.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ne.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}gs.create=e=>new gs({checks:[],typeName:fe.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ke(e)});class Vo extends Te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ne.bigint)return this._getInvalidInput(t);let r;const s=new Kt;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Q(r,{code:W.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Q(r,{code:W.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Q(r,{code:W.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):Ne.assertNever(a);return{status:s.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return Q(n,{code:W.invalid_type,expected:ne.bigint,received:n.parsedType}),he}gte(t,n){return this.setLimit("min",t,!0,re.toString(n))}gt(t,n){return this.setLimit("min",t,!1,re.toString(n))}lte(t,n){return this.setLimit("max",t,!0,re.toString(n))}lt(t,n){return this.setLimit("max",t,!1,re.toString(n))}setLimit(t,n,r,s){return new Vo({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:re.toString(s)}]})}_addCheck(t){return new Vo({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:re.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:re.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:re.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:re.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:re.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Vo.create=e=>new Vo({checks:[],typeName:fe.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...ke(e)});class Ag extends Te{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ne.boolean){const r=this._getOrReturnCtx(t);return Q(r,{code:W.invalid_type,expected:ne.boolean,received:r.parsedType}),he}return cn(t.data)}}Ag.create=e=>new Ag({typeName:fe.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ke(e)});class Ol extends Te{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ne.date){const a=this._getOrReturnCtx(t);return Q(a,{code:W.invalid_type,expected:ne.date,received:a.parsedType}),he}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return Q(a,{code:W.invalid_date}),he}const r=new Kt;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),Q(s,{code:W.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),Q(s,{code:W.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):Ne.assertNever(a);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ol({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:re.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:re.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Ol.create=e=>new Ol({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:fe.ZodDate,...ke(e)});class Og extends Te{_parse(t){if(this._getType(t)!==ne.symbol){const r=this._getOrReturnCtx(t);return Q(r,{code:W.invalid_type,expected:ne.symbol,received:r.parsedType}),he}return cn(t.data)}}Og.create=e=>new Og({typeName:fe.ZodSymbol,...ke(e)});class Ig extends Te{_parse(t){if(this._getType(t)!==ne.undefined){const r=this._getOrReturnCtx(t);return Q(r,{code:W.invalid_type,expected:ne.undefined,received:r.parsedType}),he}return cn(t.data)}}Ig.create=e=>new Ig({typeName:fe.ZodUndefined,...ke(e)});class Rg extends Te{_parse(t){if(this._getType(t)!==ne.null){const r=this._getOrReturnCtx(t);return Q(r,{code:W.invalid_type,expected:ne.null,received:r.parsedType}),he}return cn(t.data)}}Rg.create=e=>new Rg({typeName:fe.ZodNull,...ke(e)});class Ud extends Te{constructor(){super(...arguments),this._any=!0}_parse(t){return cn(t.data)}}Ud.create=e=>new Ud({typeName:fe.ZodAny,...ke(e)});class Dg extends Te{constructor(){super(...arguments),this._unknown=!0}_parse(t){return cn(t.data)}}Dg.create=e=>new Dg({typeName:fe.ZodUnknown,...ke(e)});class Fr extends Te{_parse(t){const n=this._getOrReturnCtx(t);return Q(n,{code:W.invalid_type,expected:ne.never,received:n.parsedType}),he}}Fr.create=e=>new Fr({typeName:fe.ZodNever,...ke(e)});class Mg extends Te{_parse(t){if(this._getType(t)!==ne.undefined){const r=this._getOrReturnCtx(t);return Q(r,{code:W.invalid_type,expected:ne.void,received:r.parsedType}),he}return cn(t.data)}}Mg.create=e=>new Mg({typeName:fe.ZodVoid,...ke(e)});class Mn extends Te{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==ne.array)return Q(n,{code:W.invalid_type,expected:ne.array,received:n.parsedType}),he;if(s.exactLength!==null){const l=n.data.length>s.exactLength.value,c=n.data.length<s.exactLength.value;(l||c)&&(Q(n,{code:l?W.too_big:W.too_small,minimum:c?s.exactLength.value:void 0,maximum:l?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Q(n,{code:W.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Q(n,{code:W.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((l,c)=>s.type._parseAsync(new zr(n,l,n.path,c)))).then(l=>Kt.mergeArray(r,l));const a=[...n.data].map((l,c)=>s.type._parseSync(new zr(n,l,n.path,c)));return Kt.mergeArray(r,a)}get element(){return this._def.type}min(t,n){return new Mn({...this._def,minLength:{value:t,message:re.toString(n)}})}max(t,n){return new Mn({...this._def,maxLength:{value:t,message:re.toString(n)}})}length(t,n){return new Mn({...this._def,exactLength:{value:t,message:re.toString(n)}})}nonempty(t){return this.min(1,t)}}Mn.create=(e,t)=>new Mn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:fe.ZodArray,...ke(t)});function Vi(e){if(e instanceof Ke){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Ar.create(Vi(r))}return new Ke({...e._def,shape:()=>t})}else return e instanceof Mn?new Mn({...e._def,type:Vi(e.element)}):e instanceof Ar?Ar.create(Vi(e.unwrap())):e instanceof ys?ys.create(Vi(e.unwrap())):e instanceof vi?vi.create(e.items.map(t=>Vi(t))):e}class Ke extends Te{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Ne.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==ne.object){const p=this._getOrReturnCtx(t);return Q(p,{code:W.invalid_type,expected:ne.object,received:p.parsedType}),he}const{status:r,ctx:s}=this._processInputParams(t),{shape:a,keys:l}=this._getCached(),c=[];if(!(this._def.catchall instanceof Fr&&this._def.unknownKeys==="strip"))for(const p in s.data)l.includes(p)||c.push(p);const h=[];for(const p of l){const _=a[p],g=s.data[p];h.push({key:{status:"valid",value:p},value:_._parse(new zr(s,g,s.path,p)),alwaysSet:p in s.data})}if(this._def.catchall instanceof Fr){const p=this._def.unknownKeys;if(p==="passthrough")for(const _ of c)h.push({key:{status:"valid",value:_},value:{status:"valid",value:s.data[_]}});else if(p==="strict")c.length>0&&(Q(s,{code:W.unrecognized_keys,keys:c}),r.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const _ of c){const g=s.data[_];h.push({key:{status:"valid",value:_},value:p._parse(new zr(s,g,s.path,_)),alwaysSet:_ in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const p=[];for(const _ of h){const g=await _.key,w=await _.value;p.push({key:g,value:w,alwaysSet:_.alwaysSet})}return p}).then(p=>Kt.mergeObjectSync(r,p)):Kt.mergeObjectSync(r,h)}get shape(){return this._def.shape()}strict(t){return re.errToObj,new Ke({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var a,l;const s=((l=(a=this._def).errorMap)==null?void 0:l.call(a,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:re.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new Ke({...this._def,unknownKeys:"strip"})}passthrough(){return new Ke({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ke({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ke({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:fe.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Ke({...this._def,catchall:t})}pick(t){const n={};for(const r of Ne.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Ke({...this._def,shape:()=>n})}omit(t){const n={};for(const r of Ne.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new Ke({...this._def,shape:()=>n})}deepPartial(){return Vi(this)}partial(t){const n={};for(const r of Ne.objectKeys(this.shape)){const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}return new Ke({...this._def,shape:()=>n})}required(t){const n={};for(const r of Ne.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Ar;)a=a._def.innerType;n[r]=a}return new Ke({...this._def,shape:()=>n})}keyof(){return sw(Ne.objectKeys(this.shape))}}Ke.create=(e,t)=>new Ke({shape:()=>e,unknownKeys:"strip",catchall:Fr.create(),typeName:fe.ZodObject,...ke(t)});Ke.strictCreate=(e,t)=>new Ke({shape:()=>e,unknownKeys:"strict",catchall:Fr.create(),typeName:fe.ZodObject,...ke(t)});Ke.lazycreate=(e,t)=>new Ke({shape:e,unknownKeys:"strip",catchall:Fr.create(),typeName:fe.ZodObject,...ke(t)});class Il extends Te{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function s(a){for(const c of a)if(c.result.status==="valid")return c.result;for(const c of a)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const l=a.map(c=>new rr(c.ctx.common.issues));return Q(n,{code:W.invalid_union,unionErrors:l}),he}if(n.common.async)return Promise.all(r.map(async a=>{const l={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:l}),ctx:l}})).then(s);{let a;const l=[];for(const h of r){const p={...n,common:{...n.common,issues:[]},parent:null},_=h._parseSync({data:n.data,path:n.path,parent:p});if(_.status==="valid")return _;_.status==="dirty"&&!a&&(a={result:_,ctx:p}),p.common.issues.length&&l.push(p.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const c=l.map(h=>new rr(h));return Q(n,{code:W.invalid_union,unionErrors:c}),he}}get options(){return this._def.options}}Il.create=(e,t)=>new Il({options:e,typeName:fe.ZodUnion,...ke(t)});function $d(e,t){const n=fr(e),r=fr(t);if(e===t)return{valid:!0,data:e};if(n===ne.object&&r===ne.object){const s=Ne.objectKeys(t),a=Ne.objectKeys(e).filter(c=>s.indexOf(c)!==-1),l={...e,...t};for(const c of a){const h=$d(e[c],t[c]);if(!h.valid)return{valid:!1};l[c]=h.data}return{valid:!0,data:l}}else if(n===ne.array&&r===ne.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const l=e[a],c=t[a],h=$d(l,c);if(!h.valid)return{valid:!1};s.push(h.data)}return{valid:!0,data:s}}else return n===ne.date&&r===ne.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Rl extends Te{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(a,l)=>{if(Pg(a)||Pg(l))return he;const c=$d(a.value,l.value);return c.valid?((Lg(a)||Lg(l))&&n.dirty(),{status:n.value,value:c.data}):(Q(r,{code:W.invalid_intersection_types}),he)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,l])=>s(a,l)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Rl.create=(e,t,n)=>new Rl({left:e,right:t,typeName:fe.ZodIntersection,...ke(n)});class vi extends Te{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==ne.array)return Q(r,{code:W.invalid_type,expected:ne.array,received:r.parsedType}),he;if(r.data.length<this._def.items.length)return Q(r,{code:W.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),he;!this._def.rest&&r.data.length>this._def.items.length&&(Q(r,{code:W.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((l,c)=>{const h=this._def.items[c]||this._def.rest;return h?h._parse(new zr(r,l,r.path,c)):null}).filter(l=>!!l);return r.common.async?Promise.all(a).then(l=>Kt.mergeArray(n,l)):Kt.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new vi({...this._def,rest:t})}}vi.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new vi({items:e,typeName:fe.ZodTuple,rest:null,...ke(t)})};class Bg extends Te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==ne.map)return Q(r,{code:W.invalid_type,expected:ne.map,received:r.parsedType}),he;const s=this._def.keyType,a=this._def.valueType,l=[...r.data.entries()].map(([c,h],p)=>({key:s._parse(new zr(r,c,r.path,[p,"key"])),value:a._parse(new zr(r,h,r.path,[p,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const h of l){const p=await h.key,_=await h.value;if(p.status==="aborted"||_.status==="aborted")return he;(p.status==="dirty"||_.status==="dirty")&&n.dirty(),c.set(p.value,_.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const h of l){const p=h.key,_=h.value;if(p.status==="aborted"||_.status==="aborted")return he;(p.status==="dirty"||_.status==="dirty")&&n.dirty(),c.set(p.value,_.value)}return{status:n.value,value:c}}}}Bg.create=(e,t,n)=>new Bg({valueType:t,keyType:e,typeName:fe.ZodMap,...ke(n)});class Zo extends Te{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==ne.set)return Q(r,{code:W.invalid_type,expected:ne.set,received:r.parsedType}),he;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Q(r,{code:W.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Q(r,{code:W.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const a=this._def.valueType;function l(h){const p=new Set;for(const _ of h){if(_.status==="aborted")return he;_.status==="dirty"&&n.dirty(),p.add(_.value)}return{status:n.value,value:p}}const c=[...r.data.values()].map((h,p)=>a._parse(new zr(r,h,r.path,p)));return r.common.async?Promise.all(c).then(h=>l(h)):l(c)}min(t,n){return new Zo({...this._def,minSize:{value:t,message:re.toString(n)}})}max(t,n){return new Zo({...this._def,maxSize:{value:t,message:re.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Zo.create=(e,t)=>new Zo({valueType:e,minSize:null,maxSize:null,typeName:fe.ZodSet,...ke(t)});class zg extends Te{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}zg.create=(e,t)=>new zg({getter:e,typeName:fe.ZodLazy,...ke(t)});class Fg extends Te{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Q(n,{received:n.data,code:W.invalid_literal,expected:this._def.value}),he}return{status:"valid",value:t.data}}get value(){return this._def.value}}Fg.create=(e,t)=>new Fg({value:e,typeName:fe.ZodLiteral,...ke(t)});function sw(e,t){return new _s({values:e,typeName:fe.ZodEnum,...ke(t)})}class _s extends Te{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return Q(n,{expected:Ne.joinValues(r),received:n.parsedType,code:W.invalid_type}),he}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return Q(n,{received:n.data,code:W.invalid_enum_value,options:r}),he}return cn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return _s.create(t,{...this._def,...n})}exclude(t,n=this._def){return _s.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}_s.create=sw;class Ug extends Te{_parse(t){const n=Ne.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==ne.string&&r.parsedType!==ne.number){const s=Ne.objectValues(n);return Q(r,{expected:Ne.joinValues(s),received:r.parsedType,code:W.invalid_type}),he}if(this._cache||(this._cache=new Set(Ne.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=Ne.objectValues(n);return Q(r,{received:r.data,code:W.invalid_enum_value,options:s}),he}return cn(t.data)}get enum(){return this._def.values}}Ug.create=(e,t)=>new Ug({values:e,typeName:fe.ZodNativeEnum,...ke(t)});class Dl extends Te{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==ne.promise&&n.common.async===!1)return Q(n,{code:W.invalid_type,expected:ne.promise,received:n.parsedType}),he;const r=n.parsedType===ne.promise?n.data:Promise.resolve(n.data);return cn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Dl.create=(e,t)=>new Dl({type:e,typeName:fe.ZodPromise,...ke(t)});class vs extends Te{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===fe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:l=>{Q(r,l),l.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const l=s.transform(r.data,a);if(r.common.async)return Promise.resolve(l).then(async c=>{if(n.value==="aborted")return he;const h=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return h.status==="aborted"?he:h.status==="dirty"||n.value==="dirty"?uo(h.value):h});{if(n.value==="aborted")return he;const c=this._def.schema._parseSync({data:l,path:r.path,parent:r});return c.status==="aborted"?he:c.status==="dirty"||n.value==="dirty"?uo(c.value):c}}if(s.type==="refinement"){const l=c=>{const h=s.refinement(c,a);if(r.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?he:(c.status==="dirty"&&n.dirty(),l(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?he:(c.status==="dirty"&&n.dirty(),l(c.value).then(()=>({status:n.value,value:c.value}))))}if(s.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ms(l))return he;const c=s.transform(l.value,a);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>ms(l)?Promise.resolve(s.transform(l.value,a)).then(c=>({status:n.value,value:c})):he);Ne.assertNever(s)}}vs.create=(e,t,n)=>new vs({schema:e,typeName:fe.ZodEffects,effect:t,...ke(n)});vs.createWithPreprocess=(e,t,n)=>new vs({schema:t,effect:{type:"preprocess",transform:e},typeName:fe.ZodEffects,...ke(n)});class Ar extends Te{_parse(t){return this._getType(t)===ne.undefined?cn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ar.create=(e,t)=>new Ar({innerType:e,typeName:fe.ZodOptional,...ke(t)});class ys extends Te{_parse(t){return this._getType(t)===ne.null?cn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ys.create=(e,t)=>new ys({innerType:e,typeName:fe.ZodNullable,...ke(t)});class jd extends Te{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===ne.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}jd.create=(e,t)=>new jd({innerType:e,typeName:fe.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ke(t)});class Vd extends Te{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Al(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new rr(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new rr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Vd.create=(e,t)=>new Vd({innerType:e,typeName:fe.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ke(t)});class $g extends Te{_parse(t){if(this._getType(t)!==ne.nan){const r=this._getOrReturnCtx(t);return Q(r,{code:W.invalid_type,expected:ne.nan,received:r.parsedType}),he}return{status:"valid",value:t.data}}}$g.create=e=>new $g({typeName:fe.ZodNaN,...ke(e)});class Lb extends Te{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class yf extends Te{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?he:a.status==="dirty"?(n.dirty(),uo(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?he:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new yf({in:t,out:n,typeName:fe.ZodPipeline})}}class Zd extends Te{_parse(t){const n=this._def.innerType._parse(t),r=s=>(ms(s)&&(s.value=Object.freeze(s.value)),s);return Al(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Zd.create=(e,t)=>new Zd({innerType:e,typeName:fe.ZodReadonly,...ke(t)});Ke.lazycreate;var fe;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(fe||(fe={}));const sn=kr.create,Nb=gs.create,Ab=Ud.create;Fr.create;Mn.create;const wf=Ke.create;Ke.strictCreate;Il.create;Rl.create;vi.create;_s.create;Dl.create;Ar.create;ys.create;const ow=C.createContext(null),Ob=({children:e})=>{const[t,n]=C.useState(null),[r,s]=C.useState(null),[a,l]=C.useState(!0);C.useEffect(()=>{try{const _=localStorage.getItem("token"),g=localStorage.getItem("user");_&&g&&(s(_),n(JSON.parse(g)))}catch(_){console.error("Failed to parse auth data from storage",_),localStorage.removeItem("user"),localStorage.removeItem("token")}finally{l(!1)}},[]);const p={user:t,token:r,login:(_,g)=>{localStorage.setItem("user",JSON.stringify(_)),localStorage.setItem("token",g),n(_),s(g)},logout:()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),n(null),s(null)},isAuthenticated:!!r,isAuthLoading:a};return a?v("div",{children:"Loading Application..."}):v(ow.Provider,{value:p,children:e})},Wr=()=>C.useContext(ow),wt={}.VITE_API_BASE_URL||"http://localhost:5000";const Ib=wf({email:sn().email("Invalid email address"),password:sn().min(1,"Password is required")}),Rb=()=>{const[e,t]=C.useState(!1),[n,r]=C.useState(null),s=Un(),{login:a}=Wr(),{register:l,handleSubmit:c,formState:{errors:h}}=_f({resolver:vf(Ib)});return v("div",{className:"auth-container",children:D("div",{className:"auth-form-wrapper",children:[D("div",{className:"auth-header",children:[v("h2",{children:"Welcome Back"}),v("p",{children:"Log in to your account to continue."})]}),D("form",{onSubmit:c(async _=>{t(!0),r(null);try{const g=await fetch(`${wt}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)});if(!g.ok){const O=await g.json();throw new Error(O.message||"Failed to login")}const{user:w,token:b}=await g.json();a(w,b),w.role==="admin"?s("/dashboard/admin"):w.role==="ems_personnel"?s("/dashboard/ems"):s("/dashboard/citizen")}catch(g){r(g.message)}finally{t(!1)}}),className:"auth-form",children:[D("div",{className:"form-group",children:[v("label",{children:"Email"}),v("input",{type:"email",...l("email")}),h.email&&v("p",{className:"error-message",children:h.email.message})]}),D("div",{className:"form-group",children:[v("label",{children:"Password"}),v("input",{type:"password",...l("password")}),h.password&&v("p",{className:"error-message",children:h.password.message})]}),n&&v("p",{className:"submission-error",children:n}),v("button",{type:"submit",className:"submit-button",disabled:e,children:e?"Logging In...":"Login"})]}),v("div",{className:"auth-footer",children:D("p",{children:["Don't have an account? ",v(nt,{to:"/register",children:"Register"})]})})]})})},Db=wf({firstName:sn().min(1,"First name is required"),lastName:sn().min(1,"Last name is required"),email:sn().email("Invalid email address"),phoneNumber:sn().min(1,"Phone number is required"),password:sn().min(6,"Password must be at least 6 characters")}),Mb=()=>{const[e,t]=C.useState(!1),[n,r]=C.useState(null),s=Un(),{register:a,handleSubmit:l,formState:{errors:c}}=_f({resolver:vf(Db)});return v("div",{className:"auth-container",children:D("div",{className:"auth-form-wrapper",children:[D("div",{className:"auth-header",children:[v("h2",{children:"Create Your Account"}),v("p",{children:"Join to get a more personalized experience."})]}),D("form",{onSubmit:l(async p=>{t(!0),r(null);try{const _=await fetch(`${wt}/api/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!_.ok){const g=await _.json();throw new Error(g.message||"Failed to register")}s("/login")}catch(_){r(_.message)}finally{t(!1)}}),className:"auth-form",children:[D("div",{className:"form-group",children:[v("label",{children:"First Name"}),v("input",{...a("firstName")}),c.firstName&&v("p",{className:"error-message",children:c.firstName.message})]}),D("div",{className:"form-group",children:[v("label",{children:"Last Name"}),v("input",{...a("lastName")}),c.lastName&&v("p",{className:"error-message",children:c.lastName.message})]}),D("div",{className:"form-group",children:[v("label",{children:"Email"}),v("input",{type:"email",...a("email")}),c.email&&v("p",{className:"error-message",children:c.email.message})]}),D("div",{className:"form-group",children:[v("label",{children:"Phone Number"}),v("input",{...a("phoneNumber")}),c.phoneNumber&&v("p",{className:"error-message",children:c.phoneNumber.message})]}),D("div",{className:"form-group",children:[v("label",{children:"Password"}),v("input",{type:"password",...a("password")}),c.password&&v("p",{className:"error-message",children:c.password.message})]}),n&&v("p",{className:"submission-error",children:n}),v("button",{type:"submit",className:"submit-button",disabled:e,children:e?"Registering...":"Register"})]}),v("div",{className:"auth-footer",children:D("p",{children:["Already have an account? ",v(nt,{to:"/login",children:"Log In"})]})})]})})};const Bb=({isOpen:e,onClose:t,children:n})=>e?v("div",{className:"modal-overlay",onClick:t,children:D("div",{className:"modal-content",onClick:r=>r.stopPropagation(),children:[v("button",{className:"modal-close-button",onClick:t,children:""}),n]})}):null,jg=[{value:"cardiac_arrest",label:"Cardiac Arrest"},{value:"respiratory_distress",label:"Respiratory Distress"},{value:"severe_bleeding",label:"Severe Bleeding"},{value:"vehicular_accident",label:"Vehicular Accident"},{value:"trauma",label:"Trauma / Injury"},{value:"stroke",label:"Suspected Stroke"},{value:"allergic_reaction",label:"Severe Allergic Reaction"},{value:"poisoning",label:"Poisoning / Overdose"},{value:"burn",label:"Major Burn"},{value:"drowning",label:"Drowning"},{value:"other",label:"Other"}],zb=wf({reporterName:sn().min(1,"Name is required"),reporterPhone:sn().min(1,"Phone number is required"),address:sn().min(1,"Address / Location Description is required"),incidentType:sn().min(1,"Incident type is required"),description:sn().optional(),patientCount:Nb().int().min(1,"At least one patient is required"),image:Ab().optional()}),aw=({onSubmit:e,isSubmitting:t})=>{const{register:n,handleSubmit:r,formState:{errors:s},watch:a}=_f({resolver:vf(zb),defaultValues:{patientCount:1,incidentType:jg[0].value}}),l=a("image");return D("form",{onSubmit:r(e),className:"alert-form",children:[D("div",{className:"form-group",children:[v("label",{htmlFor:"reporterName",children:"Your Name"}),v("input",{id:"reporterName",...n("reporterName")}),s.reporterName&&v("p",{className:"error-message",children:s.reporterName.message})]}),D("div",{className:"form-group",children:[v("label",{htmlFor:"reporterPhone",children:"Your Phone Number"}),v("input",{id:"reporterPhone",...n("reporterPhone")}),s.reporterPhone&&v("p",{className:"error-message",children:s.reporterPhone.message})]}),D("div",{className:"form-group",children:[v("label",{htmlFor:"address",children:"Address / Location Description"}),v("textarea",{id:"address",placeholder:"e.g., In front of SM City Daet, Vinzons Ave",...n("address")}),s.address&&v("p",{className:"error-message",children:s.address.message})]}),D("div",{className:"form-group",children:[v("label",{htmlFor:"incidentType",children:"Type of Incident"}),v("select",{id:"incidentType",...n("incidentType"),children:jg.map(c=>v("option",{value:c.value,children:c.label},c.value))}),s.incidentType&&v("p",{className:"error-message",children:s.incidentType.message})]}),D("div",{className:"form-group",children:[v("label",{htmlFor:"patientCount",children:"Number of Patients"}),v("input",{id:"patientCount",type:"number",...n("patientCount",{valueAsNumber:!0})}),s.patientCount&&v("p",{className:"error-message",children:s.patientCount.message})]}),D("div",{className:"form-group",children:[v("label",{htmlFor:"description",children:"Description of Incident (Optional)"}),v("textarea",{id:"description",placeholder:"Provide a brief description of the situation...",...n("description")}),s.description&&v("p",{className:"error-message",children:s.description.message})]}),D("div",{className:"form-group",children:[v("label",{htmlFor:"image",children:"Upload Image (Optional)"}),v("input",{id:"image",type:"file",accept:"image/*",...n("image")}),l&&l[0]&&v("div",{className:"image-preview",children:v("img",{src:URL.createObjectURL(l[0]),alt:"Preview"})})]}),v("button",{type:"submit",className:"submit-button",disabled:t,children:t?"Submitting...":"Submit Alert"})]})};function lw(e,t){const n=C.useRef(t);C.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const Fb=1;function Ub(e){return Object.freeze({__version:Fb,map:e})}function $b(e,t){return Object.freeze({...e,...t})}const uw=C.createContext(null),cw=uw.Provider;function dw(){const e=C.useContext(uw);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function jb(e){function t(n,r){const{instance:s,context:a}=e(n).current;return C.useImperativeHandle(r,()=>s),n.children==null?null:ot.createElement(cw,{value:a},n.children)}return C.forwardRef(t)}function Vb(e){function t(n,r){const[s,a]=C.useState(!1),{instance:l}=e(n,a).current;C.useImperativeHandle(r,()=>l),C.useEffect(function(){s&&l.update()},[l,s,n.children]);const c=l._contentNode;return c?zy.createPortal(n.children,c):null}return C.forwardRef(t)}function Zb(e){function t(n,r){const{instance:s}=e(n).current;return C.useImperativeHandle(r,()=>s),null}return C.forwardRef(t)}function hw(e,t){const n=C.useRef();C.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function kf(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function Hb(e,t){return function(r,s){const a=dw(),l=e(kf(r,a),a);return lw(a.map,r.attribution),hw(l.current,r.eventHandlers),t(l.current,a,r,s),l}}var Hd={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(t1,function(n){var r="1.9.4";function s(i){var o,u,d,f;for(u=1,d=arguments.length;u<d;u++){f=arguments[u];for(o in f)i[o]=f[o]}return i}var a=Object.create||function(){function i(){}return function(o){return i.prototype=o,new i}}();function l(i,o){var u=Array.prototype.slice;if(i.bind)return i.bind.apply(i,u.call(arguments,1));var d=u.call(arguments,2);return function(){return i.apply(o,d.length?d.concat(u.call(arguments)):arguments)}}var c=0;function h(i){return"_leaflet_id"in i||(i._leaflet_id=++c),i._leaflet_id}function p(i,o,u){var d,f,m,k;return k=function(){d=!1,f&&(m.apply(u,f),f=!1)},m=function(){d?f=arguments:(i.apply(u,arguments),setTimeout(k,o),d=!0)},m}function _(i,o,u){var d=o[1],f=o[0],m=d-f;return i===d&&u?i:((i-f)%m+m)%m+f}function g(){return!1}function w(i,o){if(o===!1)return i;var u=Math.pow(10,o===void 0?6:o);return Math.round(i*u)/u}function b(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function O(i){return b(i).split(/\s+/)}function N(i,o){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?a(i.options):{});for(var u in o)i.options[u]=o[u];return i.options}function z(i,o,u){var d=[];for(var f in i)d.push(encodeURIComponent(u?f.toUpperCase():f)+"="+encodeURIComponent(i[f]));return(!o||o.indexOf("?")===-1?"?":"&")+d.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function y(i,o){return i.replace(S,function(u,d){var f=o[d];if(f===void 0)throw new Error("No value provided for variable "+u);return typeof f=="function"&&(f=f(o)),f})}var x=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function T(i,o){for(var u=0;u<i.length;u++)if(i[u]===o)return u;return-1}var R="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function U(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var B=0;function $(i){var o=+new Date,u=Math.max(0,16-(o-B));return B=o+u,window.setTimeout(i,u)}var oe=window.requestAnimationFrame||U("RequestAnimationFrame")||$,G=window.cancelAnimationFrame||U("CancelAnimationFrame")||U("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function pe(i,o,u){if(u&&oe===$)i.call(o);else return oe.call(window,l(i,o))}function J(i){i&&G.call(window,i)}var ge={__proto__:null,extend:s,create:a,bind:l,get lastId(){return c},stamp:h,throttle:p,wrapNum:_,falseFn:g,formatNum:w,trim:b,splitWords:O,setOptions:N,getParamString:z,template:y,isArray:x,indexOf:T,emptyImageUrl:R,requestFn:oe,cancelFn:G,requestAnimFrame:pe,cancelAnimFrame:J};function Se(){}Se.extend=function(i){var o=function(){N(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=o.__super__=this.prototype,d=a(u);d.constructor=o,o.prototype=d;for(var f in this)Object.prototype.hasOwnProperty.call(this,f)&&f!=="prototype"&&f!=="__super__"&&(o[f]=this[f]);return i.statics&&s(o,i.statics),i.includes&&($e(i.includes),s.apply(null,[d].concat(i.includes))),s(d,i),delete d.statics,delete d.includes,d.options&&(d.options=u.options?a(u.options):{},s(d.options,i.options)),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var m=0,k=d._initHooks.length;m<k;m++)d._initHooks[m].call(this)}},o},Se.include=function(i){var o=this.prototype.options;return s(this.prototype,i),i.options&&(this.prototype.options=o,this.mergeOptions(i.options)),this},Se.mergeOptions=function(i){return s(this.prototype.options,i),this},Se.addInitHook=function(i){var o=Array.prototype.slice.call(arguments,1),u=typeof i=="function"?i:function(){this[i].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function $e(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=x(i)?i:[i];for(var o=0;o<i.length;o++)i[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ce={on:function(i,o,u){if(typeof i=="object")for(var d in i)this._on(d,i[d],o);else{i=O(i);for(var f=0,m=i.length;f<m;f++)this._on(i[f],o,u)}return this},off:function(i,o,u){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var d in i)this._off(d,i[d],o);else{i=O(i);for(var f=arguments.length===1,m=0,k=i.length;m<k;m++)f?this._off(i[m]):this._off(i[m],o,u)}return this},_on:function(i,o,u,d){if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}if(this._listens(i,o,u)===!1){u===this&&(u=void 0);var f={fn:o,ctx:u};d&&(f.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(f)}},_off:function(i,o,u){var d,f,m;if(this._events&&(d=this._events[i],!!d)){if(arguments.length===1){if(this._firingCount)for(f=0,m=d.length;f<m;f++)d[f].fn=g;delete this._events[i];return}if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}var k=this._listens(i,o,u);if(k!==!1){var P=d[k];this._firingCount&&(P.fn=g,this._events[i]=d=d.slice()),d.splice(k,1)}}},fire:function(i,o,u){if(!this.listens(i,u))return this;var d=s({},o,{type:i,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var f=this._events[i];if(f){this._firingCount=this._firingCount+1||1;for(var m=0,k=f.length;m<k;m++){var P=f[m],I=P.fn;P.once&&this.off(i,I,P.ctx),I.call(P.ctx||this,d)}this._firingCount--}}return u&&this._propagateEvent(d),this},listens:function(i,o,u,d){typeof i!="string"&&console.warn('"string" type argument expected');var f=o;typeof o!="function"&&(d=!!o,f=void 0,u=void 0);var m=this._events&&this._events[i];if(m&&m.length&&this._listens(i,f,u)!==!1)return!0;if(d){for(var k in this._eventParents)if(this._eventParents[k].listens(i,o,u,d))return!0}return!1},_listens:function(i,o,u){if(!this._events)return!1;var d=this._events[i]||[];if(!o)return!!d.length;u===this&&(u=void 0);for(var f=0,m=d.length;f<m;f++)if(d[f].fn===o&&d[f].ctx===u)return f;return!1},once:function(i,o,u){if(typeof i=="object")for(var d in i)this._on(d,i[d],o,!0);else{i=O(i);for(var f=0,m=i.length;f<m;f++)this._on(i[f],o,u,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[h(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[h(i)],this},_propagateEvent:function(i){for(var o in this._eventParents)this._eventParents[o].fire(i.type,s({layer:i.target,propagatedFrom:i.target},i),!0)}};Ce.addEventListener=Ce.on,Ce.removeEventListener=Ce.clearAllEventListeners=Ce.off,Ce.addOneTimeEventListener=Ce.once,Ce.fireEvent=Ce.fire,Ce.hasEventListeners=Ce.listens;var Re=Se.extend(Ce);function F(i,o,u){this.x=u?Math.round(i):i,this.y=u?Math.round(o):o}var ae=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};F.prototype={clone:function(){return new F(this.x,this.y)},add:function(i){return this.clone()._add(j(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(j(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new F(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new F(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ae(this.x),this.y=ae(this.y),this},distanceTo:function(i){i=j(i);var o=i.x-this.x,u=i.y-this.y;return Math.sqrt(o*o+u*u)},equals:function(i){return i=j(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=j(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+w(this.x)+", "+w(this.y)+")"}};function j(i,o,u){return i instanceof F?i:x(i)?new F(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new F(i.x,i.y):new F(i,o,u)}function ee(i,o){if(i)for(var u=o?[i,o]:i,d=0,f=u.length;d<f;d++)this.extend(u[d])}ee.prototype={extend:function(i){var o,u;if(!i)return this;if(i instanceof F||typeof i[0]=="number"||"x"in i)o=u=j(i);else if(i=ce(i),o=i.min,u=i.max,!o||!u)return this;return!this.min&&!this.max?(this.min=o.clone(),this.max=u.clone()):(this.min.x=Math.min(o.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(o.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(i){return j((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return j(this.min.x,this.max.y)},getTopRight:function(){return j(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var o,u;return typeof i[0]=="number"||i instanceof F?i=j(i):i=ce(i),i instanceof ee?(o=i.min,u=i.max):o=u=i,o.x>=this.min.x&&u.x<=this.max.x&&o.y>=this.min.y&&u.y<=this.max.y},intersects:function(i){i=ce(i);var o=this.min,u=this.max,d=i.min,f=i.max,m=f.x>=o.x&&d.x<=u.x,k=f.y>=o.y&&d.y<=u.y;return m&&k},overlaps:function(i){i=ce(i);var o=this.min,u=this.max,d=i.min,f=i.max,m=f.x>o.x&&d.x<u.x,k=f.y>o.y&&d.y<u.y;return m&&k},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var o=this.min,u=this.max,d=Math.abs(o.x-u.x)*i,f=Math.abs(o.y-u.y)*i;return ce(j(o.x-d,o.y-f),j(u.x+d,u.y+f))},equals:function(i){return i?(i=ce(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function ce(i,o){return!i||i instanceof ee?i:new ee(i,o)}function Oe(i,o){if(i)for(var u=o?[i,o]:i,d=0,f=u.length;d<f;d++)this.extend(u[d])}Oe.prototype={extend:function(i){var o=this._southWest,u=this._northEast,d,f;if(i instanceof de)d=i,f=i;else if(i instanceof Oe){if(d=i._southWest,f=i._northEast,!d||!f)return this}else return i?this.extend(le(i)||_e(i)):this;return!o&&!u?(this._southWest=new de(d.lat,d.lng),this._northEast=new de(f.lat,f.lng)):(o.lat=Math.min(d.lat,o.lat),o.lng=Math.min(d.lng,o.lng),u.lat=Math.max(f.lat,u.lat),u.lng=Math.max(f.lng,u.lng)),this},pad:function(i){var o=this._southWest,u=this._northEast,d=Math.abs(o.lat-u.lat)*i,f=Math.abs(o.lng-u.lng)*i;return new Oe(new de(o.lat-d,o.lng-f),new de(u.lat+d,u.lng+f))},getCenter:function(){return new de((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new de(this.getNorth(),this.getWest())},getSouthEast:function(){return new de(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof de||"lat"in i?i=le(i):i=_e(i);var o=this._southWest,u=this._northEast,d,f;return i instanceof Oe?(d=i.getSouthWest(),f=i.getNorthEast()):d=f=i,d.lat>=o.lat&&f.lat<=u.lat&&d.lng>=o.lng&&f.lng<=u.lng},intersects:function(i){i=_e(i);var o=this._southWest,u=this._northEast,d=i.getSouthWest(),f=i.getNorthEast(),m=f.lat>=o.lat&&d.lat<=u.lat,k=f.lng>=o.lng&&d.lng<=u.lng;return m&&k},overlaps:function(i){i=_e(i);var o=this._southWest,u=this._northEast,d=i.getSouthWest(),f=i.getNorthEast(),m=f.lat>o.lat&&d.lat<u.lat,k=f.lng>o.lng&&d.lng<u.lng;return m&&k},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,o){return i?(i=_e(i),this._southWest.equals(i.getSouthWest(),o)&&this._northEast.equals(i.getNorthEast(),o)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function _e(i,o){return i instanceof Oe?i:new Oe(i,o)}function de(i,o,u){if(isNaN(i)||isNaN(o))throw new Error("Invalid LatLng object: ("+i+", "+o+")");this.lat=+i,this.lng=+o,u!==void 0&&(this.alt=+u)}de.prototype={equals:function(i,o){if(!i)return!1;i=le(i);var u=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return u<=(o===void 0?1e-9:o)},toString:function(i){return"LatLng("+w(this.lat,i)+", "+w(this.lng,i)+")"},distanceTo:function(i){return Qt.distance(this,le(i))},wrap:function(){return Qt.wrapLatLng(this)},toBounds:function(i){var o=180*i/40075017,u=o/Math.cos(Math.PI/180*this.lat);return _e([this.lat-o,this.lng-u],[this.lat+o,this.lng+u])},clone:function(){return new de(this.lat,this.lng,this.alt)}};function le(i,o,u){return i instanceof de?i:x(i)&&typeof i[0]!="object"?i.length===3?new de(i[0],i[1],i[2]):i.length===2?new de(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new de(i.lat,"lng"in i?i.lng:i.lon,i.alt):o===void 0?null:new de(i,o,u)}var Je={latLngToPoint:function(i,o){var u=this.projection.project(i),d=this.scale(o);return this.transformation._transform(u,d)},pointToLatLng:function(i,o){var u=this.scale(o),d=this.transformation.untransform(i,u);return this.projection.unproject(d)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var o=this.projection.bounds,u=this.scale(i),d=this.transformation.transform(o.min,u),f=this.transformation.transform(o.max,u);return new ee(d,f)},infinite:!1,wrapLatLng:function(i){var o=this.wrapLng?_(i.lng,this.wrapLng,!0):i.lng,u=this.wrapLat?_(i.lat,this.wrapLat,!0):i.lat,d=i.alt;return new de(u,o,d)},wrapLatLngBounds:function(i){var o=i.getCenter(),u=this.wrapLatLng(o),d=o.lat-u.lat,f=o.lng-u.lng;if(d===0&&f===0)return i;var m=i.getSouthWest(),k=i.getNorthEast(),P=new de(m.lat-d,m.lng-f),I=new de(k.lat-d,k.lng-f);return new Oe(P,I)}},Qt=s({},Je,{wrapLng:[-180,180],R:6371e3,distance:function(i,o){var u=Math.PI/180,d=i.lat*u,f=o.lat*u,m=Math.sin((o.lat-i.lat)*u/2),k=Math.sin((o.lng-i.lng)*u/2),P=m*m+Math.cos(d)*Math.cos(f)*k*k,I=2*Math.atan2(Math.sqrt(P),Math.sqrt(1-P));return this.R*I}}),Ns=6378137,qr={R:Ns,MAX_LATITUDE:85.0511287798,project:function(i){var o=Math.PI/180,u=this.MAX_LATITUDE,d=Math.max(Math.min(u,i.lat),-u),f=Math.sin(d*o);return new F(this.R*i.lng*o,this.R*Math.log((1+f)/(1-f))/2)},unproject:function(i){var o=180/Math.PI;return new de((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*o,i.x*o/this.R)},bounds:function(){var i=Ns*Math.PI;return new ee([-i,-i],[i,i])}()};function Kr(i,o,u,d){if(x(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=o,this._c=u,this._d=d}Kr.prototype={transform:function(i,o){return this._transform(i.clone(),o)},_transform:function(i,o){return o=o||1,i.x=o*(this._a*i.x+this._b),i.y=o*(this._c*i.y+this._d),i},untransform:function(i,o){return o=o||1,new F((i.x/o-this._b)/this._a,(i.y/o-this._d)/this._c)}};function Gr(i,o,u,d){return new Kr(i,o,u,d)}var Pi=s({},Qt,{code:"EPSG:3857",projection:qr,transformation:function(){var i=.5/(Math.PI*qr.R);return Gr(i,.5,-i,.5)}()}),fu=s({},Pi,{code:"EPSG:900913"});function As(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Os(i,o){var u="",d,f,m,k,P,I;for(d=0,m=i.length;d<m;d++){for(P=i[d],f=0,k=P.length;f<k;f++)I=P[f],u+=(f?"L":"M")+I.x+" "+I.y;u+=o?se.svg?"z":"x":""}return u||"M0 0"}var Is=document.documentElement.style,Li="ActiveXObject"in window,Gf=Li&&!document.addEventListener,Rs="msLaunchUri"in navigator&&!("documentMode"in document),E=bn("webkit"),A=bn("android"),M=bn("android 2")||bn("android 3"),K=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),q=A&&bn("Google")&&K<537&&!("AudioNode"in window),H=!!window.opera,ie=!Rs&&bn("chrome"),Pe=bn("gecko")&&!E&&!H&&!Li,Ae=!ie&&bn("safari"),ft=bn("phantom"),Sn="OTransition"in Is,En=navigator.platform.indexOf("Win")===0,Xo=Li&&"transition"in Is,Yr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!M,Ni="MozPerspective"in Is,pu=!window.L_DISABLE_3D&&(Xo||Yr||Ni)&&!Sn&&!ft,ar=typeof orientation<"u"||bn("mobile"),mu=ar&&E,ea=ar&&Yr,Yf=!window.PointerEvent&&window.MSPointerEvent,Qf=!!(window.PointerEvent||Yf),Jf="ontouchstart"in window||!!window.TouchEvent,F0=!window.L_NO_TOUCH&&(Jf||Qf),U0=ar&&H,$0=ar&&Pe,j0=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,V0=function(){var i=!1;try{var o=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",g,o),window.removeEventListener("testPassiveEventSupport",g,o)}catch{}return i}(),Z0=function(){return!!document.createElement("canvas").getContext}(),gu=!!(document.createElementNS&&As("svg").createSVGRect),H0=!!gu&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),W0=!gu&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var o=i.firstChild;return o.style.behavior="url(#default#VML)",o&&typeof o.adj=="object"}catch{return!1}}(),q0=navigator.platform.indexOf("Mac")===0,K0=navigator.platform.indexOf("Linux")===0;function bn(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var se={ie:Li,ielt9:Gf,edge:Rs,webkit:E,android:A,android23:M,androidStock:q,opera:H,chrome:ie,gecko:Pe,safari:Ae,phantom:ft,opera12:Sn,win:En,ie3d:Xo,webkit3d:Yr,gecko3d:Ni,any3d:pu,mobile:ar,mobileWebkit:mu,mobileWebkit3d:ea,msPointer:Yf,pointer:Qf,touch:F0,touchNative:Jf,mobileOpera:U0,mobileGecko:$0,retina:j0,passiveEvents:V0,canvas:Z0,svg:gu,vml:W0,inlineSvg:H0,mac:q0,linux:K0},Xf=se.msPointer?"MSPointerDown":"pointerdown",ep=se.msPointer?"MSPointerMove":"pointermove",tp=se.msPointer?"MSPointerUp":"pointerup",np=se.msPointer?"MSPointerCancel":"pointercancel",_u={touchstart:Xf,touchmove:ep,touchend:tp,touchcancel:np},rp={touchstart:ek,touchmove:ta,touchend:ta,touchcancel:ta},Ai={},ip=!1;function G0(i,o,u){return o==="touchstart"&&X0(),rp[o]?(u=rp[o].bind(this,u),i.addEventListener(_u[o],u,!1),u):(console.warn("wrong event specified:",o),g)}function Y0(i,o,u){if(!_u[o]){console.warn("wrong event specified:",o);return}i.removeEventListener(_u[o],u,!1)}function Q0(i){Ai[i.pointerId]=i}function J0(i){Ai[i.pointerId]&&(Ai[i.pointerId]=i)}function sp(i){delete Ai[i.pointerId]}function X0(){ip||(document.addEventListener(Xf,Q0,!0),document.addEventListener(ep,J0,!0),document.addEventListener(tp,sp,!0),document.addEventListener(np,sp,!0),ip=!0)}function ta(i,o){if(o.pointerType!==(o.MSPOINTER_TYPE_MOUSE||"mouse")){o.touches=[];for(var u in Ai)o.touches.push(Ai[u]);o.changedTouches=[o],i(o)}}function ek(i,o){o.MSPOINTER_TYPE_TOUCH&&o.pointerType===o.MSPOINTER_TYPE_TOUCH&&_t(o),ta(i,o)}function tk(i){var o={},u,d;for(d in i)u=i[d],o[d]=u&&u.bind?u.bind(i):u;return i=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var nk=200;function rk(i,o){i.addEventListener("dblclick",o);var u=0,d;function f(m){if(m.detail!==1){d=m.detail;return}if(!(m.pointerType==="mouse"||m.sourceCapabilities&&!m.sourceCapabilities.firesTouchEvents)){var k=cp(m);if(!(k.some(function(I){return I instanceof HTMLLabelElement&&I.attributes.for})&&!k.some(function(I){return I instanceof HTMLInputElement||I instanceof HTMLSelectElement}))){var P=Date.now();P-u<=nk?(d++,d===2&&o(tk(m))):d=1,u=P}}}return i.addEventListener("click",f),{dblclick:o,simDblclick:f}}function ik(i,o){i.removeEventListener("dblclick",o.dblclick),i.removeEventListener("click",o.simDblclick)}var vu=ia(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ds=ia(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),op=Ds==="webkitTransition"||Ds==="OTransition"?Ds+"End":"transitionend";function ap(i){return typeof i=="string"?document.getElementById(i):i}function Ms(i,o){var u=i.style[o]||i.currentStyle&&i.currentStyle[o];if((!u||u==="auto")&&document.defaultView){var d=document.defaultView.getComputedStyle(i,null);u=d?d[o]:null}return u==="auto"?null:u}function Le(i,o,u){var d=document.createElement(i);return d.className=o||"",u&&u.appendChild(d),d}function Ve(i){var o=i.parentNode;o&&o.removeChild(i)}function na(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Oi(i){var o=i.parentNode;o&&o.lastChild!==i&&o.appendChild(i)}function Ii(i){var o=i.parentNode;o&&o.firstChild!==i&&o.insertBefore(i,o.firstChild)}function yu(i,o){if(i.classList!==void 0)return i.classList.contains(o);var u=ra(i);return u.length>0&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(u)}function ve(i,o){if(i.classList!==void 0)for(var u=O(o),d=0,f=u.length;d<f;d++)i.classList.add(u[d]);else if(!yu(i,o)){var m=ra(i);wu(i,(m?m+" ":"")+o)}}function Xe(i,o){i.classList!==void 0?i.classList.remove(o):wu(i,b((" "+ra(i)+" ").replace(" "+o+" "," ")))}function wu(i,o){i.className.baseVal===void 0?i.className=o:i.className.baseVal=o}function ra(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function Jt(i,o){"opacity"in i.style?i.style.opacity=o:"filter"in i.style&&sk(i,o)}function sk(i,o){var u=!1,d="DXImageTransform.Microsoft.Alpha";try{u=i.filters.item(d)}catch{if(o===1)return}o=Math.round(o*100),u?(u.Enabled=o!==100,u.Opacity=o):i.style.filter+=" progid:"+d+"(opacity="+o+")"}function ia(i){for(var o=document.documentElement.style,u=0;u<i.length;u++)if(i[u]in o)return i[u];return!1}function Qr(i,o,u){var d=o||new F(0,0);i.style[vu]=(se.ie3d?"translate("+d.x+"px,"+d.y+"px)":"translate3d("+d.x+"px,"+d.y+"px,0)")+(u?" scale("+u+")":"")}function rt(i,o){i._leaflet_pos=o,se.any3d?Qr(i,o):(i.style.left=o.x+"px",i.style.top=o.y+"px")}function Jr(i){return i._leaflet_pos||new F(0,0)}var Bs,zs,ku;if("onselectstart"in document)Bs=function(){me(window,"selectstart",_t)},zs=function(){De(window,"selectstart",_t)};else{var Fs=ia(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Bs=function(){if(Fs){var i=document.documentElement.style;ku=i[Fs],i[Fs]="none"}},zs=function(){Fs&&(document.documentElement.style[Fs]=ku,ku=void 0)}}function xu(){me(window,"dragstart",_t)}function Su(){De(window,"dragstart",_t)}var sa,Eu;function bu(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(oa(),sa=i,Eu=i.style.outlineStyle,i.style.outlineStyle="none",me(window,"keydown",oa))}function oa(){sa&&(sa.style.outlineStyle=Eu,sa=void 0,Eu=void 0,De(window,"keydown",oa))}function lp(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function Tu(i){var o=i.getBoundingClientRect();return{x:o.width/i.offsetWidth||1,y:o.height/i.offsetHeight||1,boundingClientRect:o}}var ok={__proto__:null,TRANSFORM:vu,TRANSITION:Ds,TRANSITION_END:op,get:ap,getStyle:Ms,create:Le,remove:Ve,empty:na,toFront:Oi,toBack:Ii,hasClass:yu,addClass:ve,removeClass:Xe,setClass:wu,getClass:ra,setOpacity:Jt,testProp:ia,setTransform:Qr,setPosition:rt,getPosition:Jr,get disableTextSelection(){return Bs},get enableTextSelection(){return zs},disableImageDrag:xu,enableImageDrag:Su,preventOutline:bu,restoreOutline:oa,getSizedParentNode:lp,getScale:Tu};function me(i,o,u,d){if(o&&typeof o=="object")for(var f in o)Pu(i,f,o[f],u);else{o=O(o);for(var m=0,k=o.length;m<k;m++)Pu(i,o[m],u,d)}return this}var Tn="_leaflet_events";function De(i,o,u,d){if(arguments.length===1)up(i),delete i[Tn];else if(o&&typeof o=="object")for(var f in o)Lu(i,f,o[f],u);else if(o=O(o),arguments.length===2)up(i,function(P){return T(o,P)!==-1});else for(var m=0,k=o.length;m<k;m++)Lu(i,o[m],u,d);return this}function up(i,o){for(var u in i[Tn]){var d=u.split(/\d/)[0];(!o||o(d))&&Lu(i,d,null,null,u)}}var Cu={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Pu(i,o,u,d){var f=o+h(u)+(d?"_"+h(d):"");if(i[Tn]&&i[Tn][f])return this;var m=function(P){return u.call(d||i,P||window.event)},k=m;!se.touchNative&&se.pointer&&o.indexOf("touch")===0?m=G0(i,o,m):se.touch&&o==="dblclick"?m=rk(i,m):"addEventListener"in i?o==="touchstart"||o==="touchmove"||o==="wheel"||o==="mousewheel"?i.addEventListener(Cu[o]||o,m,se.passiveEvents?{passive:!1}:!1):o==="mouseenter"||o==="mouseleave"?(m=function(P){P=P||window.event,Au(i,P)&&k(P)},i.addEventListener(Cu[o],m,!1)):i.addEventListener(o,k,!1):i.attachEvent("on"+o,m),i[Tn]=i[Tn]||{},i[Tn][f]=m}function Lu(i,o,u,d,f){f=f||o+h(u)+(d?"_"+h(d):"");var m=i[Tn]&&i[Tn][f];if(!m)return this;!se.touchNative&&se.pointer&&o.indexOf("touch")===0?Y0(i,o,m):se.touch&&o==="dblclick"?ik(i,m):"removeEventListener"in i?i.removeEventListener(Cu[o]||o,m,!1):i.detachEvent("on"+o,m),i[Tn][f]=null}function Xr(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function Nu(i){return Pu(i,"wheel",Xr),this}function Us(i){return me(i,"mousedown touchstart dblclick contextmenu",Xr),i._leaflet_disable_click=!0,this}function _t(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function ei(i){return _t(i),Xr(i),this}function cp(i){if(i.composedPath)return i.composedPath();for(var o=[],u=i.target;u;)o.push(u),u=u.parentNode;return o}function dp(i,o){if(!o)return new F(i.clientX,i.clientY);var u=Tu(o),d=u.boundingClientRect;return new F((i.clientX-d.left)/u.x-o.clientLeft,(i.clientY-d.top)/u.y-o.clientTop)}var ak=se.linux&&se.chrome?window.devicePixelRatio:se.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function hp(i){return se.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/ak:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function Au(i,o){var u=o.relatedTarget;if(!u)return!0;try{for(;u&&u!==i;)u=u.parentNode}catch{return!1}return u!==i}var lk={__proto__:null,on:me,off:De,stopPropagation:Xr,disableScrollPropagation:Nu,disableClickPropagation:Us,preventDefault:_t,stop:ei,getPropagationPath:cp,getMousePosition:dp,getWheelDelta:hp,isExternalTarget:Au,addListener:me,removeListener:De},fp=Re.extend({run:function(i,o,u,d){this.stop(),this._el=i,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=Jr(i),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=pe(this._animate,this),this._step()},_step:function(i){var o=+new Date-this._startTime,u=this._duration*1e3;o<u?this._runFrame(this._easeOut(o/u),i):(this._runFrame(1),this._complete())},_runFrame:function(i,o){var u=this._startPos.add(this._offset.multiplyBy(i));o&&u._round(),rt(this._el,u),this.fire("step")},_complete:function(){J(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),Ee=Re.extend({options:{crs:Pi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,o){o=N(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),o.zoom!==void 0&&(this._zoom=this._limitZoom(o.zoom)),o.center&&o.zoom!==void 0&&this.setView(le(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ds&&se.any3d&&!se.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),me(this._proxy,op,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,o,u){if(o=o===void 0?this._zoom:this._limitZoom(o),i=this._limitCenter(le(i),o,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=s({animate:u.animate},u.zoom),u.pan=s({animate:u.animate,duration:u.duration},u.pan));var d=this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,o,u.zoom):this._tryAnimatedPan(i,u.pan);if(d)return clearTimeout(this._sizeTimer),this}return this._resetView(i,o,u.pan&&u.pan.noMoveStart),this},setZoom:function(i,o){return this._loaded?this.setView(this.getCenter(),i,{zoom:o}):(this._zoom=i,this)},zoomIn:function(i,o){return i=i||(se.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,o)},zoomOut:function(i,o){return i=i||(se.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,o)},setZoomAround:function(i,o,u){var d=this.getZoomScale(o),f=this.getSize().divideBy(2),m=i instanceof F?i:this.latLngToContainerPoint(i),k=m.subtract(f).multiplyBy(1-1/d),P=this.containerPointToLatLng(f.add(k));return this.setView(P,o,{zoom:u})},_getBoundsCenterZoom:function(i,o){o=o||{},i=i.getBounds?i.getBounds():_e(i);var u=j(o.paddingTopLeft||o.padding||[0,0]),d=j(o.paddingBottomRight||o.padding||[0,0]),f=this.getBoundsZoom(i,!1,u.add(d));if(f=typeof o.maxZoom=="number"?Math.min(o.maxZoom,f):f,f===1/0)return{center:i.getCenter(),zoom:f};var m=d.subtract(u).divideBy(2),k=this.project(i.getSouthWest(),f),P=this.project(i.getNorthEast(),f),I=this.unproject(k.add(P).divideBy(2).add(m),f);return{center:I,zoom:f}},fitBounds:function(i,o){if(i=_e(i),!i.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(i,o);return this.setView(u.center,u.zoom,o)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,o){return this.setView(i,this._zoom,{pan:o})},panBy:function(i,o){if(i=j(i).round(),o=o||{},!i.x&&!i.y)return this.fire("moveend");if(o.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new fp,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),o.animate!==!1){ve(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,u,o.duration||.25,o.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,o,u){if(u=u||{},u.animate===!1||!se.any3d)return this.setView(i,o,u);this._stop();var d=this.project(this.getCenter()),f=this.project(i),m=this.getSize(),k=this._zoom;i=le(i),o=o===void 0?k:o;var P=Math.max(m.x,m.y),I=P*this.getZoomScale(k,o),V=f.distanceTo(d)||1,Y=1.42,ue=Y*Y;function we(it){var va=it?-1:1,Yk=it?I:P,Qk=I*I-P*P+va*ue*ue*V*V,Jk=2*Yk*ue*V,ju=Qk/Jk,qp=Math.sqrt(ju*ju+1)-ju,Xk=qp<1e-9?-18:Math.log(qp);return Xk}function Tt(it){return(Math.exp(it)-Math.exp(-it))/2}function pt(it){return(Math.exp(it)+Math.exp(-it))/2}function en(it){return Tt(it)/pt(it)}var Rt=we(0);function Fi(it){return P*(pt(Rt)/pt(Rt+Y*it))}function Wk(it){return P*(pt(Rt)*en(Rt+Y*it)-Tt(Rt))/ue}function qk(it){return 1-Math.pow(1-it,1.5)}var Kk=Date.now(),Hp=(we(1)-Rt)/Y,Gk=u.duration?1e3*u.duration:1e3*Hp*.8;function Wp(){var it=(Date.now()-Kk)/Gk,va=qk(it)*Hp;it<=1?(this._flyToFrame=pe(Wp,this),this._move(this.unproject(d.add(f.subtract(d).multiplyBy(Wk(va)/V)),k),this.getScaleZoom(P/Fi(va),k),{flyTo:!0})):this._move(i,o)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),Wp.call(this),this},flyToBounds:function(i,o){var u=this._getBoundsCenterZoom(i,o);return this.flyTo(u.center,u.zoom,o)},setMaxBounds:function(i){return i=_e(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var o=this.options.minZoom;return this.options.minZoom=i,this._loaded&&o!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var o=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&o!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,o){this._enforcingBounds=!0;var u=this.getCenter(),d=this._limitCenter(u,this._zoom,_e(i));return u.equals(d)||this.panTo(d,o),this._enforcingBounds=!1,this},panInside:function(i,o){o=o||{};var u=j(o.paddingTopLeft||o.padding||[0,0]),d=j(o.paddingBottomRight||o.padding||[0,0]),f=this.project(this.getCenter()),m=this.project(i),k=this.getPixelBounds(),P=ce([k.min.add(u),k.max.subtract(d)]),I=P.getSize();if(!P.contains(m)){this._enforcingBounds=!0;var V=m.subtract(P.getCenter()),Y=P.extend(m).getSize().subtract(I);f.x+=V.x<0?-Y.x:Y.x,f.y+=V.y<0?-Y.y:Y.y,this.panTo(this.unproject(f),o),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=s({animate:!1,pan:!0},i===!0?{animate:!0}:i);var o=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),d=o.divideBy(2).round(),f=u.divideBy(2).round(),m=d.subtract(f);return!m.x&&!m.y?this:(i.animate&&i.pan?this.panBy(m):(i.pan&&this._rawPanBy(m),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=s({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=l(this._handleGeolocationResponse,this),u=l(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,u,i):navigator.geolocation.getCurrentPosition(o,u,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var o=i.code,u=i.message||(o===1?"permission denied":o===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var o=i.coords.latitude,u=i.coords.longitude,d=new de(o,u),f=d.toBounds(i.coords.accuracy*2),m=this._locateOptions;if(m.setView){var k=this.getBoundsZoom(f);this.setView(d,m.maxZoom?Math.min(k,m.maxZoom):k)}var P={latlng:d,bounds:f,timestamp:i.timestamp};for(var I in i.coords)typeof i.coords[I]=="number"&&(P[I]=i.coords[I]);this.fire("locationfound",P)}},addHandler:function(i,o){if(!o)return this;var u=this[i]=new o(this);return this._handlers.push(u),this.options[i]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ve(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(J(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Ve(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,o){var u="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),d=Le("div",u,o||this._mapPane);return i&&(this._panes[i]=d),d},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),o=this.unproject(i.getBottomLeft()),u=this.unproject(i.getTopRight());return new Oe(o,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,o,u){i=_e(i),u=j(u||[0,0]);var d=this.getZoom()||0,f=this.getMinZoom(),m=this.getMaxZoom(),k=i.getNorthWest(),P=i.getSouthEast(),I=this.getSize().subtract(u),V=ce(this.project(P,d),this.project(k,d)).getSize(),Y=se.any3d?this.options.zoomSnap:1,ue=I.x/V.x,we=I.y/V.y,Tt=o?Math.max(ue,we):Math.min(ue,we);return d=this.getScaleZoom(Tt,d),Y&&(d=Math.round(d/(Y/100))*(Y/100),d=o?Math.ceil(d/Y)*Y:Math.floor(d/Y)*Y),Math.max(f,Math.min(m,d))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new F(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,o){var u=this._getTopLeftPoint(i,o);return new ee(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,o){var u=this.options.crs;return o=o===void 0?this._zoom:o,u.scale(i)/u.scale(o)},getScaleZoom:function(i,o){var u=this.options.crs;o=o===void 0?this._zoom:o;var d=u.zoom(i*u.scale(o));return isNaN(d)?1/0:d},project:function(i,o){return o=o===void 0?this._zoom:o,this.options.crs.latLngToPoint(le(i),o)},unproject:function(i,o){return o=o===void 0?this._zoom:o,this.options.crs.pointToLatLng(j(i),o)},layerPointToLatLng:function(i){var o=j(i).add(this.getPixelOrigin());return this.unproject(o)},latLngToLayerPoint:function(i){var o=this.project(le(i))._round();return o._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(le(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(_e(i))},distance:function(i,o){return this.options.crs.distance(le(i),le(o))},containerPointToLayerPoint:function(i){return j(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return j(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var o=this.containerPointToLayerPoint(j(i));return this.layerPointToLatLng(o)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(le(i)))},mouseEventToContainerPoint:function(i){return dp(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var o=this._container=ap(i);if(o){if(o._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");me(o,"scroll",this._onScroll,this),this._containerId=h(o)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&se.any3d,ve(i,"leaflet-container"+(se.touch?" leaflet-touch":"")+(se.retina?" leaflet-retina":"")+(se.ielt9?" leaflet-oldie":"")+(se.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var o=Ms(i,"position");o!=="absolute"&&o!=="relative"&&o!=="fixed"&&o!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),rt(this._mapPane,new F(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ve(i.markerPane,"leaflet-zoom-hide"),ve(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,o,u){rt(this._mapPane,new F(0,0));var d=!this._loaded;this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset");var f=this._zoom!==o;this._moveStart(f,u)._move(i,o)._moveEnd(f),this.fire("viewreset"),d&&this.fire("load")},_moveStart:function(i,o){return i&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(i,o,u,d){o===void 0&&(o=this._zoom);var f=this._zoom!==o;return this._zoom=o,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),d?u&&u.pinch&&this.fire("zoom",u):((f||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return J(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){rt(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[h(this._container)]=this;var o=i?De:me;o(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),se.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){J(this._resizeRequest),this._resizeRequest=pe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,o){for(var u=[],d,f=o==="mouseout"||o==="mouseover",m=i.target||i.srcElement,k=!1;m;){if(d=this._targets[h(m)],d&&(o==="click"||o==="preclick")&&this._draggableMoved(d)){k=!0;break}if(d&&d.listens(o,!0)&&(f&&!Au(m,i)||(u.push(d),f))||m===this._container)break;m=m.parentNode}return!u.length&&!k&&!f&&this.listens(o,!0)&&(u=[this]),u},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var o=i.target||i.srcElement;if(!(!this._loaded||o._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(o))){var u=i.type;u==="mousedown"&&bu(o),this._fireDOMEvent(i,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,o,u){if(i.type==="click"){var d=s({},i);d.type="preclick",this._fireDOMEvent(d,d.type,u)}var f=this._findEventTargets(i,o);if(u){for(var m=[],k=0;k<u.length;k++)u[k].listens(o,!0)&&m.push(u[k]);f=m.concat(f)}if(f.length){o==="contextmenu"&&_t(i);var P=f[0],I={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var V=P.getLatLng&&(!P._radius||P._radius<=10);I.containerPoint=V?this.latLngToContainerPoint(P.getLatLng()):this.mouseEventToContainerPoint(i),I.layerPoint=this.containerPointToLayerPoint(I.containerPoint),I.latlng=V?P.getLatLng():this.layerPointToLatLng(I.layerPoint)}for(k=0;k<f.length;k++)if(f[k].fire(o,I,!0),I.originalEvent._stopped||f[k].options.bubblingMouseEvents===!1&&T(this._mouseEvents,o)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,o=this._handlers.length;i<o;i++)this._handlers[i].disable()},whenReady:function(i,o){return this._loaded?i.call(o||this,{target:this}):this.on("load",i,o),this},_getMapPanePos:function(){return Jr(this._mapPane)||new F(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,o){var u=i&&o!==void 0?this._getNewPixelOrigin(i,o):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,o){var u=this.getSize()._divideBy(2);return this.project(i,o)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,o,u){var d=this._getNewPixelOrigin(u,o);return this.project(i,o)._subtract(d)},_latLngBoundsToNewLayerBounds:function(i,o,u){var d=this._getNewPixelOrigin(u,o);return ce([this.project(i.getSouthWest(),o)._subtract(d),this.project(i.getNorthWest(),o)._subtract(d),this.project(i.getSouthEast(),o)._subtract(d),this.project(i.getNorthEast(),o)._subtract(d)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,o,u){if(!u)return i;var d=this.project(i,o),f=this.getSize().divideBy(2),m=new ee(d.subtract(f),d.add(f)),k=this._getBoundsOffset(m,u,o);return Math.abs(k.x)<=1&&Math.abs(k.y)<=1?i:this.unproject(d.add(k),o)},_limitOffset:function(i,o){if(!o)return i;var u=this.getPixelBounds(),d=new ee(u.min.add(i),u.max.add(i));return i.add(this._getBoundsOffset(d,o))},_getBoundsOffset:function(i,o,u){var d=ce(this.project(o.getNorthEast(),u),this.project(o.getSouthWest(),u)),f=d.min.subtract(i.min),m=d.max.subtract(i.max),k=this._rebound(f.x,-m.x),P=this._rebound(f.y,-m.y);return new F(k,P)},_rebound:function(i,o){return i+o>0?Math.round(i-o)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(o))},_limitZoom:function(i){var o=this.getMinZoom(),u=this.getMaxZoom(),d=se.any3d?this.options.zoomSnap:1;return d&&(i=Math.round(i/d)*d),Math.max(o,Math.min(u,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Xe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,o){var u=this._getCenterOffset(i)._trunc();return(o&&o.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,o),!0)},_createAnimProxy:function(){var i=this._proxy=Le("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(o){var u=vu,d=this._proxy.style[u];Qr(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),d===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ve(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),o=this.getZoom();Qr(this._proxy,this.project(i,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,o,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(o),f=this._getCenterOffset(i)._divideBy(1-1/d);return u.animate!==!0&&!this.getSize().contains(f)?!1:(pe(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(i,o,!0)},this),!0)},_animateZoom:function(i,o,u,d){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=o,ve(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:o,noUpdate:d}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Xe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function uk(i,o){return new Ee(i,o)}var dn=Se.extend({options:{position:"topright"},initialize:function(i){N(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var o=this._map;return o&&o.removeControl(this),this.options.position=i,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var o=this._container=this.onAdd(i),u=this.getPosition(),d=i._controlCorners[u];return ve(o,"leaflet-control"),u.indexOf("bottom")!==-1?d.insertBefore(o,d.firstChild):d.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ve(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),$s=function(i){return new dn(i)};Ee.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},o="leaflet-",u=this._controlContainer=Le("div",o+"control-container",this._container);function d(f,m){var k=o+f+" "+o+m;i[f+m]=Le("div",k,u)}d("top","left"),d("top","right"),d("bottom","left"),d("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Ve(this._controlCorners[i]);Ve(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var pp=dn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,o,u,d){return u<d?-1:d<u?1:0}},initialize:function(i,o,u){N(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var d in i)this._addLayer(i[d],d);for(d in o)this._addLayer(o[d],d,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return dn.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,o){return this._addLayer(i,o),this._map?this._update():this},addOverlay:function(i,o){return this._addLayer(i,o,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var o=this._getLayer(h(i));return o&&this._layers.splice(this._layers.indexOf(o),1),this._map?this._update():this},expand:function(){ve(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(ve(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):Xe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Xe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",o=this._container=Le("div",i),u=this.options.collapsed;o.setAttribute("aria-haspopup",!0),Us(o),Nu(o);var d=this._section=Le("section",i+"-list");u&&(this._map.on("click",this.collapse,this),me(o,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var f=this._layersLink=Le("a",i+"-toggle",o);f.href="#",f.title="Layers",f.setAttribute("role","button"),me(f,{keydown:function(m){m.keyCode===13&&this._expandSafely()},click:function(m){_t(m),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=Le("div",i+"-base",d),this._separator=Le("div",i+"-separator",d),this._overlaysList=Le("div",i+"-overlays",d),o.appendChild(d)},_getLayer:function(i){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&h(this._layers[o].layer)===i)return this._layers[o]},_addLayer:function(i,o,u){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:o,overlay:u}),this.options.sortLayers&&this._layers.sort(l(function(d,f){return this.options.sortFunction(d.layer,f.layer,d.name,f.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;na(this._baseLayersList),na(this._overlaysList),this._layerControlInputs=[];var i,o,u,d,f=0;for(u=0;u<this._layers.length;u++)d=this._layers[u],this._addItem(d),o=o||d.overlay,i=i||!d.overlay,f+=d.overlay?0:1;return this.options.hideSingleBase&&(i=i&&f>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=o&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var o=this._getLayer(h(i.target)),u=o.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;u&&this._map.fire(u,o)},_createRadioElement:function(i,o){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(o?' checked="checked"':"")+"/>",d=document.createElement("div");return d.innerHTML=u,d.firstChild},_addItem:function(i){var o=document.createElement("label"),u=this._map.hasLayer(i.layer),d;i.overlay?(d=document.createElement("input"),d.type="checkbox",d.className="leaflet-control-layers-selector",d.defaultChecked=u):d=this._createRadioElement("leaflet-base-layers_"+h(this),u),this._layerControlInputs.push(d),d.layerId=h(i.layer),me(d,"click",this._onInputClick,this);var f=document.createElement("span");f.innerHTML=" "+i.name;var m=document.createElement("span");o.appendChild(m),m.appendChild(d),m.appendChild(f);var k=i.overlay?this._overlaysList:this._baseLayersList;return k.appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,o,u,d=[],f=[];this._handlingClick=!0;for(var m=i.length-1;m>=0;m--)o=i[m],u=this._getLayer(o.layerId).layer,o.checked?d.push(u):o.checked||f.push(u);for(m=0;m<f.length;m++)this._map.hasLayer(f[m])&&this._map.removeLayer(f[m]);for(m=0;m<d.length;m++)this._map.hasLayer(d[m])||this._map.addLayer(d[m]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,o,u,d=this._map.getZoom(),f=i.length-1;f>=0;f--)o=i[f],u=this._getLayer(o.layerId).layer,o.disabled=u.options.minZoom!==void 0&&d<u.options.minZoom||u.options.maxZoom!==void 0&&d>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,me(i,"click",_t),this.expand();var o=this;setTimeout(function(){De(i,"click",_t),o._preventClick=!1})}}),ck=function(i,o,u){return new pp(i,o,u)},Ou=dn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var o="leaflet-control-zoom",u=Le("div",o+" leaflet-bar"),d=this.options;return this._zoomInButton=this._createButton(d.zoomInText,d.zoomInTitle,o+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(d.zoomOutText,d.zoomOutTitle,o+"-out",u,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,o,u,d,f){var m=Le("a",u,d);return m.innerHTML=i,m.href="#",m.title=o,m.setAttribute("role","button"),m.setAttribute("aria-label",o),Us(m),me(m,"click",ei),me(m,"click",f,this),me(m,"click",this._refocusOnMap,this),m},_updateDisabled:function(){var i=this._map,o="leaflet-disabled";Xe(this._zoomInButton,o),Xe(this._zoomOutButton,o),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(ve(this._zoomOutButton,o),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(ve(this._zoomInButton,o),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ee.mergeOptions({zoomControl:!0}),Ee.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ou,this.addControl(this.zoomControl))});var dk=function(i){return new Ou(i)},mp=dn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var o="leaflet-control-scale",u=Le("div",o),d=this.options;return this._addScales(d,o+"-line",u),i.on(d.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),u},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,o,u){i.metric&&(this._mScale=Le("div",o,u)),i.imperial&&(this._iScale=Le("div",o,u))},_update:function(){var i=this._map,o=i.getSize().y/2,u=i.distance(i.containerPointToLatLng([0,o]),i.containerPointToLatLng([this.options.maxWidth,o]));this._updateScales(u)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var o=this._getRoundNum(i),u=o<1e3?o+" m":o/1e3+" km";this._updateScale(this._mScale,u,o/i)},_updateImperial:function(i){var o=i*3.2808399,u,d,f;o>5280?(u=o/5280,d=this._getRoundNum(u),this._updateScale(this._iScale,d+" mi",d/u)):(f=this._getRoundNum(o),this._updateScale(this._iScale,f+" ft",f/o))},_updateScale:function(i,o,u){i.style.width=Math.round(this.options.maxWidth*u)+"px",i.innerHTML=o},_getRoundNum:function(i){var o=Math.pow(10,(Math.floor(i)+"").length-1),u=i/o;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,o*u}}),hk=function(i){return new mp(i)},fk='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Iu=dn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(se.inlineSvg?fk+" ":"")+"Leaflet</a>"},initialize:function(i){N(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=Le("div","leaflet-control-attribution"),Us(this._container);for(var o in i._layers)i._layers[o].getAttribution&&this.addAttribution(i._layers[o].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var o in this._attributions)this._attributions[o]&&i.push(o);var u=[];this.options.prefix&&u.push(this.options.prefix),i.length&&u.push(i.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});Ee.mergeOptions({attributionControl:!0}),Ee.addInitHook(function(){this.options.attributionControl&&new Iu().addTo(this)});var pk=function(i){return new Iu(i)};dn.Layers=pp,dn.Zoom=Ou,dn.Scale=mp,dn.Attribution=Iu,$s.layers=ck,$s.zoom=dk,$s.scale=hk,$s.attribution=pk;var Cn=Se.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Cn.addTo=function(i,o){return i.addHandler(o,this),this};var mk={Events:Ce},gp=se.touch?"touchstart mousedown":"mousedown",lr=Re.extend({options:{clickTolerance:3},initialize:function(i,o,u,d){N(this,d),this._element=i,this._dragStartTarget=o||i,this._preventOutline=u},enable:function(){this._enabled||(me(this._dragStartTarget,gp,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(lr._dragging===this&&this.finishDrag(!0),De(this._dragStartTarget,gp,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!yu(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){lr._dragging===this&&this.finishDrag();return}if(!(lr._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(lr._dragging=this,this._preventOutline&&bu(this._element),xu(),Bs(),!this._moving)){this.fire("down");var o=i.touches?i.touches[0]:i,u=lp(this._element);this._startPoint=new F(o.clientX,o.clientY),this._startPos=Jr(this._element),this._parentScale=Tu(u);var d=i.type==="mousedown";me(document,d?"mousemove":"touchmove",this._onMove,this),me(document,d?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var o=i.touches&&i.touches.length===1?i.touches[0]:i,u=new F(o.clientX,o.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,_t(i),this._moved||(this.fire("dragstart"),this._moved=!0,ve(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ve(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),rt(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){Xe(document.body,"leaflet-dragging"),this._lastTarget&&(Xe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),De(document,"mousemove touchmove",this._onMove,this),De(document,"mouseup touchend touchcancel",this._onUp,this),Su(),zs();var o=this._moved&&this._moving;this._moving=!1,lr._dragging=!1,o&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function _p(i,o,u){var d,f=[1,4,2,8],m,k,P,I,V,Y,ue,we;for(m=0,Y=i.length;m<Y;m++)i[m]._code=ti(i[m],o);for(P=0;P<4;P++){for(ue=f[P],d=[],m=0,Y=i.length,k=Y-1;m<Y;k=m++)I=i[m],V=i[k],I._code&ue?V._code&ue||(we=aa(V,I,ue,o,u),we._code=ti(we,o),d.push(we)):(V._code&ue&&(we=aa(V,I,ue,o,u),we._code=ti(we,o),d.push(we)),d.push(I));i=d}return i}function vp(i,o){var u,d,f,m,k,P,I,V,Y;if(!i||i.length===0)throw new Error("latlngs not passed");Xt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var ue=le([0,0]),we=_e(i),Tt=we.getNorthWest().distanceTo(we.getSouthWest())*we.getNorthEast().distanceTo(we.getNorthWest());Tt<1700&&(ue=Ru(i));var pt=i.length,en=[];for(u=0;u<pt;u++){var Rt=le(i[u]);en.push(o.project(le([Rt.lat-ue.lat,Rt.lng-ue.lng])))}for(P=I=V=0,u=0,d=pt-1;u<pt;d=u++)f=en[u],m=en[d],k=f.y*m.x-m.y*f.x,I+=(f.x+m.x)*k,V+=(f.y+m.y)*k,P+=k*3;P===0?Y=en[0]:Y=[I/P,V/P];var Fi=o.unproject(j(Y));return le([Fi.lat+ue.lat,Fi.lng+ue.lng])}function Ru(i){for(var o=0,u=0,d=0,f=0;f<i.length;f++){var m=le(i[f]);o+=m.lat,u+=m.lng,d++}return le([o/d,u/d])}var gk={__proto__:null,clipPolygon:_p,polygonCenter:vp,centroid:Ru};function yp(i,o){if(!o||!i.length)return i.slice();var u=o*o;return i=yk(i,u),i=vk(i,u),i}function wp(i,o,u){return Math.sqrt(js(i,o,u,!0))}function _k(i,o,u){return js(i,o,u)}function vk(i,o){var u=i.length,d=typeof Uint8Array!=void 0+""?Uint8Array:Array,f=new d(u);f[0]=f[u-1]=1,Du(i,f,o,0,u-1);var m,k=[];for(m=0;m<u;m++)f[m]&&k.push(i[m]);return k}function Du(i,o,u,d,f){var m=0,k,P,I;for(P=d+1;P<=f-1;P++)I=js(i[P],i[d],i[f],!0),I>m&&(k=P,m=I);m>u&&(o[k]=1,Du(i,o,u,d,k),Du(i,o,u,k,f))}function yk(i,o){for(var u=[i[0]],d=1,f=0,m=i.length;d<m;d++)wk(i[d],i[f])>o&&(u.push(i[d]),f=d);return f<m-1&&u.push(i[m-1]),u}var kp;function xp(i,o,u,d,f){var m=d?kp:ti(i,u),k=ti(o,u),P,I,V;for(kp=k;;){if(!(m|k))return[i,o];if(m&k)return!1;P=m||k,I=aa(i,o,P,u,f),V=ti(I,u),P===m?(i=I,m=V):(o=I,k=V)}}function aa(i,o,u,d,f){var m=o.x-i.x,k=o.y-i.y,P=d.min,I=d.max,V,Y;return u&8?(V=i.x+m*(I.y-i.y)/k,Y=I.y):u&4?(V=i.x+m*(P.y-i.y)/k,Y=P.y):u&2?(V=I.x,Y=i.y+k*(I.x-i.x)/m):u&1&&(V=P.x,Y=i.y+k*(P.x-i.x)/m),new F(V,Y,f)}function ti(i,o){var u=0;return i.x<o.min.x?u|=1:i.x>o.max.x&&(u|=2),i.y<o.min.y?u|=4:i.y>o.max.y&&(u|=8),u}function wk(i,o){var u=o.x-i.x,d=o.y-i.y;return u*u+d*d}function js(i,o,u,d){var f=o.x,m=o.y,k=u.x-f,P=u.y-m,I=k*k+P*P,V;return I>0&&(V=((i.x-f)*k+(i.y-m)*P)/I,V>1?(f=u.x,m=u.y):V>0&&(f+=k*V,m+=P*V)),k=i.x-f,P=i.y-m,d?k*k+P*P:new F(f,m)}function Xt(i){return!x(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function Sp(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Xt(i)}function Ep(i,o){var u,d,f,m,k,P,I,V;if(!i||i.length===0)throw new Error("latlngs not passed");Xt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var Y=le([0,0]),ue=_e(i),we=ue.getNorthWest().distanceTo(ue.getSouthWest())*ue.getNorthEast().distanceTo(ue.getNorthWest());we<1700&&(Y=Ru(i));var Tt=i.length,pt=[];for(u=0;u<Tt;u++){var en=le(i[u]);pt.push(o.project(le([en.lat-Y.lat,en.lng-Y.lng])))}for(u=0,d=0;u<Tt-1;u++)d+=pt[u].distanceTo(pt[u+1])/2;if(d===0)V=pt[0];else for(u=0,m=0;u<Tt-1;u++)if(k=pt[u],P=pt[u+1],f=k.distanceTo(P),m+=f,m>d){I=(m-d)/f,V=[P.x-I*(P.x-k.x),P.y-I*(P.y-k.y)];break}var Rt=o.unproject(j(V));return le([Rt.lat+Y.lat,Rt.lng+Y.lng])}var kk={__proto__:null,simplify:yp,pointToSegmentDistance:wp,closestPointOnSegment:_k,clipSegment:xp,_getEdgeIntersection:aa,_getBitCode:ti,_sqClosestPointOnSegment:js,isFlat:Xt,_flat:Sp,polylineCenter:Ep},Mu={project:function(i){return new F(i.lng,i.lat)},unproject:function(i){return new de(i.y,i.x)},bounds:new ee([-180,-90],[180,90])},Bu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ee([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var o=Math.PI/180,u=this.R,d=i.lat*o,f=this.R_MINOR/u,m=Math.sqrt(1-f*f),k=m*Math.sin(d),P=Math.tan(Math.PI/4-d/2)/Math.pow((1-k)/(1+k),m/2);return d=-u*Math.log(Math.max(P,1e-10)),new F(i.lng*o*u,d)},unproject:function(i){for(var o=180/Math.PI,u=this.R,d=this.R_MINOR/u,f=Math.sqrt(1-d*d),m=Math.exp(-i.y/u),k=Math.PI/2-2*Math.atan(m),P=0,I=.1,V;P<15&&Math.abs(I)>1e-7;P++)V=f*Math.sin(k),V=Math.pow((1-V)/(1+V),f/2),I=Math.PI/2-2*Math.atan(m*V)-k,k+=I;return new de(k*o,i.x*o/u)}},xk={__proto__:null,LonLat:Mu,Mercator:Bu,SphericalMercator:qr},Sk=s({},Qt,{code:"EPSG:3395",projection:Bu,transformation:function(){var i=.5/(Math.PI*Bu.R);return Gr(i,.5,-i,.5)}()}),bp=s({},Qt,{code:"EPSG:4326",projection:Mu,transformation:Gr(1/180,1,-1/180,.5)}),Ek=s({},Je,{projection:Mu,transformation:Gr(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,o){var u=o.lng-i.lng,d=o.lat-i.lat;return Math.sqrt(u*u+d*d)},infinite:!0});Je.Earth=Qt,Je.EPSG3395=Sk,Je.EPSG3857=Pi,Je.EPSG900913=fu,Je.EPSG4326=bp,Je.Simple=Ek;var hn=Re.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[h(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[h(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var o=i.target;if(o.hasLayer(this)){if(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents){var u=this.getEvents();o.on(u,this),this.once("remove",function(){o.off(u,this)},this)}this.onAdd(o),this.fire("add"),o.fire("layeradd",{layer:this})}}});Ee.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var o=h(i);return this._layers[o]?this:(this._layers[o]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var o=h(i);return this._layers[o]?(this._loaded&&i.onRemove(this),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return h(i)in this._layers},eachLayer:function(i,o){for(var u in this._layers)i.call(o,this._layers[u]);return this},_addLayers:function(i){i=i?x(i)?i:[i]:[];for(var o=0,u=i.length;o<u;o++)this.addLayer(i[o])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[h(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var o=h(i);this._zoomBoundLayers[o]&&(delete this._zoomBoundLayers[o],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,o=-1/0,u=this._getZoomSpan();for(var d in this._zoomBoundLayers){var f=this._zoomBoundLayers[d].options;i=f.minZoom===void 0?i:Math.min(i,f.minZoom),o=f.maxZoom===void 0?o:Math.max(o,f.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=i===1/0?void 0:i,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ri=hn.extend({initialize:function(i,o){N(this,o),this._layers={};var u,d;if(i)for(u=0,d=i.length;u<d;u++)this.addLayer(i[u])},addLayer:function(i){var o=this.getLayerId(i);return this._layers[o]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var o=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[o]&&this._map.removeLayer(this._layers[o]),delete this._layers[o],this},hasLayer:function(i){var o=typeof i=="number"?i:this.getLayerId(i);return o in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var o=Array.prototype.slice.call(arguments,1),u,d;for(u in this._layers)d=this._layers[u],d[i]&&d[i].apply(d,o);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,o){for(var u in this._layers)i.call(o,this._layers[u]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return h(i)}}),bk=function(i,o){return new Ri(i,o)},$n=Ri.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Ri.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Ri.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new Oe;for(var o in this._layers){var u=this._layers[o];i.extend(u.getBounds?u.getBounds():u.getLatLng())}return i}}),Tk=function(i,o){return new $n(i,o)},Di=Se.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){N(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,o){var u=this._getIconUrl(i);if(!u){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d=this._createImg(u,o&&o.tagName==="IMG"?o:null);return this._setIconStyles(d,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),d},_setIconStyles:function(i,o){var u=this.options,d=u[o+"Size"];typeof d=="number"&&(d=[d,d]);var f=j(d),m=j(o==="shadow"&&u.shadowAnchor||u.iconAnchor||f&&f.divideBy(2,!0));i.className="leaflet-marker-"+o+" "+(u.className||""),m&&(i.style.marginLeft=-m.x+"px",i.style.marginTop=-m.y+"px"),f&&(i.style.width=f.x+"px",i.style.height=f.y+"px")},_createImg:function(i,o){return o=o||document.createElement("img"),o.src=i,o},_getIconUrl:function(i){return se.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function Ck(i){return new Di(i)}var Vs=Di.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof Vs.imagePath!="string"&&(Vs.imagePath=this._detectIconPath()),(this.options.imagePath||Vs.imagePath)+Di.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var o=function(u,d,f){var m=d.exec(u);return m&&m[f]};return i=o(i,/^url\((['"])?(.+)\1\)$/,2),i&&o(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=Le("div","leaflet-default-icon-path",document.body),o=Ms(i,"background-image")||Ms(i,"backgroundImage");if(document.body.removeChild(i),o=this._stripUrl(o),o)return o;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),Tp=Cn.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new lr(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ve(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Xe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var o=this._marker,u=o._map,d=this._marker.options.autoPanSpeed,f=this._marker.options.autoPanPadding,m=Jr(o._icon),k=u.getPixelBounds(),P=u.getPixelOrigin(),I=ce(k.min._subtract(P).add(f),k.max._subtract(P).subtract(f));if(!I.contains(m)){var V=j((Math.max(I.max.x,m.x)-I.max.x)/(k.max.x-I.max.x)-(Math.min(I.min.x,m.x)-I.min.x)/(k.min.x-I.min.x),(Math.max(I.max.y,m.y)-I.max.y)/(k.max.y-I.max.y)-(Math.min(I.min.y,m.y)-I.min.y)/(k.min.y-I.min.y)).multiplyBy(d);u.panBy(V,{animate:!1}),this._draggable._newPos._add(V),this._draggable._startPos._add(V),rt(o._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=pe(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(J(this._panRequest),this._panRequest=pe(this._adjustPan.bind(this,i)))},_onDrag:function(i){var o=this._marker,u=o._shadow,d=Jr(o._icon),f=o._map.layerPointToLatLng(d);u&&rt(u,d),o._latlng=f,i.latlng=f,i.oldLatLng=this._oldLatLng,o.fire("move",i).fire("drag",i)},_onDragEnd:function(i){J(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),la=hn.extend({options:{icon:new Vs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,o){N(this,o),this._latlng=le(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var o=this._latlng;return this._latlng=le(i),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=i.icon.createIcon(this._icon),d=!1;u!==this._icon&&(this._icon&&this._removeIcon(),d=!0,i.title&&(u.title=i.title),u.tagName==="IMG"&&(u.alt=i.alt||"")),ve(u,o),i.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&me(u,"focus",this._panOnFocus,this);var f=i.icon.createShadow(this._shadow),m=!1;f!==this._shadow&&(this._removeShadow(),m=!0),f&&(ve(f,o),f.alt=""),this._shadow=f,i.opacity<1&&this._updateOpacity(),d&&this.getPane().appendChild(this._icon),this._initInteraction(),f&&m&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&De(this._icon,"focus",this._panOnFocus,this),Ve(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ve(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&rt(this._icon,i),this._shadow&&rt(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var o=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(o)},_initInteraction:function(){if(this.options.interactive&&(ve(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Tp)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Tp(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&Jt(this._icon,i),this._shadow&&Jt(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var o=this.options.icon.options,u=o.iconSize?j(o.iconSize):j(0,0),d=o.iconAnchor?j(o.iconAnchor):j(0,0);i.panInside(this._latlng,{paddingTopLeft:d,paddingBottomRight:u.subtract(d)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Pk(i,o){return new la(i,o)}var ur=hn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return N(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ua=ur.extend({options:{fill:!0,radius:10},initialize:function(i,o){N(this,o),this._latlng=le(i),this._radius=this.options.radius},setLatLng:function(i){var o=this._latlng;return this._latlng=le(i),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var o=i&&i.radius||this._radius;return ur.prototype.setStyle.call(this,i),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,o=this._radiusY||i,u=this._clickTolerance(),d=[i+u,o+u];this._pxBounds=new ee(this._point.subtract(d),this._point.add(d))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Lk(i,o){return new ua(i,o)}var zu=ua.extend({initialize:function(i,o,u){if(typeof o=="number"&&(o=s({},u,{radius:o})),N(this,o),this._latlng=le(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new Oe(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:ur.prototype.setStyle,_project:function(){var i=this._latlng.lng,o=this._latlng.lat,u=this._map,d=u.options.crs;if(d.distance===Qt.distance){var f=Math.PI/180,m=this._mRadius/Qt.R/f,k=u.project([o+m,i]),P=u.project([o-m,i]),I=k.add(P).divideBy(2),V=u.unproject(I).lat,Y=Math.acos((Math.cos(m*f)-Math.sin(o*f)*Math.sin(V*f))/(Math.cos(o*f)*Math.cos(V*f)))/f;(isNaN(Y)||Y===0)&&(Y=m/Math.cos(Math.PI/180*o)),this._point=I.subtract(u.getPixelOrigin()),this._radius=isNaN(Y)?0:I.x-u.project([V,i-Y]).x,this._radiusY=I.y-k.y}else{var ue=d.unproject(d.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(ue).x}this._updateBounds()}});function Nk(i,o,u){return new zu(i,o,u)}var jn=ur.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,o){N(this,o),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var o=1/0,u=null,d=js,f,m,k=0,P=this._parts.length;k<P;k++)for(var I=this._parts[k],V=1,Y=I.length;V<Y;V++){f=I[V-1],m=I[V];var ue=d(i,f,m,!0);ue<o&&(o=ue,u=d(i,f,m))}return u&&(u.distance=Math.sqrt(o)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ep(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,o){return o=o||this._defaultShape(),i=le(i),o.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new Oe,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return Xt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var o=[],u=Xt(i),d=0,f=i.length;d<f;d++)u?(o[d]=le(i[d]),this._bounds.extend(o[d])):o[d]=this._convertLatLngs(i[d]);return o},_project:function(){var i=new ee;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),o=new F(i,i);this._rawPxBounds&&(this._pxBounds=new ee([this._rawPxBounds.min.subtract(o),this._rawPxBounds.max.add(o)]))},_projectLatlngs:function(i,o,u){var d=i[0]instanceof de,f=i.length,m,k;if(d){for(k=[],m=0;m<f;m++)k[m]=this._map.latLngToLayerPoint(i[m]),u.extend(k[m]);o.push(k)}else for(m=0;m<f;m++)this._projectLatlngs(i[m],o,u)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var o=this._parts,u,d,f,m,k,P,I;for(u=0,f=0,m=this._rings.length;u<m;u++)for(I=this._rings[u],d=0,k=I.length;d<k-1;d++)P=xp(I[d],I[d+1],i,d,!0),P&&(o[f]=o[f]||[],o[f].push(P[0]),(P[1]!==I[d+1]||d===k-2)&&(o[f].push(P[1]),f++))}},_simplifyPoints:function(){for(var i=this._parts,o=this.options.smoothFactor,u=0,d=i.length;u<d;u++)i[u]=yp(i[u],o)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,o){var u,d,f,m,k,P,I=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(u=0,m=this._parts.length;u<m;u++)for(P=this._parts[u],d=0,k=P.length,f=k-1;d<k;f=d++)if(!(!o&&d===0)&&wp(i,P[f],P[d])<=I)return!0;return!1}});function Ak(i,o){return new jn(i,o)}jn._flat=Sp;var Mi=jn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return vp(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var o=jn.prototype._convertLatLngs.call(this,i),u=o.length;return u>=2&&o[0]instanceof de&&o[0].equals(o[u-1])&&o.pop(),o},_setLatLngs:function(i){jn.prototype._setLatLngs.call(this,i),Xt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Xt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,o=this.options.weight,u=new F(o,o);if(i=new ee(i.min.subtract(u),i.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var d=0,f=this._rings.length,m;d<f;d++)m=_p(this._rings[d],i,!0),m.length&&this._parts.push(m)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var o=!1,u,d,f,m,k,P,I,V;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(m=0,I=this._parts.length;m<I;m++)for(u=this._parts[m],k=0,V=u.length,P=V-1;k<V;P=k++)d=u[k],f=u[P],d.y>i.y!=f.y>i.y&&i.x<(f.x-d.x)*(i.y-d.y)/(f.y-d.y)+d.x&&(o=!o);return o||jn.prototype._containsPoint.call(this,i,!0)}});function Ok(i,o){return new Mi(i,o)}var Vn=$n.extend({initialize:function(i,o){N(this,o),this._layers={},i&&this.addData(i)},addData:function(i){var o=x(i)?i:i.features,u,d,f;if(o){for(u=0,d=o.length;u<d;u++)f=o[u],(f.geometries||f.geometry||f.features||f.coordinates)&&this.addData(f);return this}var m=this.options;if(m.filter&&!m.filter(i))return this;var k=ca(i,m);return k?(k.feature=fa(i),k.defaultOptions=k.options,this.resetStyle(k),m.onEachFeature&&m.onEachFeature(i,k),this.addLayer(k)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=s({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(o){this._setLayerStyle(o,i)},this)},_setLayerStyle:function(i,o){i.setStyle&&(typeof o=="function"&&(o=o(i.feature)),i.setStyle(o))}});function ca(i,o){var u=i.type==="Feature"?i.geometry:i,d=u?u.coordinates:null,f=[],m=o&&o.pointToLayer,k=o&&o.coordsToLatLng||Fu,P,I,V,Y;if(!d&&!u)return null;switch(u.type){case"Point":return P=k(d),Cp(m,i,P,o);case"MultiPoint":for(V=0,Y=d.length;V<Y;V++)P=k(d[V]),f.push(Cp(m,i,P,o));return new $n(f);case"LineString":case"MultiLineString":return I=da(d,u.type==="LineString"?0:1,k),new jn(I,o);case"Polygon":case"MultiPolygon":return I=da(d,u.type==="Polygon"?1:2,k),new Mi(I,o);case"GeometryCollection":for(V=0,Y=u.geometries.length;V<Y;V++){var ue=ca({geometry:u.geometries[V],type:"Feature",properties:i.properties},o);ue&&f.push(ue)}return new $n(f);case"FeatureCollection":for(V=0,Y=u.features.length;V<Y;V++){var we=ca(u.features[V],o);we&&f.push(we)}return new $n(f);default:throw new Error("Invalid GeoJSON object.")}}function Cp(i,o,u,d){return i?i(o,u):new la(u,d&&d.markersInheritOptions&&d)}function Fu(i){return new de(i[1],i[0],i[2])}function da(i,o,u){for(var d=[],f=0,m=i.length,k;f<m;f++)k=o?da(i[f],o-1,u):(u||Fu)(i[f]),d.push(k);return d}function Uu(i,o){return i=le(i),i.alt!==void 0?[w(i.lng,o),w(i.lat,o),w(i.alt,o)]:[w(i.lng,o),w(i.lat,o)]}function ha(i,o,u,d){for(var f=[],m=0,k=i.length;m<k;m++)f.push(o?ha(i[m],Xt(i[m])?0:o-1,u,d):Uu(i[m],d));return!o&&u&&f.length>0&&f.push(f[0].slice()),f}function Bi(i,o){return i.feature?s({},i.feature,{geometry:o}):fa(o)}function fa(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var $u={toGeoJSON:function(i){return Bi(this,{type:"Point",coordinates:Uu(this.getLatLng(),i)})}};la.include($u),zu.include($u),ua.include($u),jn.include({toGeoJSON:function(i){var o=!Xt(this._latlngs),u=ha(this._latlngs,o?1:0,!1,i);return Bi(this,{type:(o?"Multi":"")+"LineString",coordinates:u})}}),Mi.include({toGeoJSON:function(i){var o=!Xt(this._latlngs),u=o&&!Xt(this._latlngs[0]),d=ha(this._latlngs,u?2:o?1:0,!0,i);return o||(d=[d]),Bi(this,{type:(u?"Multi":"")+"Polygon",coordinates:d})}}),Ri.include({toMultiPoint:function(i){var o=[];return this.eachLayer(function(u){o.push(u.toGeoJSON(i).geometry.coordinates)}),Bi(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(i){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(o==="MultiPoint")return this.toMultiPoint(i);var u=o==="GeometryCollection",d=[];return this.eachLayer(function(f){if(f.toGeoJSON){var m=f.toGeoJSON(i);if(u)d.push(m.geometry);else{var k=fa(m);k.type==="FeatureCollection"?d.push.apply(d,k.features):d.push(k)}}}),u?Bi(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}});function Pp(i,o){return new Vn(i,o)}var Ik=Pp,pa=hn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,o,u){this._url=i,this._bounds=_e(o),N(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ve(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ve(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&Oi(this._image),this},bringToBack:function(){return this._map&&Ii(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=_e(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",o=this._image=i?this._url:Le("img");if(ve(o,"leaflet-image-layer"),this._zoomAnimated&&ve(o,"leaflet-zoom-animated"),this.options.className&&ve(o,this.options.className),o.onselectstart=g,o.onmousemove=g,o.onload=l(this.fire,this,"load"),o.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=o.src;return}o.src=this._url,o.alt=this.options.alt},_animateZoom:function(i){var o=this._map.getZoomScale(i.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;Qr(this._image,u,o)},_reset:function(){var i=this._image,o=new ee(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=o.getSize();rt(i,o.min),i.style.width=u.x+"px",i.style.height=u.y+"px"},_updateOpacity:function(){Jt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),Rk=function(i,o,u){return new pa(i,o,u)},Lp=pa.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",o=this._image=i?this._url:Le("video");if(ve(o,"leaflet-image-layer"),this._zoomAnimated&&ve(o,"leaflet-zoom-animated"),this.options.className&&ve(o,this.options.className),o.onselectstart=g,o.onmousemove=g,o.onloadeddata=l(this.fire,this,"load"),i){for(var u=o.getElementsByTagName("source"),d=[],f=0;f<u.length;f++)d.push(u[f].src);this._url=u.length>0?d:[o.src];return}x(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style.objectFit="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted,o.playsInline=!!this.options.playsInline;for(var m=0;m<this._url.length;m++){var k=Le("source");k.src=this._url[m],o.appendChild(k)}}});function Dk(i,o,u){return new Lp(i,o,u)}var Np=pa.extend({_initImage:function(){var i=this._image=this._url;ve(i,"leaflet-image-layer"),this._zoomAnimated&&ve(i,"leaflet-zoom-animated"),this.options.className&&ve(i,this.options.className),i.onselectstart=g,i.onmousemove=g}});function Mk(i,o,u){return new Np(i,o,u)}var Pn=hn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,o){i&&(i instanceof de||x(i))?(this._latlng=le(i),N(this,o)):(N(this,i),this._source=o),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&Jt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&Jt(this._container,1),this.bringToFront(),this.options.interactive&&(ve(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(Jt(this._container,0),this._removeTimeout=setTimeout(l(Ve,void 0,this._container),200)):Ve(this._container),this.options.interactive&&(Xe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=le(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Oi(this._container),this},bringToBack:function(){return this._map&&Ii(this._container),this},_prepareOpen:function(i){var o=this._source;if(!o._map)return!1;if(o instanceof $n){o=null;var u=this._source._layers;for(var d in u)if(u[d]._map){o=u[d];break}if(!o)return!1;this._source=o}if(!i)if(o.getCenter)i=o.getCenter();else if(o.getLatLng)i=o.getLatLng();else if(o.getBounds)i=o.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,o=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof o=="string")i.innerHTML=o;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),o=j(this.options.offset),u=this._getAnchor();this._zoomAnimated?rt(this._container,i.add(u)):o=o.add(i).add(u);var d=this._containerBottom=-o.y,f=this._containerLeft=-Math.round(this._containerWidth/2)+o.x;this._container.style.bottom=d+"px",this._container.style.left=f+"px"}},_getAnchor:function(){return[0,0]}});Ee.include({_initOverlay:function(i,o,u,d){var f=o;return f instanceof i||(f=new i(d).setContent(o)),u&&f.setLatLng(u),f}}),hn.include({_initOverlay:function(i,o,u,d){var f=u;return f instanceof i?(N(f,d),f._source=this):(f=o&&!d?o:new i(d,this),f.setContent(u)),f}});var ma=Pn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,Pn.prototype.openOn.call(this,i)},onAdd:function(i){Pn.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ur||this._source.on("preclick",Xr))},onRemove:function(i){Pn.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ur||this._source.off("preclick",Xr))},getEvents:function(){var i=Pn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",o=this._container=Le("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=Le("div",i+"-content-wrapper",o);if(this._contentNode=Le("div",i+"-content",u),Us(o),Nu(this._contentNode),me(o,"contextmenu",Xr),this._tipContainer=Le("div",i+"-tip-container",o),this._tip=Le("div",i+"-tip",this._tipContainer),this.options.closeButton){var d=this._closeButton=Le("a",i+"-close-button",o);d.setAttribute("role","button"),d.setAttribute("aria-label","Close popup"),d.href="#close",d.innerHTML='<span aria-hidden="true">&#215;</span>',me(d,"click",function(f){_t(f),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,o=i.style;o.width="",o.whiteSpace="nowrap";var u=i.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),o.width=u+1+"px",o.whiteSpace="",o.height="";var d=i.offsetHeight,f=this.options.maxHeight,m="leaflet-popup-scrolled";f&&d>f?(o.height=f+"px",ve(i,m)):Xe(i,m),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var o=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),u=this._getAnchor();rt(this._container,o.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,o=parseInt(Ms(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+o,d=this._containerWidth,f=new F(this._containerLeft,-u-this._containerBottom);f._add(Jr(this._container));var m=i.layerPointToContainerPoint(f),k=j(this.options.autoPanPadding),P=j(this.options.autoPanPaddingTopLeft||k),I=j(this.options.autoPanPaddingBottomRight||k),V=i.getSize(),Y=0,ue=0;m.x+d+I.x>V.x&&(Y=m.x+d-V.x+I.x),m.x-Y-P.x<0&&(Y=m.x-P.x),m.y+u+I.y>V.y&&(ue=m.y+u-V.y+I.y),m.y-ue-P.y<0&&(ue=m.y-P.y),(Y||ue)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([Y,ue]))}},_getAnchor:function(){return j(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Bk=function(i,o){return new ma(i,o)};Ee.mergeOptions({closePopupOnClick:!0}),Ee.include({openPopup:function(i,o,u){return this._initOverlay(ma,i,o,u).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),hn.include({bindPopup:function(i,o){return this._popup=this._initOverlay(ma,this._popup,i,o),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof $n||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){ei(i);var o=i.layer||i.target;if(this._popup._source===o&&!(o instanceof ur)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=o,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var ga=Pn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){Pn.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){Pn.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=Pn.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",o=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Le("div",o),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var o,u,d=this._map,f=this._container,m=d.latLngToContainerPoint(d.getCenter()),k=d.layerPointToContainerPoint(i),P=this.options.direction,I=f.offsetWidth,V=f.offsetHeight,Y=j(this.options.offset),ue=this._getAnchor();P==="top"?(o=I/2,u=V):P==="bottom"?(o=I/2,u=0):P==="center"?(o=I/2,u=V/2):P==="right"?(o=0,u=V/2):P==="left"?(o=I,u=V/2):k.x<m.x?(P="right",o=0,u=V/2):(P="left",o=I+(Y.x+ue.x)*2,u=V/2),i=i.subtract(j(o,u,!0)).add(Y).add(ue),Xe(f,"leaflet-tooltip-right"),Xe(f,"leaflet-tooltip-left"),Xe(f,"leaflet-tooltip-top"),Xe(f,"leaflet-tooltip-bottom"),ve(f,"leaflet-tooltip-"+P),rt(f,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&Jt(this._container,i)},_animateZoom:function(i){var o=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(o)},_getAnchor:function(){return j(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),zk=function(i,o){return new ga(i,o)};Ee.include({openTooltip:function(i,o,u){return this._initOverlay(ga,i,o,u).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),hn.include({bindTooltip:function(i,o){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ga,this._tooltip,i,o),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var o=i?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[o](u),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof $n||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var o=typeof i.getElement=="function"&&i.getElement();o&&(me(o,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),me(o,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var o=typeof i.getElement=="function"&&i.getElement();o&&o.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var o=this;this._map.once("moveend",function(){o._openOnceFlag=!1,o._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var o=i.latlng,u,d;this._tooltip.options.sticky&&i.originalEvent&&(u=this._map.mouseEventToContainerPoint(i.originalEvent),d=this._map.containerPointToLayerPoint(u),o=this._map.layerPointToLatLng(d)),this._tooltip.setLatLng(o)}});var Ap=Di.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var o=i&&i.tagName==="DIV"?i:document.createElement("div"),u=this.options;if(u.html instanceof Element?(na(o),o.appendChild(u.html)):o.innerHTML=u.html!==!1?u.html:"",u.bgPos){var d=j(u.bgPos);o.style.backgroundPosition=-d.x+"px "+-d.y+"px"}return this._setIconStyles(o,"icon"),o},createShadow:function(){return null}});function Fk(i){return new Ap(i)}Di.Default=Vs;var Zs=hn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:se.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){N(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Ve(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Oi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ii(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof F?i:new F(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var o=this.getPane().children,u=-i(-1/0,1/0),d=0,f=o.length,m;d<f;d++)m=o[d].style.zIndex,o[d]!==this._container&&m&&(u=i(u,+m));isFinite(u)&&(this.options.zIndex=u+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!se.ielt9){Jt(this._container,this.options.opacity);var i=+new Date,o=!1,u=!1;for(var d in this._tiles){var f=this._tiles[d];if(!(!f.current||!f.loaded)){var m=Math.min(1,(i-f.loaded)/200);Jt(f.el,m),m<1?o=!0:(f.active?u=!0:this._onOpaqueTile(f),f.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),o&&(J(this._fadeFrame),this._fadeFrame=pe(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=Le("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,o=this.options.maxZoom;if(i!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===i?(this._levels[u].el.style.zIndex=o-Math.abs(i-u),this._onUpdateLevel(u)):(Ve(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var d=this._levels[i],f=this._map;return d||(d=this._levels[i]={},d.el=Le("div","leaflet-tile-container leaflet-zoom-animated",this._container),d.el.style.zIndex=o,d.origin=f.project(f.unproject(f.getPixelOrigin()),i).round(),d.zoom=i,this._setZoomTransform(d,f.getCenter(),f.getZoom()),g(d.el.offsetWidth),this._onCreateLevel(d)),this._level=d,d}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var i,o,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)o=this._tiles[i],o.retain=o.current;for(i in this._tiles)if(o=this._tiles[i],o.current&&!o.active){var d=o.coords;this._retainParent(d.x,d.y,d.z,d.z-5)||this._retainChildren(d.x,d.y,d.z,d.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var o in this._tiles)this._tiles[o].coords.z===i&&this._removeTile(o)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Ve(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,o,u,d){var f=Math.floor(i/2),m=Math.floor(o/2),k=u-1,P=new F(+f,+m);P.z=+k;var I=this._tileCoordsToKey(P),V=this._tiles[I];return V&&V.active?(V.retain=!0,!0):(V&&V.loaded&&(V.retain=!0),k>d?this._retainParent(f,m,k,d):!1)},_retainChildren:function(i,o,u,d){for(var f=2*i;f<2*i+2;f++)for(var m=2*o;m<2*o+2;m++){var k=new F(f,m);k.z=u+1;var P=this._tileCoordsToKey(k),I=this._tiles[P];if(I&&I.active){I.retain=!0;continue}else I&&I.loaded&&(I.retain=!0);u+1<d&&this._retainChildren(f,m,u+1,d)}},_resetView:function(i){var o=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),o,o)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var o=this.options;return o.minNativeZoom!==void 0&&i<o.minNativeZoom?o.minNativeZoom:o.maxNativeZoom!==void 0&&o.maxNativeZoom<i?o.maxNativeZoom:i},_setView:function(i,o,u,d){var f=Math.round(o);this.options.maxZoom!==void 0&&f>this.options.maxZoom||this.options.minZoom!==void 0&&f<this.options.minZoom?f=void 0:f=this._clampZoom(f);var m=this.options.updateWhenZooming&&f!==this._tileZoom;(!d||m)&&(this._tileZoom=f,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),f!==void 0&&this._update(i),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(i,o)},_setZoomTransforms:function(i,o){for(var u in this._levels)this._setZoomTransform(this._levels[u],i,o)},_setZoomTransform:function(i,o,u){var d=this._map.getZoomScale(u,i.zoom),f=i.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(o,u)).round();se.any3d?Qr(i.el,f,d):rt(i.el,f)},_resetGrid:function(){var i=this._map,o=i.options.crs,u=this._tileSize=this.getTileSize(),d=this._tileZoom,f=this._map.getPixelWorldBounds(this._tileZoom);f&&(this._globalTileRange=this._pxBoundsToTileRange(f)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,o.wrapLng[0]],d).x/u.x),Math.ceil(i.project([0,o.wrapLng[1]],d).x/u.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([o.wrapLat[0],0],d).y/u.x),Math.ceil(i.project([o.wrapLat[1],0],d).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var o=this._map,u=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),d=o.getZoomScale(u,this._tileZoom),f=o.project(i,this._tileZoom).floor(),m=o.getSize().divideBy(d*2);return new ee(f.subtract(m),f.add(m))},_update:function(i){var o=this._map;if(o){var u=this._clampZoom(o.getZoom());if(i===void 0&&(i=o.getCenter()),this._tileZoom!==void 0){var d=this._getTiledPixelBounds(i),f=this._pxBoundsToTileRange(d),m=f.getCenter(),k=[],P=this.options.keepBuffer,I=new ee(f.getBottomLeft().subtract([P,-P]),f.getTopRight().add([P,-P]));if(!(isFinite(f.min.x)&&isFinite(f.min.y)&&isFinite(f.max.x)&&isFinite(f.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var V in this._tiles){var Y=this._tiles[V].coords;(Y.z!==this._tileZoom||!I.contains(new F(Y.x,Y.y)))&&(this._tiles[V].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(i,u);return}for(var ue=f.min.y;ue<=f.max.y;ue++)for(var we=f.min.x;we<=f.max.x;we++){var Tt=new F(we,ue);if(Tt.z=this._tileZoom,!!this._isValidTile(Tt)){var pt=this._tiles[this._tileCoordsToKey(Tt)];pt?pt.current=!0:k.push(Tt)}}if(k.sort(function(Rt,Fi){return Rt.distanceTo(m)-Fi.distanceTo(m)}),k.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var en=document.createDocumentFragment();for(we=0;we<k.length;we++)this._addTile(k[we],en);this._level.el.appendChild(en)}}}},_isValidTile:function(i){var o=this._map.options.crs;if(!o.infinite){var u=this._globalTileRange;if(!o.wrapLng&&(i.x<u.min.x||i.x>u.max.x)||!o.wrapLat&&(i.y<u.min.y||i.y>u.max.y))return!1}if(!this.options.bounds)return!0;var d=this._tileCoordsToBounds(i);return _e(this.options.bounds).overlaps(d)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var o=this._map,u=this.getTileSize(),d=i.scaleBy(u),f=d.add(u),m=o.unproject(d,i.z),k=o.unproject(f,i.z);return[m,k]},_tileCoordsToBounds:function(i){var o=this._tileCoordsToNwSe(i),u=new Oe(o[0],o[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var o=i.split(":"),u=new F(+o[0],+o[1]);return u.z=+o[2],u},_removeTile:function(i){var o=this._tiles[i];o&&(Ve(o.el),delete this._tiles[i],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){ve(i,"leaflet-tile");var o=this.getTileSize();i.style.width=o.x+"px",i.style.height=o.y+"px",i.onselectstart=g,i.onmousemove=g,se.ielt9&&this.options.opacity<1&&Jt(i,this.options.opacity)},_addTile:function(i,o){var u=this._getTilePos(i),d=this._tileCoordsToKey(i),f=this.createTile(this._wrapCoords(i),l(this._tileReady,this,i));this._initTile(f),this.createTile.length<2&&pe(l(this._tileReady,this,i,null,f)),rt(f,u),this._tiles[d]={el:f,coords:i,current:!0},o.appendChild(f),this.fire("tileloadstart",{tile:f,coords:i})},_tileReady:function(i,o,u){o&&this.fire("tileerror",{error:o,tile:u,coords:i});var d=this._tileCoordsToKey(i);u=this._tiles[d],u&&(u.loaded=+new Date,this._map._fadeAnimated?(Jt(u.el,0),J(this._fadeFrame),this._fadeFrame=pe(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),o||(ve(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),se.ielt9||!this._map._fadeAnimated?pe(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var o=new F(this._wrapX?_(i.x,this._wrapX):i.x,this._wrapY?_(i.y,this._wrapY):i.y);return o.z=i.z,o},_pxBoundsToTileRange:function(i){var o=this.getTileSize();return new ee(i.min.unscaleBy(o).floor(),i.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function Uk(i){return new Zs(i)}var zi=Zs.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,o){this._url=i,o=N(this,o),o.detectRetina&&se.retina&&o.maxZoom>0?(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom=Math.min(o.maxZoom,o.minZoom+1)):(o.zoomOffset++,o.maxZoom=Math.max(o.minZoom,o.maxZoom-1)),o.minZoom=Math.max(0,o.minZoom)):o.zoomReverse?o.minZoom=Math.min(o.maxZoom,o.minZoom):o.maxZoom=Math.max(o.minZoom,o.maxZoom),typeof o.subdomains=="string"&&(o.subdomains=o.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,o){return this._url===i&&o===void 0&&(o=!0),this._url=i,o||this.redraw(),this},createTile:function(i,o){var u=document.createElement("img");return me(u,"load",l(this._tileOnLoad,this,o,u)),me(u,"error",l(this._tileOnError,this,o,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(i),u},getTileUrl:function(i){var o={r:se.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-i.y;this.options.tms&&(o.y=u),o["-y"]=u}return y(this._url,s(o,this.options))},_tileOnLoad:function(i,o){se.ielt9?setTimeout(l(i,this,null,o),0):i(null,o)},_tileOnError:function(i,o,u){var d=this.options.errorTileUrl;d&&o.getAttribute("src")!==d&&(o.src=d),i(u,o)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,o=this.options.maxZoom,u=this.options.zoomReverse,d=this.options.zoomOffset;return u&&(i=o-i),i+d},_getSubdomain:function(i){var o=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[o]},_abortLoading:function(){var i,o;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(o=this._tiles[i].el,o.onload=g,o.onerror=g,!o.complete)){o.src=R;var u=this._tiles[i].coords;Ve(o),delete this._tiles[i],this.fire("tileabort",{tile:o,coords:u})}},_removeTile:function(i){var o=this._tiles[i];if(o)return o.el.setAttribute("src",R),Zs.prototype._removeTile.call(this,i)},_tileReady:function(i,o,u){if(!(!this._map||u&&u.getAttribute("src")===R))return Zs.prototype._tileReady.call(this,i,o,u)}});function Op(i,o){return new zi(i,o)}var Ip=zi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,o){this._url=i;var u=s({},this.defaultWmsParams);for(var d in o)d in this.options||(u[d]=o[d]);o=N(this,o);var f=o.detectRetina&&se.retina?2:1,m=this.getTileSize();u.width=m.x*f,u.height=m.y*f,this.wmsParams=u},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[o]=this._crs.code,zi.prototype.onAdd.call(this,i)},getTileUrl:function(i){var o=this._tileCoordsToNwSe(i),u=this._crs,d=ce(u.project(o[0]),u.project(o[1])),f=d.min,m=d.max,k=(this._wmsVersion>=1.3&&this._crs===bp?[f.y,f.x,m.y,m.x]:[f.x,f.y,m.x,m.y]).join(","),P=zi.prototype.getTileUrl.call(this,i);return P+z(this.wmsParams,P,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+k},setParams:function(i,o){return s(this.wmsParams,i),o||this.redraw(),this}});function $k(i,o){return new Ip(i,o)}zi.WMS=Ip,Op.wms=$k;var Zn=hn.extend({options:{padding:.1},initialize:function(i){N(this,i),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ve(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,o){var u=this._map.getZoomScale(o,this._zoom),d=this._map.getSize().multiplyBy(.5+this.options.padding),f=this._map.project(this._center,o),m=d.multiplyBy(-u).add(f).subtract(this._map._getNewPixelOrigin(i,o));se.any3d?Qr(this._container,m,u):rt(this._container,m)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,o=this._map.getSize(),u=this._map.containerPointToLayerPoint(o.multiplyBy(-i)).round();this._bounds=new ee(u,u.add(o.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Rp=Zn.extend({options:{tolerance:0},getEvents:function(){var i=Zn.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Zn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");me(i,"mousemove",this._onMouseMove,this),me(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),me(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){J(this._redrawRequest),delete this._ctx,Ve(this._container),De(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var o in this._layers)i=this._layers[o],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zn.prototype._update.call(this);var i=this._bounds,o=this._container,u=i.getSize(),d=se.retina?2:1;rt(o,i.min),o.width=d*u.x,o.height=d*u.y,o.style.width=u.x+"px",o.style.height=u.y+"px",se.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){Zn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[h(i)]=i;var o=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=o),this._drawLast=o,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var o=i._order,u=o.next,d=o.prev;u?u.prev=d:this._drawLast=d,d?d.next=u:this._drawFirst=u,delete i._order,delete this._layers[h(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var o=i.options.dashArray.split(/[, ]+/),u=[],d,f;for(f=0;f<o.length;f++){if(d=Number(o[f]),isNaN(d))return;u.push(d)}i.options._dashArray=u}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||pe(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var o=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ee,this._redrawBounds.extend(i._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(i._pxBounds.max.add([o,o]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var o=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,o.x,o.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,o=this._redrawBounds;if(this._ctx.save(),o){var u=o.getSize();this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var d=this._drawFirst;d;d=d.next)i=d.layer,(!o||i._pxBounds&&i._pxBounds.intersects(o))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,o){if(this._drawing){var u,d,f,m,k=i._parts,P=k.length,I=this._ctx;if(P){for(I.beginPath(),u=0;u<P;u++){for(d=0,f=k[u].length;d<f;d++)m=k[u][d],I[d?"lineTo":"moveTo"](m.x,m.y);o&&I.closePath()}this._fillStroke(I,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var o=i._point,u=this._ctx,d=Math.max(Math.round(i._radius),1),f=(Math.max(Math.round(i._radiusY),1)||d)/d;f!==1&&(u.save(),u.scale(1,f)),u.beginPath(),u.arc(o.x,o.y/f,d,0,Math.PI*2,!1),f!==1&&u.restore(),this._fillStroke(u,i)}},_fillStroke:function(i,o){var u=o.options;u.fill&&(i.globalAlpha=u.fillOpacity,i.fillStyle=u.fillColor||u.color,i.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(i.setLineDash&&i.setLineDash(o.options&&o.options._dashArray||[]),i.globalAlpha=u.opacity,i.lineWidth=u.weight,i.strokeStyle=u.color,i.lineCap=u.lineCap,i.lineJoin=u.lineJoin,i.stroke())},_onClick:function(i){for(var o=this._map.mouseEventToLayerPoint(i),u,d,f=this._drawFirst;f;f=f.next)u=f.layer,u.options.interactive&&u._containsPoint(o)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(u))&&(d=u);this._fireEvent(d?[d]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var o=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,o)}},_handleMouseOut:function(i){var o=this._hoveredLayer;o&&(Xe(this._container,"leaflet-interactive"),this._fireEvent([o],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,o){if(!this._mouseHoverThrottled){for(var u,d,f=this._drawFirst;f;f=f.next)u=f.layer,u.options.interactive&&u._containsPoint(o)&&(d=u);d!==this._hoveredLayer&&(this._handleMouseOut(i),d&&(ve(this._container,"leaflet-interactive"),this._fireEvent([d],i,"mouseover"),this._hoveredLayer=d)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,o,u){this._map._fireDOMEvent(o,u||o.type,i)},_bringToFront:function(i){var o=i._order;if(o){var u=o.next,d=o.prev;if(u)u.prev=d;else return;d?d.next=u:u&&(this._drawFirst=u),o.prev=this._drawLast,this._drawLast.next=o,o.next=null,this._drawLast=o,this._requestRedraw(i)}},_bringToBack:function(i){var o=i._order;if(o){var u=o.next,d=o.prev;if(d)d.next=u;else return;u?u.prev=d:d&&(this._drawLast=d),o.prev=null,o.next=this._drawFirst,this._drawFirst.prev=o,this._drawFirst=o,this._requestRedraw(i)}}});function Dp(i){return se.canvas?new Rp(i):null}var Hs=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),jk={_initContainer:function(){this._container=Le("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Zn.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var o=i._container=Hs("shape");ve(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",i._path=Hs("path"),o.appendChild(i._path),this._updateStyle(i),this._layers[h(i)]=i},_addPath:function(i){var o=i._container;this._container.appendChild(o),i.options.interactive&&i.addInteractiveTarget(o)},_removePath:function(i){var o=i._container;Ve(o),i.removeInteractiveTarget(o),delete this._layers[h(i)]},_updateStyle:function(i){var o=i._stroke,u=i._fill,d=i.options,f=i._container;f.stroked=!!d.stroke,f.filled=!!d.fill,d.stroke?(o||(o=i._stroke=Hs("stroke")),f.appendChild(o),o.weight=d.weight+"px",o.color=d.color,o.opacity=d.opacity,d.dashArray?o.dashStyle=x(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=d.lineCap.replace("butt","flat"),o.joinstyle=d.lineJoin):o&&(f.removeChild(o),i._stroke=null),d.fill?(u||(u=i._fill=Hs("fill")),f.appendChild(u),u.color=d.fillColor||d.color,u.opacity=d.fillOpacity):u&&(f.removeChild(u),i._fill=null)},_updateCircle:function(i){var o=i._point.round(),u=Math.round(i._radius),d=Math.round(i._radiusY||u);this._setPath(i,i._empty()?"M0 0":"AL "+o.x+","+o.y+" "+u+","+d+" 0,"+65535*360)},_setPath:function(i,o){i._path.v=o},_bringToFront:function(i){Oi(i._container)},_bringToBack:function(i){Ii(i._container)}},_a=se.vml?Hs:As,Ws=Zn.extend({_initContainer:function(){this._container=_a("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=_a("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ve(this._container),De(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zn.prototype._update.call(this);var i=this._bounds,o=i.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(o))&&(this._svgSize=o,u.setAttribute("width",o.x),u.setAttribute("height",o.y)),rt(u,i.min),u.setAttribute("viewBox",[i.min.x,i.min.y,o.x,o.y].join(" ")),this.fire("update")}},_initPath:function(i){var o=i._path=_a("path");i.options.className&&ve(o,i.options.className),i.options.interactive&&ve(o,"leaflet-interactive"),this._updateStyle(i),this._layers[h(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Ve(i._path),i.removeInteractiveTarget(i._path),delete this._layers[h(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var o=i._path,u=i.options;o&&(u.stroke?(o.setAttribute("stroke",u.color),o.setAttribute("stroke-opacity",u.opacity),o.setAttribute("stroke-width",u.weight),o.setAttribute("stroke-linecap",u.lineCap),o.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?o.setAttribute("stroke-dasharray",u.dashArray):o.removeAttribute("stroke-dasharray"),u.dashOffset?o.setAttribute("stroke-dashoffset",u.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),u.fill?(o.setAttribute("fill",u.fillColor||u.color),o.setAttribute("fill-opacity",u.fillOpacity),o.setAttribute("fill-rule",u.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(i,o){this._setPath(i,Os(i._parts,o))},_updateCircle:function(i){var o=i._point,u=Math.max(Math.round(i._radius),1),d=Math.max(Math.round(i._radiusY),1)||u,f="a"+u+","+d+" 0 1,0 ",m=i._empty()?"M0 0":"M"+(o.x-u)+","+o.y+f+u*2+",0 "+f+-u*2+",0 ";this._setPath(i,m)},_setPath:function(i,o){i._path.setAttribute("d",o)},_bringToFront:function(i){Oi(i._path)},_bringToBack:function(i){Ii(i._path)}});se.vml&&Ws.include(jk);function Mp(i){return se.svg||se.vml?new Ws(i):null}Ee.include({getRenderer:function(i){var o=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return o||(o=this._renderer=this._createRenderer()),this.hasLayer(o)||this.addLayer(o),o},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var o=this._paneRenderers[i];return o===void 0&&(o=this._createRenderer({pane:i}),this._paneRenderers[i]=o),o},_createRenderer:function(i){return this.options.preferCanvas&&Dp(i)||Mp(i)}});var Bp=Mi.extend({initialize:function(i,o){Mi.prototype.initialize.call(this,this._boundsToLatLngs(i),o)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=_e(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function Vk(i,o){return new Bp(i,o)}Ws.create=_a,Ws.pointsToPath=Os,Vn.geometryToLayer=ca,Vn.coordsToLatLng=Fu,Vn.coordsToLatLngs=da,Vn.latLngToCoords=Uu,Vn.latLngsToCoords=ha,Vn.getFeature=Bi,Vn.asFeature=fa,Ee.mergeOptions({boxZoom:!0});var zp=Cn.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){me(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){De(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ve(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Bs(),xu(),this._startPoint=this._map.mouseEventToContainerPoint(i),me(document,{contextmenu:ei,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=Le("div","leaflet-zoom-box",this._container),ve(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var o=new ee(this._point,this._startPoint),u=o.getSize();rt(this._box,o.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(Ve(this._box),Xe(this._container,"leaflet-crosshair")),zs(),Su(),De(document,{contextmenu:ei,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var o=new Oe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(o).fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ee.addInitHook("addHandler","boxZoom",zp),Ee.mergeOptions({doubleClickZoom:!0});var Fp=Cn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var o=this._map,u=o.getZoom(),d=o.options.zoomDelta,f=i.originalEvent.shiftKey?u-d:u+d;o.options.doubleClickZoom==="center"?o.setZoom(f):o.setZoomAround(i.containerPoint,f)}});Ee.addInitHook("addHandler","doubleClickZoom",Fp),Ee.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Up=Cn.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new lr(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}ve(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Xe(this._map._container,"leaflet-grab"),Xe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var o=_e(this._map.options.maxBounds);this._offsetLimit=ce(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var o=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(o),this._prunePositions(o)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,o){return i-(i-o)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit;i.x<o.min.x&&(i.x=this._viscousLimit(i.x,o.min.x)),i.y<o.min.y&&(i.y=this._viscousLimit(i.y,o.min.y)),i.x>o.max.x&&(i.x=this._viscousLimit(i.x,o.max.x)),i.y>o.max.y&&(i.y=this._viscousLimit(i.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,o=Math.round(i/2),u=this._initialWorldOffset,d=this._draggable._newPos.x,f=(d-o+u)%i+o-u,m=(d+o+u)%i-o-u,k=Math.abs(f+u)<Math.abs(m+u)?f:m;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=k},_onDragEnd:function(i){var o=this._map,u=o.options,d=!u.inertia||i.noInertia||this._times.length<2;if(o.fire("dragend",i),d)o.fire("moveend");else{this._prunePositions(+new Date);var f=this._lastPos.subtract(this._positions[0]),m=(this._lastTime-this._times[0])/1e3,k=u.easeLinearity,P=f.multiplyBy(k/m),I=P.distanceTo([0,0]),V=Math.min(u.inertiaMaxSpeed,I),Y=P.multiplyBy(V/I),ue=V/(u.inertiaDeceleration*k),we=Y.multiplyBy(-ue/2).round();!we.x&&!we.y?o.fire("moveend"):(we=o._limitOffset(we,o.options.maxBounds),pe(function(){o.panBy(we,{duration:ue,easeLinearity:k,noMoveStart:!0,animate:!0})}))}}});Ee.addInitHook("addHandler","dragging",Up),Ee.mergeOptions({keyboard:!0,keyboardPanDelta:80});var $p=Cn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),me(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),De(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,o=document.documentElement,u=i.scrollTop||o.scrollTop,d=i.scrollLeft||o.scrollLeft;this._map._container.focus(),window.scrollTo(d,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var o=this._panKeys={},u=this.keyCodes,d,f;for(d=0,f=u.left.length;d<f;d++)o[u.left[d]]=[-1*i,0];for(d=0,f=u.right.length;d<f;d++)o[u.right[d]]=[i,0];for(d=0,f=u.down.length;d<f;d++)o[u.down[d]]=[0,i];for(d=0,f=u.up.length;d<f;d++)o[u.up[d]]=[0,-1*i]},_setZoomDelta:function(i){var o=this._zoomKeys={},u=this.keyCodes,d,f;for(d=0,f=u.zoomIn.length;d<f;d++)o[u.zoomIn[d]]=i;for(d=0,f=u.zoomOut.length;d<f;d++)o[u.zoomOut[d]]=-i},_addHooks:function(){me(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){De(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var o=i.keyCode,u=this._map,d;if(o in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(d=this._panKeys[o],i.shiftKey&&(d=j(d).multiplyBy(3)),u.options.maxBounds&&(d=u._limitOffset(j(d),u.options.maxBounds)),u.options.worldCopyJump){var f=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(d)));u.panTo(f)}else u.panBy(d)}else if(o in this._zoomKeys)u.setZoom(u.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[o]);else if(o===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;ei(i)}}});Ee.addInitHook("addHandler","keyboard",$p),Ee.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var jp=Cn.extend({addHooks:function(){me(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){De(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var o=hp(i),u=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var d=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),d),ei(i)},_performZoom:function(){var i=this._map,o=i.getZoom(),u=this._map.options.zoomSnap||0;i._stop();var d=this._delta/(this._map.options.wheelPxPerZoomLevel*4),f=4*Math.log(2/(1+Math.exp(-Math.abs(d))))/Math.LN2,m=u?Math.ceil(f/u)*u:f,k=i._limitZoom(o+(this._delta>0?m:-m))-o;this._delta=0,this._startTime=null,k&&(i.options.scrollWheelZoom==="center"?i.setZoom(o+k):i.setZoomAround(this._lastMousePos,o+k))}});Ee.addInitHook("addHandler","scrollWheelZoom",jp);var Zk=600;Ee.mergeOptions({tapHold:se.touchNative&&se.safari&&se.mobile,tapTolerance:15});var Vp=Cn.extend({addHooks:function(){me(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){De(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var o=i.touches[0];this._startPos=this._newPos=new F(o.clientX,o.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(me(document,"touchend",_t),me(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",o))},this),Zk),me(document,"touchend touchcancel contextmenu",this._cancel,this),me(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){De(document,"touchend",_t),De(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),De(document,"touchend touchcancel contextmenu",this._cancel,this),De(document,"touchmove",this._onMove,this)},_onMove:function(i){var o=i.touches[0];this._newPos=new F(o.clientX,o.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,o){var u=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY});u._simulated=!0,o.target.dispatchEvent(u)}});Ee.addInitHook("addHandler","tapHold",Vp),Ee.mergeOptions({touchZoom:se.touch,bounceAtZoomLimits:!0});var Zp=Cn.extend({addHooks:function(){ve(this._map._container,"leaflet-touch-zoom"),me(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Xe(this._map._container,"leaflet-touch-zoom"),De(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var o=this._map;if(!(!i.touches||i.touches.length!==2||o._animatingZoom||this._zooming)){var u=o.mouseEventToContainerPoint(i.touches[0]),d=o.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),o.options.touchZoom!=="center"&&(this._pinchStartLatLng=o.containerPointToLatLng(u.add(d)._divideBy(2))),this._startDist=u.distanceTo(d),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),me(document,"touchmove",this._onTouchMove,this),me(document,"touchend touchcancel",this._onTouchEnd,this),_t(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var o=this._map,u=o.mouseEventToContainerPoint(i.touches[0]),d=o.mouseEventToContainerPoint(i.touches[1]),f=u.distanceTo(d)/this._startDist;if(this._zoom=o.getScaleZoom(f,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&f<1||this._zoom>o.getMaxZoom()&&f>1)&&(this._zoom=o._limitZoom(this._zoom)),o.options.touchZoom==="center"){if(this._center=this._startLatLng,f===1)return}else{var m=u._add(d)._divideBy(2)._subtract(this._centerPoint);if(f===1&&m.x===0&&m.y===0)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(m),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),J(this._animRequest);var k=l(o._move,o,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=pe(k,this,!0),_t(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,J(this._animRequest),De(document,"touchmove",this._onTouchMove,this),De(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ee.addInitHook("addHandler","touchZoom",Zp),Ee.BoxZoom=zp,Ee.DoubleClickZoom=Fp,Ee.Drag=Up,Ee.Keyboard=$p,Ee.ScrollWheelZoom=jp,Ee.TapHold=Vp,Ee.TouchZoom=Zp,n.Bounds=ee,n.Browser=se,n.CRS=Je,n.Canvas=Rp,n.Circle=zu,n.CircleMarker=ua,n.Class=Se,n.Control=dn,n.DivIcon=Ap,n.DivOverlay=Pn,n.DomEvent=lk,n.DomUtil=ok,n.Draggable=lr,n.Evented=Re,n.FeatureGroup=$n,n.GeoJSON=Vn,n.GridLayer=Zs,n.Handler=Cn,n.Icon=Di,n.ImageOverlay=pa,n.LatLng=de,n.LatLngBounds=Oe,n.Layer=hn,n.LayerGroup=Ri,n.LineUtil=kk,n.Map=Ee,n.Marker=la,n.Mixin=mk,n.Path=ur,n.Point=F,n.PolyUtil=gk,n.Polygon=Mi,n.Polyline=jn,n.Popup=ma,n.PosAnimation=fp,n.Projection=xk,n.Rectangle=Bp,n.Renderer=Zn,n.SVG=Ws,n.SVGOverlay=Np,n.TileLayer=zi,n.Tooltip=ga,n.Transformation=Kr,n.Util=ge,n.VideoOverlay=Lp,n.bind=l,n.bounds=ce,n.canvas=Dp,n.circle=Nk,n.circleMarker=Lk,n.control=$s,n.divIcon=Fk,n.extend=s,n.featureGroup=Tk,n.geoJSON=Pp,n.geoJson=Ik,n.gridLayer=Uk,n.icon=Ck,n.imageOverlay=Rk,n.latLng=le,n.latLngBounds=_e,n.layerGroup=bk,n.map=uk,n.marker=Pk,n.point=j,n.polygon=Ok,n.polyline=Ak,n.popup=Bk,n.rectangle=Vk,n.setOptions=N,n.stamp=h,n.svg=Mp,n.svgOverlay=Mk,n.tileLayer=Op,n.tooltip=zk,n.transformation=Gr,n.version=r,n.videoOverlay=Dk;var Hk=window.L;n.noConflict=function(){return window.L=Hk,this},window.L=n})})(Hd,Hd.exports);var Cs=Hd.exports;const Ti=b_(Cs);function su(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function xf(e,t){return t==null?function(r,s){const a=C.useRef();return a.current||(a.current=e(r,s)),a}:function(r,s){const a=C.useRef();a.current||(a.current=e(r,s));const l=C.useRef(r),{instance:c}=a.current;return C.useEffect(function(){l.current!==r&&(t(c,r,l.current),l.current=r)},[c,r,s]),a}}function Wb(e,t){C.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var a;(a=t.layerContainer)==null||a.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function fw(e){return function(n){const r=dw(),s=e(kf(n,r),r);return lw(r.map,n.attribution),hw(s.current,n.eventHandlers),Wb(s.current,r),s}}function qb(e,t){const n=xf(e,t),r=fw(n);return jb(r)}function pw(e,t){const n=xf(e),r=Hb(n,t);return Vb(r)}function Kb(e,t){const n=xf(e,t),r=fw(n);return Zb(r)}function Gb(e,t,n){const{opacity:r,zIndex:s}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),s!=null&&s!==n.zIndex&&e.setZIndex(s)}function Wd(){return Wd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wd.apply(this,arguments)}function Yb({bounds:e,boundsOptions:t,center:n,children:r,className:s,id:a,placeholder:l,style:c,whenReady:h,zoom:p,..._},g){const[w]=C.useState({className:s,id:a,style:c}),[b,O]=C.useState(null);C.useImperativeHandle(g,()=>(b==null?void 0:b.map)??null,[b]);const N=C.useCallback(S=>{if(S!==null&&b===null){const y=new Cs.Map(S,_);n!=null&&p!=null?y.setView(n,p):e!=null&&y.fitBounds(e,t),h!=null&&y.whenReady(h),O(Ub(y))}},[]);C.useEffect(()=>()=>{b==null||b.map.remove()},[b]);const z=b?ot.createElement(cw,{value:b},r):l??null;return ot.createElement("div",Wd({},w,{ref:N}),z)}const Sf=C.forwardRef(Yb),Ml=qb(function({position:t,...n},r){const s=new Cs.Marker(t,n);return su(s,$b(r,{overlayContainer:s}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),Ef=pw(function(t,n){const r=new Cs.Popup(t,n.overlayContainer);return su(r,n)},function(t,n,{position:r},s){C.useEffect(function(){const{instance:l}=t;function c(p){p.popup===l&&(l.update(),s(!0))}function h(p){p.popup===l&&s(!1)}return n.map.on({popupopen:c,popupclose:h}),n.overlayContainer==null?(r!=null&&l.setLatLng(r),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){var _;n.map.off({popupopen:c,popupclose:h}),(_=n.overlayContainer)==null||_.unbindPopup(),n.map.removeLayer(l)}},[t,n,s,r])}),bf=Kb(function({url:t,...n},r){const s=new Cs.TileLayer(t,kf(n,r));return su(s,r)},function(t,n,r){Gb(t,n,r);const{url:s}=n;s!=null&&s!==r.url&&t.setUrl(s)}),Vg=pw(function(t,n){const r=new Cs.Tooltip(t,n.overlayContainer);return su(r,n)},function(t,n,{position:r},s){C.useEffect(function(){const l=n.overlayContainer;if(l==null)return;const{instance:c}=t,h=_=>{_.tooltip===c&&(r!=null&&c.setLatLng(r),c.update(),s(!0))},p=_=>{_.tooltip===c&&s(!1)};return l.on({tooltipopen:h,tooltipclose:p}),l.bindTooltip(c),function(){l.off({tooltipopen:h,tooltipclose:p}),l._map!=null&&l.unbindTooltip()}},[t,n,s,r])});delete Ti.Icon.Default.prototype._getIconUrl;Ti.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.3/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.3/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.3/dist/images/marker-shadow.png"});const Qb=({center:e,onLocationChange:t})=>{const[n,r]=C.useState(e),s=C.useRef(null),a=C.useMemo(()=>({dragend(){const l=s.current;if(l!=null){const c=l.getLatLng();r(c),t(c)}}}),[t]);return C.useEffect(()=>{r(e)},[e]),v(Ml,{draggable:!0,eventHandlers:a,position:n,ref:s,children:v(Ef,{children:"Drag this marker to the exact incident location."})})},mw=({center:e,onLocationChange:t})=>D(Sf,{center:e,zoom:15,style:{height:"100%",width:"100%"},children:[v(bf,{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &  <a href="https://carto.com/attributions">CARTO</a>'}),v(Qb,{center:e,onLocationChange:t})]});const Jb=()=>{const{user:e,token:t,logout:n}=Wr(),[r,s]=C.useState([]),[a,l]=C.useState(!0),[c,h]=C.useState(null),[p,_]=C.useState(!1),[g,w]=C.useState(!1),[b,O]=C.useState(null),[N,z]=C.useState([14.113,122.95]),[S,y]=C.useState(null);C.useEffect(()=>{(async()=>{if(!(!t||!e))try{const B=await fetch(`${wt}/api/alerts`,{headers:{Authorization:`Bearer ${t}`}});if(!B.ok)throw new Error("Failed to fetch alerts");const oe=(await B.json()).filter(G=>{var pe;return((pe=G.userId)==null?void 0:pe._id)===e.id});s(oe)}catch(B){h(B.message)}finally{l(!1)}})()},[t,e]);const x=()=>{O(null),y(null),navigator.geolocation.getCurrentPosition(U=>{const B={lat:U.coords.latitude,lng:U.coords.longitude};z([B.lat,B.lng]),O(B),_(!0)},()=>{y("Could not get GPS. The map is optional."),O(null),_(!0)})},T=U=>{O(U)},R=async U=>{w(!0),h(null);try{const B={...U,location:b,reporterName:`${e.firstName} ${e.lastName}`,reporterPhone:e.phoneNumber},$=await fetch(`${wt}/api/alerts`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(B)});if(!$.ok)throw new Error("Failed to submit alert");const oe=await $.json();s(G=>[oe.alert,...G]),_(!1)}catch(B){h(B.message)}finally{w(!1)}};return D("div",{className:"citizen-dashboard",children:[D("header",{className:"cd-header",children:[D(nt,{to:"/",className:"header-logo-link",children:[v("img",{src:"/prc-logo.png",alt:"PRC Logo"}),v("span",{children:"PRC-CN EMS"})]}),D("div",{className:"user-info",children:[D("h1",{children:["Welcome, ",e.firstName,"!"]}),v("p",{children:"Your personal emergency hub."})]}),D("nav",{className:"cd-nav",children:[(e==null?void 0:e.role)==="admin"&&v(nt,{to:"/dashboard/admin",className:"nav-link admin-link",children:"Return to Admin"}),v("button",{onClick:n,className:"logout-button",children:"Logout"})]})]}),D("main",{className:"cd-main",children:[D("div",{className:"cd-actions",children:[v("h2",{children:"Dashboard"}),v("button",{onClick:x,className:"new-alert-button",children:"Create New Alert"}),v(nt,{to:"/first-aid",className:"first-aid-button",children:"View First-Aid Guide"})]}),D("div",{className:"alert-history",children:[v("h3",{children:"Your Alert History"}),a&&v("p",{children:"Loading your alerts..."}),c&&v("p",{className:"error-message",children:c}),!a&&r.length===0&&v("p",{children:"You haven't submitted any alerts yet."}),v("ul",{className:"alerts-list",children:r.map(U=>D("li",{className:`alert-item status-${U.status.toLowerCase().replace(/\s+/g,"-")}`,children:[D("div",{className:"alert-item-header",children:[v("span",{className:"incident-type",children:U.incidentType}),v("span",{className:"status-badge",children:U.status})]}),v("div",{className:"alert-item-body",children:D("p",{children:[v("strong",{children:"Description:"})," ",U.description]})}),v("div",{className:"alert-item-footer",children:v("small",{children:new Date(U.createdAt).toLocaleString()})})]},U._id))})]})]}),D(Bb,{isOpen:p,onClose:()=>_(!1),children:[D("div",{className:"modal-map-wrapper",children:[v("p",{className:"map-optional-text",children:"Optional: Drag the pin to the exact incident location."}),v(mw,{center:N,onLocationChange:T})]}),S&&v("p",{className:"location-error",children:c}),v("h2",{style:{marginTop:"1.5rem"},children:"Alert Details"}),v(aw,{onSubmit:R,isSubmitting:g})]})]})},Fn=Object.create(null);Fn.open="0";Fn.close="1";Fn.ping="2";Fn.pong="3";Fn.message="4";Fn.upgrade="5";Fn.noop="6";const Xa=Object.create(null);Object.keys(Fn).forEach(e=>{Xa[Fn[e]]=e});const qd={type:"error",data:"parser error"},gw=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",_w=typeof ArrayBuffer=="function",vw=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Tf=({type:e,data:t},n,r)=>gw&&t instanceof Blob?n?r(t):Zg(t,r):_w&&(t instanceof ArrayBuffer||vw(t))?n?r(t):Zg(new Blob([t]),r):r(Fn[e]+(t||"")),Zg=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function Hg(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let vc;function Xb(e,t){if(gw&&e.data instanceof Blob)return e.data.arrayBuffer().then(Hg).then(t);if(_w&&(e.data instanceof ArrayBuffer||vw(e.data)))return t(Hg(e.data));Tf(e,!1,n=>{vc||(vc=new TextEncoder),t(vc.encode(n))})}const Wg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",co=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Wg.length;e++)co[Wg.charCodeAt(e)]=e;const eT=e=>{let t=e.length*.75,n=e.length,r,s=0,a,l,c,h;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const p=new ArrayBuffer(t),_=new Uint8Array(p);for(r=0;r<n;r+=4)a=co[e.charCodeAt(r)],l=co[e.charCodeAt(r+1)],c=co[e.charCodeAt(r+2)],h=co[e.charCodeAt(r+3)],_[s++]=a<<2|l>>4,_[s++]=(l&15)<<4|c>>2,_[s++]=(c&3)<<6|h&63;return p},tT=typeof ArrayBuffer=="function",Cf=(e,t)=>{if(typeof e!="string")return{type:"message",data:yw(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:nT(e.substring(1),t)}:Xa[n]?e.length>1?{type:Xa[n],data:e.substring(1)}:{type:Xa[n]}:qd},nT=(e,t)=>{if(tT){const n=eT(e);return yw(n,t)}else return{base64:!0,data:e}},yw=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},ww=String.fromCharCode(30),rT=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((a,l)=>{Tf(a,!1,c=>{r[l]=c,++s===n&&t(r.join(ww))})})},iT=(e,t)=>{const n=e.split(ww),r=[];for(let s=0;s<n.length;s++){const a=Cf(n[s],t);if(r.push(a),a.type==="error")break}return r};function sT(){return new TransformStream({transform(e,t){Xb(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const a=new DataView(s.buffer);a.setUint8(0,126),a.setUint16(1,r)}else{s=new Uint8Array(9);const a=new DataView(s.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let yc;function Ma(e){return e.reduce((t,n)=>t+n.length,0)}function Ba(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function oT(e,t){yc||(yc=new TextDecoder);const n=[];let r=0,s=-1,a=!1;return new TransformStream({transform(l,c){for(n.push(l);;){if(r===0){if(Ma(n)<1)break;const h=Ba(n,1);a=(h[0]&128)===128,s=h[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(Ma(n)<2)break;const h=Ba(n,2);s=new DataView(h.buffer,h.byteOffset,h.length).getUint16(0),r=3}else if(r===2){if(Ma(n)<8)break;const h=Ba(n,8),p=new DataView(h.buffer,h.byteOffset,h.length),_=p.getUint32(0);if(_>Math.pow(2,53-32)-1){c.enqueue(qd);break}s=_*Math.pow(2,32)+p.getUint32(4),r=3}else{if(Ma(n)<s)break;const h=Ba(n,s);c.enqueue(Cf(a?h:yc.decode(h),t)),r=0}if(s===0||s>e){c.enqueue(qd);break}}}})}const kw=4;function lt(e){if(e)return aT(e)}function aT(e){for(var t in lt.prototype)e[t]=lt.prototype[t];return e}lt.prototype.on=lt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};lt.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};lt.prototype.off=lt.prototype.removeListener=lt.prototype.removeAllListeners=lt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};lt.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};lt.prototype.emitReserved=lt.prototype.emit;lt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};lt.prototype.hasListeners=function(e){return!!this.listeners(e).length};const ou=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0))(),rn=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())(),lT="arraybuffer";function xw(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const uT=rn.setTimeout,cT=rn.clearTimeout;function au(e,t){t.useNativeTimers?(e.setTimeoutFn=uT.bind(rn),e.clearTimeoutFn=cT.bind(rn)):(e.setTimeoutFn=rn.setTimeout.bind(rn),e.clearTimeoutFn=rn.clearTimeout.bind(rn))}const dT=1.33;function hT(e){return typeof e=="string"?fT(e):Math.ceil((e.byteLength||e.size)*dT)}function fT(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function Sw(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function pT(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function mT(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let a=n[r].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class gT extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class Pf extends lt{constructor(t){super(),this.writable=!1,au(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new gT(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Cf(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=pT(t);return n.length?"?"+n:""}}class _T extends Pf{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};iT(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,rT(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Sw()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let Ew=!1;try{Ew=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const vT=Ew;function yT(){}class wT extends _T{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,a)=>{this.onError("xhr post error",s,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class Bn extends lt{constructor(t,n,r){super(),this.createRequest=t,au(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=xw(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Bn.requestsCount++,Bn.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=yT,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Bn.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Bn.requestsCount=0;Bn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",qg);else if(typeof addEventListener=="function"){const e="onpagehide"in rn?"pagehide":"unload";addEventListener(e,qg,!1)}}function qg(){for(let e in Bn.requests)Bn.requests.hasOwnProperty(e)&&Bn.requests[e].abort()}const kT=function(){const e=bw({xdomain:!1});return e&&e.responseType!==null}();class xT extends wT{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=kT&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Bn(bw,this.uri(),t)}}function bw(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||vT))return new XMLHttpRequest}catch{}if(!t)try{return new rn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Tw=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class ST extends Pf{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=Tw?{}:xw(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;Tf(r,this.supportsBinary,a=>{try{this.doWrite(r,a)}catch{}s&&ou(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Sw()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const wc=rn.WebSocket||rn.MozWebSocket;class ET extends ST{createSocket(t,n,r){return Tw?new wc(t,n,r):n?new wc(t,n):new wc(t)}doWrite(t,n){this.ws.send(n)}}class bT extends Pf{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=oT(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=sT();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const a=()=>{r.read().then(({done:c,value:h})=>{c||(this.onPacket(h),a())}).catch(c=>{})};a();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;this._writer.write(r).then(()=>{s&&ou(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const TT={websocket:ET,webtransport:bT,polling:xT},CT=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,PT=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Kd(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=CT.exec(e||""),a={},l=14;for(;l--;)a[PT[l]]=s[l]||"";return n!=-1&&r!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=LT(a,a.path),a.queryKey=NT(a,a.query),a}function LT(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function NT(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,a){s&&(n[s]=a)}),n}const Gd=typeof addEventListener=="function"&&typeof removeEventListener=="function",el=[];Gd&&addEventListener("offline",()=>{el.forEach(e=>e())},!1);class Or extends lt{constructor(t,n){if(super(),this.binaryType=lT,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=Kd(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=Kd(n.host).host);au(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=mT(this.opts.query)),Gd&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},el.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=kw,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Or.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Or.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=hT(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,ou(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const a={type:t,data:n,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(Or.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Gd&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=el.indexOf(this._offlineEventListener);r!==-1&&el.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}Or.protocol=kw;class AT extends Or{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;Or.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",g=>{if(!r)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Or.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(_(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const w=new Error("probe error");w.transport=n.name,this.emitReserved("upgradeError",w)}}))};function a(){r||(r=!0,_(),n.close(),n=null)}const l=g=>{const w=new Error("probe error: "+g);w.transport=n.name,a(),this.emitReserved("upgradeError",w)};function c(){l("transport closed")}function h(){l("socket closed")}function p(g){n&&g.name!==n.name&&a()}const _=()=>{n.removeListener("open",s),n.removeListener("error",l),n.removeListener("close",c),this.off("close",h),this.off("upgrading",p)};n.once("open",s),n.once("error",l),n.once("close",c),this.once("close",h),this.once("upgrading",p),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let OT=class extends AT{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>TT[s]).filter(s=>!!s)),super(t,r)}};function IT(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=Kd(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const a=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+t,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}const RT=typeof ArrayBuffer=="function",DT=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Cw=Object.prototype.toString,MT=typeof Blob=="function"||typeof Blob<"u"&&Cw.call(Blob)==="[object BlobConstructor]",BT=typeof File=="function"||typeof File<"u"&&Cw.call(File)==="[object FileConstructor]";function Lf(e){return RT&&(e instanceof ArrayBuffer||DT(e))||MT&&e instanceof Blob||BT&&e instanceof File}function tl(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(tl(e[n]))return!0;return!1}if(Lf(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return tl(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&tl(e[n]))return!0;return!1}function zT(e){const t=[],n=e.data,r=e;return r.data=Yd(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Yd(e,t){if(!e)return e;if(Lf(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Yd(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Yd(e[r],t));return n}return e}function FT(e,t){return e.data=Qd(e.data,t),delete e.attachments,e}function Qd(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Qd(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Qd(e[n],t));return e}const Pw=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],UT=5;var ye;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(ye||(ye={}));class $T{constructor(t){this.replacer=t}encode(t){return(t.type===ye.EVENT||t.type===ye.ACK)&&tl(t)?this.encodeAsBinary({type:t.type===ye.EVENT?ye.BINARY_EVENT:ye.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===ye.BINARY_EVENT||t.type===ye.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=zT(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}class Nf extends lt{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===ye.BINARY_EVENT;r||n.type===ye.BINARY_ACK?(n.type=r?ye.EVENT:ye.ACK,this.reconstructor=new jT(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Lf(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(ye[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===ye.BINARY_EVENT||r.type===ye.BINARY_ACK){const a=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const l=t.substring(a,n);if(l!=Number(l)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(l)}if(t.charAt(n+1)==="/"){const a=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(a,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const a=n+1;for(;++n;){const l=t.charAt(n);if(l==null||Number(l)!=l){--n;break}if(n===t.length)break}r.id=Number(t.substring(a,n+1))}if(t.charAt(++n)){const a=this.tryParse(t.substr(n));if(Nf.isPayloadValid(r.type,a))r.data=a;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case ye.CONNECT:return Bl(n);case ye.DISCONNECT:return n===void 0;case ye.CONNECT_ERROR:return typeof n=="string"||Bl(n);case ye.EVENT:case ye.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Pw.indexOf(n[0])===-1);case ye.ACK:case ye.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class jT{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=FT(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function VT(e){return typeof e=="string"}const ZT=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};function HT(e){return e===void 0||ZT(e)}function Bl(e){return Object.prototype.toString.call(e)==="[object Object]"}function WT(e,t){switch(e){case ye.CONNECT:return t===void 0||Bl(t);case ye.DISCONNECT:return t===void 0;case ye.EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&Pw.indexOf(t[0])===-1);case ye.ACK:return Array.isArray(t);case ye.CONNECT_ERROR:return typeof t=="string"||Bl(t);default:return!1}}function qT(e){return VT(e.nsp)&&HT(e.id)&&WT(e.type,e.data)}const KT=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Nf,Encoder:$T,get PacketType(){return ye},isPacketValid:qT,protocol:UT},Symbol.toStringTag,{value:"Module"}));function gn(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const GT=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Lw extends lt{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[gn(t,"open",this.onopen.bind(this)),gn(t,"packet",this.onpacket.bind(this)),gn(t,"error",this.onerror.bind(this)),gn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,s,a;if(GT.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const l={type:ye.EVENT,data:n};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const _=this.ids++,g=n.pop();this._registerAckCallback(_,g),l.id=_}const c=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,h=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!c||(h?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(t,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===t&&this.sendBuffer.splice(c,1);n.call(this,new Error("operation has timed out"))},s),l=(...c)=>{this.io.clearTimeoutFn(a),n.apply(this,c)};l.withError=!0,this.acks[t]=l}emitWithAck(t,...n){return new Promise((r,s)=>{const a=(l,c)=>l?s(l):r(c);a.withError=!0,n.push(a),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...a)=>(this._queue[0],s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...a)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:ye.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case ye.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ye.EVENT:case ye.BINARY_EVENT:this.onevent(t);break;case ye.ACK:case ye.BINARY_ACK:this.onack(t);break;case ye.DISCONNECT:this.ondisconnect();break;case ye.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:ye.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ye.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Ps(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ps.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Ps.prototype.reset=function(){this.attempts=0};Ps.prototype.setMin=function(e){this.ms=e};Ps.prototype.setMax=function(e){this.max=e};Ps.prototype.setJitter=function(e){this.jitter=e};class Jd extends lt{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,au(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Ps({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||KT;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new OT(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=gn(n,"open",function(){r.onopen(),t&&t()}),a=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),t?t(c):this.maybeReconnectOnOpen()},l=gn(n,"error",a);if(this._timeout!==!1){const c=this._timeout,h=this.setTimeoutFn(()=>{s(),a(new Error("timeout")),n.close()},c);this.opts.autoUnref&&h.unref(),this.subs.push(()=>{this.clearTimeoutFn(h)})}return this.subs.push(s),this.subs.push(l),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(gn(t,"ping",this.onping.bind(this)),gn(t,"data",this.ondata.bind(this)),gn(t,"error",this.onerror.bind(this)),gn(t,"close",this.onclose.bind(this)),gn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){ou(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new Lw(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const no={};function nl(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=IT(e,t.path||"/socket.io"),r=n.source,s=n.id,a=n.path,l=no[s]&&a in no[s].nsps,c=t.forceNew||t["force new connection"]||t.multiplex===!1||l;let h;return c?h=new Jd(r,t):(no[s]||(no[s]=new Jd(r,t)),h=no[s]),n.query&&!t.query&&(t.query=n.queryKey),h.socket(n.path,t)}Object.assign(nl,{Manager:Jd,Socket:Lw,io:nl,connect:nl});const Nw=C.createContext(null),Aw=()=>C.useContext(Nw),YT=({children:e})=>{const[t,n]=C.useState(null);return C.useEffect(()=>{const r=nl(wt,{transports:["websocket","polling"]});return n(r),()=>r.close()},[]),v(Nw.Provider,{value:t,children:e})};/*! Capacitor: https://capacitorjs.com/ - MIT License */const QT=e=>{const t=new Map;t.set("web",{name:"web"});const n=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t},r=(a,l)=>{n.platforms.set(a,l)},s=a=>{n.platforms.has(a)&&(n.currentPlatform=n.platforms.get(a))};return n.addPlatform=r,n.setPlatform=s,n},JT=e=>e.CapacitorPlatforms=QT(e),Ow=JT(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});Ow.addPlatform;Ow.setPlatform;var ws;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(ws||(ws={}));class kc extends Error{constructor(t,n,r){super(t),this.message=t,this.code=n,this.data=r}}const XT=e=>{var t,n;return e!=null&&e.androidBridge?"android":!((n=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},eC=e=>{var t,n,r,s,a;const l=e.CapacitorCustomPlatform||null,c=e.Capacitor||{},h=c.Plugins=c.Plugins||{},p=e.CapacitorPlatforms,_=()=>l!==null?l.name:XT(e),g=((t=p==null?void 0:p.currentPlatform)===null||t===void 0?void 0:t.getPlatform)||_,w=()=>g()!=="web",b=((n=p==null?void 0:p.currentPlatform)===null||n===void 0?void 0:n.isNativePlatform)||w,O=B=>{const $=T.get(B);return!!($!=null&&$.platforms.has(g())||S(B))},N=((r=p==null?void 0:p.currentPlatform)===null||r===void 0?void 0:r.isPluginAvailable)||O,z=B=>{var $;return($=c.PluginHeaders)===null||$===void 0?void 0:$.find(oe=>oe.name===B)},S=((s=p==null?void 0:p.currentPlatform)===null||s===void 0?void 0:s.getPluginHeader)||z,y=B=>e.console.error(B),x=(B,$,oe)=>Promise.reject(`${oe} does not have an implementation of "${$}".`),T=new Map,R=(B,$={})=>{const oe=T.get(B);if(oe)return console.warn(`Capacitor plugin "${B}" already registered. Cannot register plugins twice.`),oe.proxy;const G=g(),pe=S(B);let J;const ge=async()=>(!J&&G in $?J=typeof $[G]=="function"?J=await $[G]():J=$[G]:l!==null&&!J&&"web"in $&&(J=typeof $.web=="function"?J=await $.web():J=$.web),J),Se=(j,ee)=>{var ce,Oe;if(pe){const _e=pe==null?void 0:pe.methods.find(de=>ee===de.name);if(_e)return _e.rtype==="promise"?de=>c.nativePromise(B,ee.toString(),de):(de,le)=>c.nativeCallback(B,ee.toString(),de,le);if(j)return(ce=j[ee])===null||ce===void 0?void 0:ce.bind(j)}else{if(j)return(Oe=j[ee])===null||Oe===void 0?void 0:Oe.bind(j);throw new kc(`"${B}" plugin is not implemented on ${G}`,ws.Unimplemented)}},$e=j=>{let ee;const ce=(...Oe)=>{const _e=ge().then(de=>{const le=Se(de,j);if(le){const Je=le(...Oe);return ee=Je==null?void 0:Je.remove,Je}else throw new kc(`"${B}.${j}()" is not implemented on ${G}`,ws.Unimplemented)});return j==="addListener"&&(_e.remove=async()=>ee()),_e};return ce.toString=()=>`${j.toString()}() { [capacitor code] }`,Object.defineProperty(ce,"name",{value:j,writable:!1,configurable:!1}),ce},Ce=$e("addListener"),Re=$e("removeListener"),F=(j,ee)=>{const ce=Ce({eventName:j},ee),Oe=async()=>{const de=await ce;Re({eventName:j,callbackId:de},ee)},_e=new Promise(de=>ce.then(()=>de({remove:Oe})));return _e.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await Oe()},_e},ae=new Proxy({},{get(j,ee){switch(ee){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return pe?F:Ce;case"removeListener":return Re;default:return $e(ee)}}});return h[B]=ae,T.set(B,{name:B,proxy:ae,platforms:new Set([...Object.keys($),...pe?[G]:[]])}),ae},U=((a=p==null?void 0:p.currentPlatform)===null||a===void 0?void 0:a.registerPlugin)||R;return c.convertFileSrc||(c.convertFileSrc=B=>B),c.getPlatform=g,c.handleError=y,c.isNativePlatform=b,c.isPluginAvailable=N,c.pluginMethodNoop=x,c.registerPlugin=U,c.Exception=kc,c.DEBUG=!!c.DEBUG,c.isLoggingEnabled=!!c.isLoggingEnabled,c.platform=c.getPlatform(),c.isNative=c.isNativePlatform(),c},tC=e=>e.Capacitor=eC(e),Ur=tC(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),lu=Ur.registerPlugin;Ur.Plugins;class Iw{constructor(t){this.listeners={},this.windowListeners={},t&&(console.warn(`Capacitor WebPlugin "${t.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=t)}addListener(t,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(n);const s=this.windowListeners[t];s&&!s.registered&&this.addWindowListener(s);const a=async()=>this.removeListener(t,n),l=Promise.resolve({remove:a});return Object.defineProperty(l,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await a()}}),l}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n){const r=this.listeners[t];r&&r.forEach(s=>s(n))}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(t="not implemented"){return new Ur.Exception(t,ws.Unimplemented)}unavailable(t="not available"){return new Ur.Exception(t,ws.Unavailable)}async removeListener(t,n){const r=this.listeners[t];if(!r)return;const s=r.indexOf(n);this.listeners[t].splice(s,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}}const Kg=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Gg=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class nC extends Iw{async getCookies(){const t=document.cookie,n={};return t.split(";").forEach(r=>{if(r.length<=0)return;let[s,a]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=Gg(s).trim(),a=Gg(a).trim(),n[s]=a}),n}async setCookie(t){try{const n=Kg(t.key),r=Kg(t.value),s=`; expires=${(t.expires||"").replace("expires=","")}`,a=(t.path||"/").replace("path=",""),l=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${r||""}${s}; path=${a}; ${l};`}catch(n){return Promise.reject(n)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}lu("CapacitorCookies",{web:()=>new nC});const rC=async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const s=r.result;t(s.indexOf(",")>=0?s.split(",")[1]:s)},r.onerror=s=>n(s),r.readAsDataURL(e)}),iC=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(s=>s.toLocaleLowerCase()).reduce((s,a,l)=>(s[a]=e[t[l]],s),{})},sC=(e,t=!0)=>e?Object.entries(e).reduce((r,s)=>{const[a,l]=s;let c,h;return Array.isArray(l)?(h="",l.forEach(p=>{c=t?encodeURIComponent(p):p,h+=`${a}=${c}&`}),h.slice(0,-1)):(c=t?encodeURIComponent(l):l,h=`${a}=${c}`),`${r}&${h}`},"").substr(1):null,oC=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),s=iC(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(s.includes("application/x-www-form-urlencoded")){const a=new URLSearchParams;for(const[l,c]of Object.entries(e.data||{}))a.set(l,c);n.body=a.toString()}else if(s.includes("multipart/form-data")||e.data instanceof FormData){const a=new FormData;if(e.data instanceof FormData)e.data.forEach((c,h)=>{a.append(h,c)});else for(const c of Object.keys(e.data))a.append(c,e.data[c]);n.body=a;const l=new Headers(n.headers);l.delete("content-type"),n.headers=l}else(s.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class aC extends Iw{async request(t){const n=oC(t,t.webFetchExtra),r=sC(t.params,t.shouldEncodeUrlParams),s=r?`${t.url}?${r}`:t.url,a=await fetch(s,n),l=a.headers.get("content-type")||"";let{responseType:c="text"}=a.ok?t:{};l.includes("application/json")&&(c="json");let h,p;switch(c){case"arraybuffer":case"blob":p=await a.blob(),h=await rC(p);break;case"json":h=await a.json();break;case"document":case"text":default:h=await a.text()}const _={};return a.headers.forEach((g,w)=>{_[w]=g}),{data:h,headers:_,status:a.status,url:a.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}lu("CapacitorHttp",{web:()=>new aC});const za=lu("PushNotifications",{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},lC=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=e[n++];t[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=e[n++],l=e[n++],c=e[n++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(h>>10)),t[r++]=String.fromCharCode(56320+(h&1023))}else{const a=e[n++],l=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return t.join("")},Dw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const a=e[s],l=s+1<e.length,c=l?e[s+1]:0,h=s+2<e.length,p=h?e[s+2]:0,_=a>>2,g=(a&3)<<4|c>>4;let w=(c&15)<<2|p>>6,b=p&63;h||(b=64,l||(w=64)),r.push(n[_],n[g],n[w],n[b])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Rw(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):lC(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const a=n[e.charAt(s++)],c=s<e.length?n[e.charAt(s)]:0;++s;const p=s<e.length?n[e.charAt(s)]:64;++s;const g=s<e.length?n[e.charAt(s)]:64;if(++s,a==null||c==null||p==null||g==null)throw new uC;const w=a<<2|c>>4;if(r.push(w),p!==64){const b=c<<4&240|p>>2;if(r.push(b),g!==64){const O=p<<6&192|g;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class uC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cC=function(e){const t=Rw(e);return Dw.encodeByteArray(t,!0)},zl=function(e){return cC(e).replace(/\./g,"")},dC=function(e){try{return Dw.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=()=>hC().__FIREBASE_DEFAULTS__,pC=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},mC=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&dC(e[1]);return t&&JSON.parse(t)},Af=()=>{try{return fC()||pC()||mC()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},gC=e=>{var t,n;return(n=(t=Af())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},_C=e=>{const t=gC(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Mw=()=>{var e;return(e=Af())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",s=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e),c="";return[zl(JSON.stringify(n)),zl(JSON.stringify(l)),c].join(".")}function wC(){var e;const t=(e=Af())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Bw(){try{return typeof indexedDB=="object"}catch{return!1}}function zw(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;t(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){t(n)}})}function kC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="FirebaseError";class Ci extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=xC,Object.setPrototypeOf(this,Ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uu.prototype.create)}}class uu{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,a=this.errors[t],l=a?SC(a,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new Ci(s,c,r)}}function SC(e,t){return e.replace(EC,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const EC=/\{\$([^}]+)}/g;function Xd(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const a=e[s],l=t[s];if(Yg(a)&&Yg(l)){if(!Xd(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Yg(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(e){return e&&e._delegate?e._delegate:e}class ir{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new vC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(CC(t))try{this.getOrInitializeService({instanceIdentifier:ii})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(t=ii){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ii){return this.instances.has(t)}getOptions(t=ii){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(s)}return s}onInit(t,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TC(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ii){return this.component?this.component.multipleInstances?t:ii:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TC(e){return e===ii?void 0:e}function CC(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new bC(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Fe||(Fe={}));const LC={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},NC=Fe.INFO,AC={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},OC=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=AC[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class IC{constructor(t){this.name=t,this._logLevel=NC,this._logHandler=OC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Fe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?LC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...t),this._logHandler(this,Fe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...t),this._logHandler(this,Fe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...t),this._logHandler(this,Fe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...t),this._logHandler(this,Fe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...t),this._logHandler(this,Fe.ERROR,...t)}}const RC=(e,t)=>t.some(n=>e instanceof n);let Qg,Jg;function DC(){return Qg||(Qg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MC(){return Jg||(Jg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fw=new WeakMap,eh=new WeakMap,Uw=new WeakMap,xc=new WeakMap,Of=new WeakMap;function BC(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",a),e.removeEventListener("error",l)},a=()=>{n(Ir(e.result)),s()},l=()=>{r(e.error),s()};e.addEventListener("success",a),e.addEventListener("error",l)});return t.then(n=>{n instanceof IDBCursor&&Fw.set(n,e)}).catch(()=>{}),Of.set(t,e),t}function zC(e){if(eh.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",l),e.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",a),e.addEventListener("error",l),e.addEventListener("abort",l)});eh.set(e,t)}let th={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return eh.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Uw.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ir(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function FC(e){th=e(th)}function UC(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Sc(this),t,...n);return Uw.set(r,t.sort?t.sort():[t]),Ir(r)}:MC().includes(e)?function(...t){return e.apply(Sc(this),t),Ir(Fw.get(this))}:function(...t){return Ir(e.apply(Sc(this),t))}}function $C(e){return typeof e=="function"?UC(e):(e instanceof IDBTransaction&&zC(e),RC(e,DC())?new Proxy(e,th):e)}function Ir(e){if(e instanceof IDBRequest)return BC(e);if(xc.has(e))return xc.get(e);const t=$C(e);return t!==e&&(xc.set(e,t),Of.set(t,e)),t}const Sc=e=>Of.get(e);function jC(e,t,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(e,t),c=Ir(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Ir(l.result),h.oldVersion,h.newVersion,Ir(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const VC=["get","getKey","getAll","getAllKeys","count"],ZC=["put","add","delete","clear"],Ec=new Map;function Xg(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Ec.get(t))return Ec.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=ZC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||VC.includes(n)))return;const a=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[n](...c),s&&h.done]))[0]};return Ec.set(t,a),a}FC(e=>({...e,get:(t,n,r)=>Xg(t,n)||e.get(t,n,r),has:(t,n)=>!!Xg(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function WC(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const nh="@firebase/app",e_="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new IC("@firebase/app"),qC="@firebase/app-compat",KC="@firebase/analytics-compat",GC="@firebase/analytics",YC="@firebase/app-check-compat",QC="@firebase/app-check",JC="@firebase/auth",XC="@firebase/auth-compat",eP="@firebase/database",tP="@firebase/database-compat",nP="@firebase/functions",rP="@firebase/functions-compat",iP="@firebase/installations",sP="@firebase/installations-compat",oP="@firebase/messaging",aP="@firebase/messaging-compat",lP="@firebase/performance",uP="@firebase/performance-compat",cP="@firebase/remote-config",dP="@firebase/remote-config-compat",hP="@firebase/storage",fP="@firebase/storage-compat",pP="@firebase/firestore",mP="@firebase/firestore-compat",gP="firebase",_P="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh="[DEFAULT]",vP={[nh]:"fire-core",[qC]:"fire-core-compat",[GC]:"fire-analytics",[KC]:"fire-analytics-compat",[QC]:"fire-app-check",[YC]:"fire-app-check-compat",[JC]:"fire-auth",[XC]:"fire-auth-compat",[eP]:"fire-rtdb",[tP]:"fire-rtdb-compat",[nP]:"fire-fn",[rP]:"fire-fn-compat",[iP]:"fire-iid",[sP]:"fire-iid-compat",[oP]:"fire-fcm",[aP]:"fire-fcm-compat",[lP]:"fire-perf",[uP]:"fire-perf-compat",[cP]:"fire-rc",[dP]:"fire-rc-compat",[hP]:"fire-gcs",[fP]:"fire-gcs-compat",[pP]:"fire-fst",[mP]:"fire-fst-compat","fire-js":"fire-js",[gP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=new Map,ih=new Map;function yP(e,t){try{e.container.addComponent(t)}catch(n){yi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function $r(e){const t=e.name;if(ih.has(t))return yi.debug(`There were multiple attempts to register component ${t}.`),!1;ih.set(t,e);for(const n of Fl.values())yP(n,e);return!0}function cu(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Rr=new uu("app","Firebase",wP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ir("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP=_P;function $w(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:rh,automaticDataCollectionEnabled:!1},t),s=r.name;if(typeof s!="string"||!s)throw Rr.create("bad-app-name",{appName:String(s)});if(n||(n=Mw()),!n)throw Rr.create("no-options");const a=Fl.get(s);if(a){if(Xd(n,a.options)&&Xd(r,a.config))return a;throw Rr.create("duplicate-app",{appName:s})}const l=new PC(s);for(const h of ih.values())l.addComponent(h);const c=new kP(n,r,l);return Fl.set(s,c),c}function jw(e=rh){const t=Fl.get(e);if(!t&&e===rh&&Mw())return $w();if(!t)throw Rr.create("no-app",{appName:e});return t}function zn(e,t,n){var r;let s=(r=vP[e])!==null&&r!==void 0?r:e;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),yi.warn(c.join(" "));return}$r(new ir(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP="firebase-heartbeat-database",EP=1,Ho="firebase-heartbeat-store";let bc=null;function Vw(){return bc||(bc=jC(SP,EP,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Ho)}}}).catch(e=>{throw Rr.create("idb-open",{originalErrorMessage:e.message})})),bc}async function bP(e){try{return await(await Vw()).transaction(Ho).objectStore(Ho).get(Zw(e))}catch(t){if(t instanceof Ci)yi.warn(t.message);else{const n=Rr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});yi.warn(n.message)}}}async function t_(e,t){try{const r=(await Vw()).transaction(Ho,"readwrite");await r.objectStore(Ho).put(t,Zw(e)),await r.done}catch(n){if(n instanceof Ci)yi.warn(n.message);else{const r=Rr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yi.warn(r.message)}}}function Zw(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=1024,CP=30*24*60*60*1e3;class PP{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=n_();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=CP}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=n_(),{heartbeatsToSend:n,unsentEntries:r}=LP(this._heartbeatsCache.heartbeats),s=zl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function n_(){return new Date().toISOString().substring(0,10)}function LP(e,t=TP){const n=[];let r=e.slice();for(const s of e){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),r_(n)>t){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),r_(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class NP{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Bw()?zw().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await bP(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return t_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return t_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function r_(e){return zl(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(e){$r(new ir("platform-logger",t=>new HC(t),"PRIVATE")),$r(new ir("heartbeat",t=>new PP(t),"PRIVATE")),zn(nh,e_,e),zn(nh,e_,"esm2017"),zn("fire-js","")}AP("");var OP="firebase",IP="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn(OP,IP,"app");const RP=(e,t)=>t.some(n=>e instanceof n);let i_,s_;function DP(){return i_||(i_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MP(){return s_||(s_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hw=new WeakMap,sh=new WeakMap,Ww=new WeakMap,Tc=new WeakMap,If=new WeakMap;function BP(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",a),e.removeEventListener("error",l)},a=()=>{n(Dr(e.result)),s()},l=()=>{r(e.error),s()};e.addEventListener("success",a),e.addEventListener("error",l)});return t.then(n=>{n instanceof IDBCursor&&Hw.set(n,e)}).catch(()=>{}),If.set(t,e),t}function zP(e){if(sh.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",l),e.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",a),e.addEventListener("error",l),e.addEventListener("abort",l)});sh.set(e,t)}let oh={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return sh.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Ww.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function FP(e){oh=e(oh)}function UP(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Cc(this),t,...n);return Ww.set(r,t.sort?t.sort():[t]),Dr(r)}:MP().includes(e)?function(...t){return e.apply(Cc(this),t),Dr(Hw.get(this))}:function(...t){return Dr(e.apply(Cc(this),t))}}function $P(e){return typeof e=="function"?UP(e):(e instanceof IDBTransaction&&zP(e),RP(e,DP())?new Proxy(e,oh):e)}function Dr(e){if(e instanceof IDBRequest)return BP(e);if(Tc.has(e))return Tc.get(e);const t=$P(e);return t!==e&&(Tc.set(e,t),If.set(t,e)),t}const Cc=e=>If.get(e);function jP(e,t,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(e,t),c=Dr(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Dr(l.result),h.oldVersion,h.newVersion,Dr(l.transaction))}),n&&l.addEventListener("blocked",()=>n()),c.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",()=>s())}).catch(()=>{}),c}const VP=["get","getKey","getAll","getAllKeys","count"],ZP=["put","add","delete","clear"],Pc=new Map;function o_(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Pc.get(t))return Pc.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=ZP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||VP.includes(n)))return;const a=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[n](...c),s&&h.done]))[0]};return Pc.set(t,a),a}FP(e=>({...e,get:(t,n,r)=>o_(t,n)||e.get(t,n,r),has:(t,n)=>!!o_(t,n)||e.has(t,n)}));const qw="@firebase/installations",Rf="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=1e4,Gw=`w:${Rf}`,Yw="FIS_v2",HP="https://firebaseinstallations.googleapis.com/v1",WP=60*60*1e3,qP="installations",KP="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},wi=new uu(qP,KP,GP);function Qw(e){return e instanceof Ci&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw({projectId:e}){return`${HP}/projects/${e}/installations`}function Xw(e){return{token:e.token,requestStatus:2,expiresIn:QP(e.expiresIn),creationTime:Date.now()}}async function e0(e,t){const r=(await t.json()).error;return wi.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function t0({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function YP(e,{refreshToken:t}){const n=t0(e);return n.append("Authorization",JP(t)),n}async function n0(e){const t=await e();return t.status>=500&&t.status<600?e():t}function QP(e){return Number(e.replace("s","000"))}function JP(e){return`${Yw} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XP({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=Jw(e),s=t0(e),a=t.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={fid:n,authVersion:Yw,appId:e.appId,sdkVersion:Gw},c={method:"POST",headers:s,body:JSON.stringify(l)},h=await n0(()=>fetch(r,c));if(h.ok){const p=await h.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:Xw(p.authToken)}}else throw await e0("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=/^[cdef][\w-]{21}$/,ah="";function nL(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=rL(e);return tL.test(n)?n:ah}catch{return ah}}function rL(e){return eL(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=new Map;function s0(e,t){const n=du(e);o0(n,t),iL(n,t)}function o0(e,t){const n=i0.get(e);if(n)for(const r of n)r(t)}function iL(e,t){const n=sL();n&&n.postMessage({key:e,fid:t}),oL()}let ui=null;function sL(){return!ui&&"BroadcastChannel"in self&&(ui=new BroadcastChannel("[Firebase] FID Change"),ui.onmessage=e=>{o0(e.data.key,e.data.fid)}),ui}function oL(){i0.size===0&&ui&&(ui.close(),ui=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL="firebase-installations-database",lL=1,ki="firebase-installations-store";let Lc=null;function Df(){return Lc||(Lc=jP(aL,lL,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ki)}}})),Lc}async function Ul(e,t){const n=du(e),s=(await Df()).transaction(ki,"readwrite"),a=s.objectStore(ki),l=await a.get(n);return await a.put(t,n),await s.done,(!l||l.fid!==t.fid)&&s0(e,t.fid),t}async function a0(e){const t=du(e),r=(await Df()).transaction(ki,"readwrite");await r.objectStore(ki).delete(t),await r.done}async function hu(e,t){const n=du(e),s=(await Df()).transaction(ki,"readwrite"),a=s.objectStore(ki),l=await a.get(n),c=t(l);return c===void 0?await a.delete(n):await a.put(c,n),await s.done,c&&(!l||l.fid!==c.fid)&&s0(e,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mf(e){let t;const n=await hu(e.appConfig,r=>{const s=uL(r),a=cL(e,s);return t=a.registrationPromise,a.installationEntry});return n.fid===ah?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function uL(e){const t=e||{fid:nL(),registrationStatus:0};return l0(t)}function cL(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(wi.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=dL(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:hL(e)}:{installationEntry:t}}async function dL(e,t){try{const n=await XP(e,t);return Ul(e.appConfig,n)}catch(n){throw Qw(n)&&n.customData.serverCode===409?await a0(e.appConfig):await Ul(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function hL(e){let t=await a_(e.appConfig);for(;t.registrationStatus===1;)await r0(100),t=await a_(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Mf(e);return r||n}return t}function a_(e){return hu(e,t=>{if(!t)throw wi.create("installation-not-found");return l0(t)})}function l0(e){return fL(e)?{fid:e.fid,registrationStatus:0}:e}function fL(e){return e.registrationStatus===1&&e.registrationTime+Kw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pL({appConfig:e,heartbeatServiceProvider:t},n){const r=mL(e,n),s=YP(e,n),a=t.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={installation:{sdkVersion:Gw,appId:e.appId}},c={method:"POST",headers:s,body:JSON.stringify(l)},h=await n0(()=>fetch(r,c));if(h.ok){const p=await h.json();return Xw(p)}else throw await e0("Generate Auth Token",h)}function mL(e,{fid:t}){return`${Jw(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bf(e,t=!1){let n;const r=await hu(e.appConfig,a=>{if(!u0(a))throw wi.create("not-registered");const l=a.authToken;if(!t&&vL(l))return a;if(l.requestStatus===1)return n=gL(e,t),a;{if(!navigator.onLine)throw wi.create("app-offline");const c=wL(a);return n=_L(e,c),c}});return n?await n:r.authToken}async function gL(e,t){let n=await l_(e.appConfig);for(;n.authToken.requestStatus===1;)await r0(100),n=await l_(e.appConfig);const r=n.authToken;return r.requestStatus===0?Bf(e,t):r}function l_(e){return hu(e,t=>{if(!u0(t))throw wi.create("not-registered");const n=t.authToken;return kL(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function _L(e,t){try{const n=await pL(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Ul(e.appConfig,r),n}catch(n){if(Qw(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await a0(e.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Ul(e.appConfig,r)}throw n}}function u0(e){return e!==void 0&&e.registrationStatus===2}function vL(e){return e.requestStatus===2&&!yL(e)}function yL(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+WP}function wL(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function kL(e){return e.requestStatus===1&&e.requestTime+Kw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xL(e){const t=e,{installationEntry:n,registrationPromise:r}=await Mf(t);return r?r.catch(console.error):Bf(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SL(e,t=!1){const n=e;return await EL(n),(await Bf(n,t)).token}async function EL(e){const{registrationPromise:t}=await Mf(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(e){if(!e||!e.options)throw Nc("App Configuration");if(!e.name)throw Nc("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Nc(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Nc(e){return wi.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="installations",TL="installations-internal",CL=e=>{const t=e.getProvider("app").getImmediate(),n=bL(t),r=cu(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},PL=e=>{const t=e.getProvider("app").getImmediate(),n=cu(t,c0).getImmediate();return{getId:()=>xL(n),getToken:s=>SL(n,s)}};function LL(){$r(new ir(c0,CL,"PUBLIC")),$r(new ir(TL,PL,"PRIVATE"))}LL();zn(qw,Rf);zn(qw,Rf,"esm2017");const NL=(e,t)=>t.some(n=>e instanceof n);let u_,c_;function AL(){return u_||(u_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OL(){return c_||(c_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d0=new WeakMap,lh=new WeakMap,h0=new WeakMap,Ac=new WeakMap,zf=new WeakMap;function IL(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",a),e.removeEventListener("error",l)},a=()=>{n(Jn(e.result)),s()},l=()=>{r(e.error),s()};e.addEventListener("success",a),e.addEventListener("error",l)});return t.then(n=>{n instanceof IDBCursor&&d0.set(n,e)}).catch(()=>{}),zf.set(t,e),t}function RL(e){if(lh.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",l),e.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",a),e.addEventListener("error",l),e.addEventListener("abort",l)});lh.set(e,t)}let uh={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return lh.get(e);if(t==="objectStoreNames")return e.objectStoreNames||h0.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function DL(e){uh=e(uh)}function ML(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Oc(this),t,...n);return h0.set(r,t.sort?t.sort():[t]),Jn(r)}:OL().includes(e)?function(...t){return e.apply(Oc(this),t),Jn(d0.get(this))}:function(...t){return Jn(e.apply(Oc(this),t))}}function BL(e){return typeof e=="function"?ML(e):(e instanceof IDBTransaction&&RL(e),NL(e,AL())?new Proxy(e,uh):e)}function Jn(e){if(e instanceof IDBRequest)return IL(e);if(Ac.has(e))return Ac.get(e);const t=BL(e);return t!==e&&(Ac.set(e,t),zf.set(t,e)),t}const Oc=e=>zf.get(e);function f0(e,t,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(e,t),c=Jn(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Jn(l.result),h.oldVersion,h.newVersion,Jn(l.transaction))}),n&&l.addEventListener("blocked",()=>n()),c.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",()=>s())}).catch(()=>{}),c}function Ic(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",()=>t()),Jn(n).then(()=>{})}const zL=["get","getKey","getAll","getAllKeys","count"],FL=["put","add","delete","clear"],Rc=new Map;function d_(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Rc.get(t))return Rc.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=FL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||zL.includes(n)))return;const a=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[n](...c),s&&h.done]))[0]};return Rc.set(t,a),a}DL(e=>({...e,get:(t,n,r)=>d_(t,n)||e.get(t,n,r),has:(t,n)=>!!d_(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL="/firebase-messaging-sw.js",$L="/firebase-cloud-messaging-push-scope",p0="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",jL="https://fcmregistrations.googleapis.com/v1",m0="google.c.a.c_id",VL="google.c.a.c_l",ZL="google.c.a.ts",HL="google.c.a.e";var h_;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(h_||(h_={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Wo;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Wo||(Wo={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function WL(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),s=new Uint8Array(r.length);for(let a=0;a<r.length;++a)s[a]=r.charCodeAt(a);return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc="fcm_token_details_db",qL=5,f_="fcm_token_object_Store";async function KL(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(a=>a.name).includes(Dc))return null;let t=null;return(await f0(Dc,qL,{upgrade:async(r,s,a,l)=>{var c;if(s<2||!r.objectStoreNames.contains(f_))return;const h=l.objectStore(f_),p=await h.index("fcmSenderId").get(e);if(await h.clear(),!!p){if(s===2){const _=p;if(!_.auth||!_.p256dh||!_.endpoint)return;t={token:_.fcmToken,createTime:(c=_.createTime)!==null&&c!==void 0?c:Date.now(),subscriptionOptions:{auth:_.auth,p256dh:_.p256dh,endpoint:_.endpoint,swScope:_.swScope,vapidKey:typeof _.vapidKey=="string"?_.vapidKey:qn(_.vapidKey)}}}else if(s===3){const _=p;t={token:_.fcmToken,createTime:_.createTime,subscriptionOptions:{auth:qn(_.auth),p256dh:qn(_.p256dh),endpoint:_.endpoint,swScope:_.swScope,vapidKey:qn(_.vapidKey)}}}else if(s===4){const _=p;t={token:_.fcmToken,createTime:_.createTime,subscriptionOptions:{auth:qn(_.auth),p256dh:qn(_.p256dh),endpoint:_.endpoint,swScope:_.swScope,vapidKey:qn(_.vapidKey)}}}}}})).close(),await Ic(Dc),await Ic("fcm_vapid_details_db"),await Ic("undefined"),GL(t)?t:null}function GL(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL="firebase-messaging-database",QL=1,xi="firebase-messaging-store";let Mc=null;function Ff(){return Mc||(Mc=f0(YL,QL,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(xi)}}})),Mc}async function g0(e){const t=$f(e),r=await(await Ff()).transaction(xi).objectStore(xi).get(t);if(r)return r;{const s=await KL(e.appConfig.senderId);if(s)return await Uf(e,s),s}}async function Uf(e,t){const n=$f(e),s=(await Ff()).transaction(xi,"readwrite");return await s.objectStore(xi).put(t,n),await s.done,t}async function JL(e){const t=$f(e),r=(await Ff()).transaction(xi,"readwrite");await r.objectStore(xi).delete(t),await r.done}function $f({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},At=new uu("messaging","Messaging",XL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(e,t){const n=await Vf(e),r=v0(t),s={method:"POST",headers:n,body:JSON.stringify(r)};let a;try{a=await(await fetch(jf(e.appConfig),s)).json()}catch(l){throw At.create("token-subscribe-failed",{errorInfo:l==null?void 0:l.toString()})}if(a.error){const l=a.error.message;throw At.create("token-subscribe-failed",{errorInfo:l})}if(!a.token)throw At.create("token-subscribe-no-token");return a.token}async function tN(e,t){const n=await Vf(e),r=v0(t.subscriptionOptions),s={method:"PATCH",headers:n,body:JSON.stringify(r)};let a;try{a=await(await fetch(`${jf(e.appConfig)}/${t.token}`,s)).json()}catch(l){throw At.create("token-update-failed",{errorInfo:l==null?void 0:l.toString()})}if(a.error){const l=a.error.message;throw At.create("token-update-failed",{errorInfo:l})}if(!a.token)throw At.create("token-update-no-token");return a.token}async function _0(e,t){const r={method:"DELETE",headers:await Vf(e)};try{const a=await(await fetch(`${jf(e.appConfig)}/${t}`,r)).json();if(a.error){const l=a.error.message;throw At.create("token-unsubscribe-failed",{errorInfo:l})}}catch(s){throw At.create("token-unsubscribe-failed",{errorInfo:s==null?void 0:s.toString()})}}function jf({projectId:e}){return`${jL}/projects/${e}/registrations`}async function Vf({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function v0({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const s={web:{endpoint:n,auth:t,p256dh:e}};return r!==p0&&(s.web.applicationPubKey=r),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=7*24*60*60*1e3;async function rN(e){const t=await oN(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:qn(t.getKey("auth")),p256dh:qn(t.getKey("p256dh"))},r=await g0(e.firebaseDependencies);if(r){if(aN(r.subscriptionOptions,n))return Date.now()>=r.createTime+nN?sN(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await _0(e.firebaseDependencies,r.token)}catch(s){console.warn(s)}return p_(e.firebaseDependencies,n)}else return p_(e.firebaseDependencies,n)}async function iN(e){const t=await g0(e.firebaseDependencies);t&&(await _0(e.firebaseDependencies,t.token),await JL(e.firebaseDependencies));const n=await e.swRegistration.pushManager.getSubscription();return n?n.unsubscribe():!0}async function sN(e,t){try{const n=await tN(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await Uf(e.firebaseDependencies,r),n}catch(n){throw await iN(e),n}}async function p_(e,t){const r={token:await eN(e,t),createTime:Date.now(),subscriptionOptions:t};return await Uf(e,r),r.token}async function oN(e,t){const n=await e.pushManager.getSubscription();return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:WL(t)})}function aN(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,s=t.auth===e.auth,a=t.p256dh===e.p256dh;return n&&r&&s&&a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return lN(t,e),uN(t,e),cN(t,e),t}function lN(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const s=t.notification.image;s&&(e.notification.image=s);const a=t.notification.icon;a&&(e.notification.icon=a)}function uN(e,t){t.data&&(e.data=t.data)}function cN(e,t){var n,r,s,a,l;if(!t.fcmOptions&&!(!((n=t.notification)===null||n===void 0)&&n.click_action))return;e.fcmOptions={};const c=(s=(r=t.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&s!==void 0?s:(a=t.notification)===null||a===void 0?void 0:a.click_action;c&&(e.fcmOptions.link=c);const h=(l=t.fcmOptions)===null||l===void 0?void 0:l.analytics_label;h&&(e.fcmOptions.analyticsLabel=h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(e){return typeof e=="object"&&!!e&&m0 in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */y0("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o");y0("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function y0(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(e){if(!e||!e.options)throw Bc("App Configuration Object");if(!e.name)throw Bc("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw Bc(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Bc(e){return At.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(t,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const s=hN(t);this.firebaseDependencies={app:t,appConfig:s,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(e){try{e.swRegistration=await navigator.serviceWorker.register(UL,{scope:$L}),e.swRegistration.update().catch(()=>{})}catch(t){throw At.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(e,t){if(!t&&!e.swRegistration&&await pN(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw At.create("invalid-sw-registration");e.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gN(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=p0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w0(e,t){if(!navigator)throw At.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw At.create("permission-blocked");return await gN(e,t==null?void 0:t.vapidKey),await mN(e,t==null?void 0:t.serviceWorkerRegistration),rN(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _N(e,t,n){const r=vN(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[m0],message_name:n[VL],message_time:n[ZL],message_device_time:Math.floor(Date.now()/1e3)})}function vN(e){switch(e){case Wo.NOTIFICATION_CLICKED:return"notification_open";case Wo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yN(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Wo.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(m_(n)):e.onMessageHandler.next(m_(n)));const r=n.data;dN(r)&&r[HL]==="1"&&await _N(e,n.messageType,r)}const g_="@firebase/messaging",__="0.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=e=>{const t=new fN(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>yN(t,n)),t},kN=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:r=>w0(t,r)}};function xN(){$r(new ir("messaging",wN,"PUBLIC")),$r(new ir("messaging-internal",kN,"PRIVATE")),zn(g_,__),zn(g_,__,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(){try{await zw()}catch{return!1}return typeof window<"u"&&Bw()&&kC()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(e=jw()){return SN().then(t=>{if(!t)throw At.create("unsupported-browser")},t=>{throw At.create("indexed-db-unsupported")}),cu(Ls(e),"messaging").getImmediate()}async function bN(e,t){return e=Ls(e),w0(e,t)}xN();const TN={apiKey:"AIzaSyAkMBS4lrDemRL1n1rjdkjdmQBLePyrnFQ",authDomain:"ems-app-1cb0c.firebaseapp.com",projectId:"ems-app-1cb0c",storageBucket:"ems-app-1cb0c.firebasestorage.app",messagingSenderId:"328469662054",appId:"1:328469662054:web:bd539624b2a31048bfa0a7"},CN=$w(TN),PN=EN(CN),LN=e=>{const[t,n]=C.useState("default");C.useEffect(()=>{Ur.isNativePlatform()||n(Notification.permission)},[]);const r=async()=>{Ur.isNativePlatform()?await s():await a()},s=async()=>{(await za.requestPermissions()).receive==="granted"?await za.register():alert("Push notification permission was denied."),za.addListener("registration",async h=>{console.log("Push registration success, token: ",h.value),await l(h.value)}),za.addListener("registrationError",h=>{console.error("Error on registration: ",JSON.stringify(h))})},a=async()=>{try{const c=await Notification.requestPermission();if(n(c),c==="granted"){const p=await bN(PN,{vapidKey:"BLcbvR8NhergoDnenCdDvLYaUjAwGAH7K8fjWRnldVFmn-FfZD-oxcEexoGzr8AWD6g1wh5n0DGtZ9k0NFurSKU"});p?await l(p):console.log("No registration token available.")}}catch(c){console.error("An error occurred while getting web token. ",c)}},l=async c=>{try{await fetch(`${wt}/api/auth/save-fcm-token`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({token:c})}),console.log("FCM token sent to server successfully."),alert("Push notifications enabled successfully!")}catch(h){console.error("Error sending FCM token to server:",h)}};return{registerForPushNotifications:r,notificationStatus:t}},v_=lu("LocationService"),NN=e=>{const[t,n]=C.useState(()=>localStorage.getItem("isOnDuty")==="true"),[r,s]=C.useState(null),a=Aw(),l=C.useRef(null);C.useEffect(()=>{if(localStorage.setItem("isOnDuty",t),t)if(Ur.isNativePlatform())v_.startService();else{if(!navigator.geolocation||!a)return;p(),l.current=setInterval(p,15e3)}else Ur.isNativePlatform()?v_.stopService():l.current&&clearInterval(l.current);return()=>{l.current&&clearInterval(l.current)}},[t,a,e]);const c=()=>n(!0),h=()=>n(!1),p=()=>{navigator.geolocation.getCurrentPosition(_=>{const{latitude:g,longitude:w}=_.coords,b={user:{id:e.id,name:`${e.firstName} ${e.lastName}`},location:{lat:g,lng:w}};a!=null&&a.connected&&a.emit("ems-location-update",b)},_=>{console.error("Could not get location:",_.message)},{enableHighAccuracy:!0})};return{isTracking:t,startTracking:c,stopTracking:h,error:r}};const AN=new Ti.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),ON=new Ti.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),IN=({alerts:e,responders:t})=>D(Sf,{center:[14.113,122.95],zoom:12,style:{height:"100%",width:"100%"},children:[v(bf,{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &  <a href="https://carto.com/attributions">CARTO</a>'}),e.map(r=>{if(r.location&&r.location.latitude&&r.location.longitude){const s=Ti.icon(AN.options);return r.status==="new"&&(s.options.className="blinking-marker"),D(Ml,{position:[r.location.latitude,r.location.longitude],icon:s,children:[D(Vg,{direction:"top",offset:[0,-10],opacity:1,permanent:!1,children:[v("strong",{children:r.incidentType}),v("br",{}),"Address: ",r.location.address||"N/A"]}),D(Ef,{children:[v("strong",{children:r.incidentType}),v("br",{}),"Status: ",r.status,v("br",{}),"Reporter: ",r.reporterName,v("br",{}),v("a",{href:`/alert/${r._id}`,target:"_blank",rel:"noopener noreferrer",children:"View Details"})]})]},r._id)}return null}),t&&t.map(r=>r.location&&r.location.lat&&r.location.lng?v(Ml,{position:[r.location.lat,r.location.lng],icon:ON,children:D(Vg,{direction:"top",offset:[0,-10],opacity:1,permanent:!1,children:[v("strong",{children:r.user.name}),v("br",{}),"(On Duty)"]})},r.id):null)]});const RN=()=>{const[e,t]=C.useState([]),[n,r]=C.useState([]),[s,a]=C.useState(!0),[l,c]=C.useState(null),h=Aw(),{token:p,user:_,logout:g}=Wr(),w=Un(),{requestPermissionAndGetToken:b,notificationStatus:O}=LN(p),{isTracking:N,startTracking:z,stopTracking:S}=NN(_),y=C.useMemo(()=>new Audio("/alarm.mp3"),[]);C.useEffect(()=>{p?(async()=>{a(!0),c(null);try{const R=await fetch(`${wt}/api/alerts`,{headers:{Authorization:`Bearer ${p}`}});if(!R.ok){const B=await R.text();throw new Error(`Failed to fetch alerts. Status: ${R.status}, Message: ${B}`)}const U=await R.json();t(U)}catch(R){c(R.message)}finally{a(!1)}})():a(!1)},[p]),C.useEffect(()=>{if(!h||!N)return;y.play().then(()=>y.pause());const T=$=>{t(oe=>[$,...oe]),y.play().catch(oe=>console.error("Error playing sound:",oe))},R=$=>{t(oe=>oe.map(G=>G._id===$._id?$:G))},U=({alertId:$})=>{t(oe=>oe.filter(G=>G._id!==$))},B=$=>{r($)};return h.on("new-alert",T),h.on("alert-status-update",R),h.on("alert-archived",U),h.on("ems-locations-broadcast",B),()=>{h.off("new-alert",T),h.off("alert-status-update",R),h.off("alert-archived",U),h.off("ems-locations-broadcast",B)}},[h,N,y]);const x=T=>{w(`/alert/${T}`)};return s?v("div",{className:"dashboard-loading",children:"Loading alerts..."}):D("div",{className:"ems-dashboard",children:[D("header",{className:"dashboard-header",children:[D(nt,{to:"/",className:"header-logo-link",children:[v("img",{src:"/prc-logo.png",alt:"PRC Logo"}),v("span",{children:"EMS Control Tower"})]}),D("nav",{className:"dashboard-nav",children:[D("div",{className:"on-duty-toggle",children:[v("label",{htmlFor:"duty-switch",children:"On Duty"}),D("label",{className:"switch",children:[v("input",{id:"duty-switch",type:"checkbox",checked:N,onChange:()=>N?S():z()}),v("span",{className:"slider round"})]})]}),(_==null?void 0:_.role)==="admin"&&v(nt,{to:"/dashboard/admin",className:"nav-link admin-link",children:"Return to Admin"}),v(nt,{to:"/reports",className:"nav-link",children:"View Reports"}),v("button",{onClick:g,className:"nav-link logout-btn",children:"Logout"})]})]}),l&&D("div",{className:"dashboard-error",children:["Error: ",l]}),O!=="granted"&&D("div",{className:"notification-prompt",children:[v("p",{children:"You must enable push notifications to go on duty."}),v("button",{onClick:b,children:"Enable Notifications"})]}),D("div",{className:"dashboard-content",children:[D("div",{className:"alerts-list-panel",children:[D("h2",{className:"panel-header",children:["Incoming Alerts (",e.length,")"]}),v("ul",{className:"alerts-list",children:e.length>0?e.map(T=>D("li",{className:`alert-item status-${T.status.toLowerCase().replace(/\s+/g,"-")}`,onClick:()=>x(T._id),children:[D("div",{className:"alert-item-header",children:[v("span",{className:"incident-type",children:T.incidentType}),v("span",{className:"status-badge",children:T.status})]}),v("div",{className:"alert-item-body",children:D("p",{children:[v("strong",{children:"Reporter:"})," ",T.reporterName]})}),v("div",{className:"alert-item-footer",children:v("small",{children:new Date(T.createdAt).toLocaleString()})})]},T._id)):v("div",{className:"no-alerts-message",children:"No active alerts."})})]}),v("div",{className:"map-panel",children:v(IN,{alerts:e,responders:n})})]})]})};delete Ti.Icon.Default.prototype._getIconUrl;Ti.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.3/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.3/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.3/dist/images/marker-shadow.png"});const zc=[{value:"new",label:"New"},{value:"responding",label:"Responding"},{value:"en_route",label:"En-route"},{value:"on_scene",label:"On Scene"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}],DN=()=>{var x,T;const{id:e}=Zy(),{token:t,user:n}=Wr(),r=Un(),[s,a]=C.useState(null),[l,c]=C.useState(!0),[h,p]=C.useState(null),[_,g]=C.useState(""),[w,b]=C.useState(""),[O,N]=C.useState(!1);C.useEffect(()=>{(async()=>{if(t)try{const U=await fetch(`${wt}/api/alerts/${e}`,{headers:{Authorization:`Bearer ${t}`}});if(!U.ok)throw new Error("Failed to fetch alert details");const B=await U.json();a(B),g(B.status)}catch(U){p(U.message)}finally{c(!1)}})()},[e,t]);const z=async R=>{R.preventDefault(),N(!0),p(null);try{const U=await fetch(`${wt}/api/alerts/${e}/status`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({status:_,note:w})});if(!U.ok){const $=await U.json();throw new Error($.message||"Failed to update status")}const B=await U.json();if(B.message&&B.message.includes("archived"))window.alert("Alert completed and archived. Returning to dashboard."),r("/dashboard/ems",{replace:!0});else if(B.alert)a(B.alert),b("");else throw new Error("An unexpected response was received from the server.")}catch(U){p(U.message)}finally{N(!1)}};if(l)return v("div",{children:"Loading..."});if(h)return D("div",{children:["Error: ",h]});if(!s)return v("div",{children:"Alert not found."});const S=(n==null?void 0:n.role)==="ems_personnel"||(n==null?void 0:n.role)==="admin",y=((x=zc.find(R=>R.value===s.status))==null?void 0:x.label)||s.status;return D("div",{className:"alert-details-container",children:[D("header",{className:"universal-header",children:[D(nt,{to:"/",className:"header-logo-link",children:[v("img",{src:"/prc-logo.png",alt:"PRC Logo"}),v("span",{children:"Alert Details"})]}),v("button",{onClick:()=>r(-1),className:"back-button",children:" Back"})]}),D("div",{className:"details-content-grid",children:[D("div",{className:"details-info-panel",children:[v("h2",{children:"Incident Information"}),D("p",{children:[v("strong",{children:"Status:"})," ",v("span",{className:`status-badge-lg status-${s.status.toLowerCase().replace(/\s+/g,"-")}`,children:y})]}),D("p",{children:[v("strong",{children:"Type:"})," ",s.incidentType]}),((T=s.location)==null?void 0:T.address)&&D("p",{children:[v("strong",{children:"Address:"})," ",s.location.address]}),D("p",{children:[v("strong",{children:"Description:"})," ",s.description]}),D("p",{children:[v("strong",{children:"Patients:"})," ",s.patientCount]}),s.imageUrl&&D(E1,{children:[v("hr",{}),v("h2",{children:"Incident Image"}),v("div",{className:"incident-image-container",children:v("a",{href:s.imageUrl,target:"_blank",rel:"noopener noreferrer",children:v("img",{src:s.imageUrl,alt:"Incident",className:"incident-image"})})})]}),v("hr",{}),v("h2",{children:"Reporter Details"}),D("p",{children:[v("strong",{children:"Name:"})," ",s.reporterName]}),D("p",{children:[v("strong",{children:"Phone:"})," ",s.reporterPhone]}),s.userId&&D("p",{children:[v("strong",{children:"Account:"})," Registered User (",s.userId.email,")"]}),v("hr",{}),v("h2",{children:"Timeline"}),v("ul",{className:"status-history",children:s.statusHistory.map((R,U)=>{var $;const B=(($=zc.find(oe=>oe.value===R.status))==null?void 0:$.label)||R.status;return D("li",{children:[v("strong",{children:B})," - ",v("small",{children:new Date(R.timestamp).toLocaleString()}),R.note&&D("p",{className:"note",children:["Note: ",R.note]})]},U)})})]}),D("div",{className:"details-action-panel",children:[s.location&&s.location.latitude&&s.location.longitude&&v("div",{className:"details-map-container",children:D(Sf,{center:[s.location.latitude,s.location.longitude],zoom:15,style:{height:"300px",width:"100%"},children:[v(bf,{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png"}),v(Ml,{position:[s.location.latitude,s.location.longitude],children:v(Ef,{children:s.incidentType})})]})}),S&&D("div",{className:"status-update-form",children:[v("h3",{children:"Update Status"}),D("form",{onSubmit:z,children:[D("div",{className:"form-group",children:[v("label",{children:"New Status"}),v("select",{value:_,onChange:R=>g(R.target.value),children:zc.map(R=>v("option",{value:R.value,children:R.label},R.value))})]}),D("div",{className:"form-group",children:[v("label",{children:"Notes"}),v("textarea",{value:w,onChange:R=>b(R.target.value),placeholder:"Add relevant notes..."})]}),v("button",{type:"submit",disabled:O,children:O?"Updating...":"Update Alert"})]})]})]})]})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="firebasestorage.googleapis.com",x0="storageBucket",MN=2*60*1e3,BN=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe extends Ci{constructor(t,n,r=0){super(Fc(t),`Firebase Storage: ${n} (${Fc(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qe.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Fc(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ye;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ye||(Ye={}));function Fc(e){return"storage/"+e}function Zf(){const e="An unknown error occurred, please check the error payload for server response.";return new Qe(Ye.UNKNOWN,e)}function zN(e){return new Qe(Ye.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function FN(e){return new Qe(Ye.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function UN(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Qe(Ye.UNAUTHENTICATED,e)}function $N(){return new Qe(Ye.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function jN(e){return new Qe(Ye.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function VN(){return new Qe(Ye.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ZN(){return new Qe(Ye.CANCELED,"User canceled the upload/download.")}function HN(e){return new Qe(Ye.INVALID_URL,"Invalid URL '"+e+"'.")}function WN(e){return new Qe(Ye.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function qN(){return new Qe(Ye.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+x0+"' property when initializing the app?")}function KN(){return new Qe(Ye.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function GN(){return new Qe(Ye.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function YN(e){return new Qe(Ye.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ch(e){return new Qe(Ye.INVALID_ARGUMENT,e)}function S0(){return new Qe(Ye.APP_DELETED,"The Firebase app was deleted.")}function QN(e){return new Qe(Ye.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function So(e,t){return new Qe(Ye.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function ro(e){throw new Qe(Ye.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Ht.makeFromUrl(t,n)}catch{return new Ht(t,"")}if(r.path==="")return r;throw WN(t)}static makeFromUrl(t,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),h={bucket:1,path:3};function p(T){T.path_=decodeURIComponent(T.path)}const _="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",b=new RegExp(`^https?://${g}/${_}/b/${s}/o${w}`,"i"),O={bucket:1,path:3},N=n===k0?"(?:storage.googleapis.com|storage.cloud.google.com)":n,z="([^?#]*)",S=new RegExp(`^https?://${N}/${s}/${z}`,"i"),x=[{regex:c,indices:h,postModify:a},{regex:b,indices:O,postModify:p},{regex:S,indices:{bucket:1,path:2},postModify:p}];for(let T=0;T<x.length;T++){const R=x[T],U=R.regex.exec(t);if(U){const B=U[R.indices.bucket];let $=U[R.indices.path];$||($=""),r=new Ht(B,$),R.postModify(r);break}}if(r==null)throw HN(t);return r}}class JN{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(e,t,n){let r=1,s=null,a=null,l=!1,c=0;function h(){return c===2}let p=!1;function _(...z){p||(p=!0,t.apply(null,z))}function g(z){s=setTimeout(()=>{s=null,e(b,h())},z)}function w(){a&&clearTimeout(a)}function b(z,...S){if(p){w();return}if(z){w(),_.call(null,z,...S);return}if(h()||l){w(),_.call(null,z,...S);return}r<64&&(r*=2);let x;c===1?(c=2,x=0):x=(r+Math.random())*1e3,g(x)}let O=!1;function N(z){O||(O=!0,w(),!p&&(s!==null?(z||(c=2),clearTimeout(s),g(0)):z||(c=1)))}return g(0),a=setTimeout(()=>{l=!0,N(!0)},n),N}function eA(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(e){return e!==void 0}function nA(e){return typeof e=="object"&&!Array.isArray(e)}function Hf(e){return typeof e=="string"||e instanceof String}function y_(e){return Wf()&&e instanceof Blob}function Wf(){return typeof Blob<"u"&&!wC()}function w_(e,t,n,r){if(r<t)throw ch(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw ch(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function E0(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const s=t(r)+"="+t(e[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hi;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(hi||(hi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(e,t){const n=e>=500&&e<600,s=[408,429].indexOf(e)!==-1,a=t.indexOf(e)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(t,n,r,s,a,l,c,h,p,_,g,w=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=_,this.connectionFactory_=g,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,O)=>{this.resolve_=b,this.reject_=O,this.start_()})}start_(){const t=(r,s)=>{if(s){r(!1,new Fa(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=c=>{const h=c.loaded,p=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,p)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const c=a.getErrorCode()===hi.NO_ERROR,h=a.getStatus();if(!c||rA(h,this.additionalRetryCodes_)&&this.retry){const _=a.getErrorCode()===hi.ABORT;r(!1,new Fa(!1,null,_));return}const p=this.successCodes_.indexOf(h)!==-1;r(!0,new Fa(p,a))})},n=(r,s)=>{const a=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());tA(h)?a(h):a()}catch(h){l(h)}else if(c!==null){const h=Zf();h.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,h)):l(h)}else if(s.canceled){const h=this.appDelete_?S0():ZN();l(h)}else{const h=VN();l(h)}};this.canceled_?n(!1,new Fa(!1,null,!0)):this.backoffId_=XN(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&eA(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Fa{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function sA(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function oA(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function aA(e,t){t&&(e["X-Firebase-GMPID"]=t)}function lA(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function uA(e,t,n,r,s,a,l=!0){const c=E0(e.urlParams),h=e.url+c,p=Object.assign({},e.headers);return aA(p,t),sA(p,n),oA(p,a),lA(p,r),new iA(h,e.method,p,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function dA(...e){const t=cA();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(Wf())return new Blob(e);throw new Qe(Ye.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function hA(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(e){if(typeof atob>"u")throw YN("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Uc{constructor(t,n){this.data=t,this.contentType=n||null}}function pA(e,t){switch(e){case In.RAW:return new Uc(b0(t));case In.BASE64:case In.BASE64URL:return new Uc(T0(e,t));case In.DATA_URL:return new Uc(gA(t),_A(t))}throw Zf()}function b0(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const a=r,l=e.charCodeAt(++n);r=65536|(a&1023)<<10|l&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function mA(e){let t;try{t=decodeURIComponent(e)}catch{throw So(In.DATA_URL,"Malformed data URL.")}return b0(t)}function T0(e,t){switch(e){case In.BASE64:{const s=t.indexOf("-")!==-1,a=t.indexOf("_")!==-1;if(s||a)throw So(e,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case In.BASE64URL:{const s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a)throw So(e,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=fA(t)}catch(s){throw s.message.includes("polyfill")?s:So(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class C0{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw So(In.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=vA(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function gA(e){const t=new C0(e);return t.base64?T0(In.BASE64,t.rest):mA(t.rest)}function _A(e){return new C0(e).contentType}function vA(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(t,n){let r=0,s="";y_(t)?(this.data_=t,r=t.size,s=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(t,n){if(y_(this.data_)){const r=this.data_,s=hA(r,t,n);return s===null?null:new _r(s)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new _r(r,!0)}}static getBlob(...t){if(Wf()){const n=t.map(r=>r instanceof _r?r.data_:r);return new _r(dA.apply(null,n))}else{const n=t.map(l=>Hf(l)?pA(In.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let a=0;return n.forEach(l=>{for(let c=0;c<l.length;c++)s[a++]=l[c]}),new _r(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(e){let t;try{t=JSON.parse(e)}catch{return null}return nA(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function wA(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function L0(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(e,t){return t}class Ct{constructor(t,n,r,s){this.server=t,this.local=n||t,this.writable=!!r,this.xform=s||kA}}let Ua=null;function xA(e){return!Hf(e)||e.length<2?e:L0(e)}function N0(){if(Ua)return Ua;const e=[];e.push(new Ct("bucket")),e.push(new Ct("generation")),e.push(new Ct("metageneration")),e.push(new Ct("name","fullPath",!0));function t(a,l){return xA(l)}const n=new Ct("name");n.xform=t,e.push(n);function r(a,l){return l!==void 0?Number(l):l}const s=new Ct("size");return s.xform=r,e.push(s),e.push(new Ct("timeCreated")),e.push(new Ct("updated")),e.push(new Ct("md5Hash",null,!0)),e.push(new Ct("cacheControl",null,!0)),e.push(new Ct("contentDisposition",null,!0)),e.push(new Ct("contentEncoding",null,!0)),e.push(new Ct("contentLanguage",null,!0)),e.push(new Ct("contentType",null,!0)),e.push(new Ct("metadata","customMetadata",!0)),Ua=e,Ua}function SA(e,t){function n(){const r=e.bucket,s=e.fullPath,a=new Ht(r,s);return t._makeStorageReference(a)}Object.defineProperty(e,"ref",{get:n})}function EA(e,t,n){const r={};r.type="file";const s=n.length;for(let a=0;a<s;a++){const l=n[a];r[l.local]=l.xform(r,t[l.server])}return SA(r,e),r}function A0(e,t,n){const r=P0(t);return r===null?null:EA(e,r,n)}function bA(e,t,n,r){const s=P0(t);if(s===null||!Hf(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(p=>{const _=e.bucket,g=e.fullPath,w="/b/"+l(_)+"/o/"+l(g),b=qf(w,n,r),O=E0({alt:"media",token:p});return b+O})[0]}function TA(e,t){const n={},r=t.length;for(let s=0;s<r;s++){const a=t[s];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}class O0{constructor(t,n,r,s){this.url=t,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(e){if(!e)throw Zf()}function CA(e,t){function n(r,s){const a=A0(e,s,t);return I0(a!==null),a}return n}function PA(e,t){function n(r,s){const a=A0(e,s,t);return I0(a!==null),bA(a,s,e.host,e._protocol)}return n}function R0(e){function t(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=$N():s=UN():n.getStatus()===402?s=FN(e.bucket):n.getStatus()===403?s=jN(e.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return t}function LA(e){const t=R0(e);function n(r,s){let a=t(r,s);return r.getStatus()===404&&(a=zN(e.path)),a.serverResponse=s.serverResponse,a}return n}function NA(e,t,n){const r=t.fullServerUrl(),s=qf(r,e.host,e._protocol),a="GET",l=e.maxOperationRetryTime,c=new O0(s,a,PA(e,n),l);return c.errorHandler=LA(t),c}function AA(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function OA(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=AA(null,t)),r}function IA(e,t,n,r,s){const a=t.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let x="";for(let T=0;T<2;T++)x=x+Math.random().toString().slice(2);return x}const h=c();l["Content-Type"]="multipart/related; boundary="+h;const p=OA(t,r,s),_=TA(p,n),g="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+h+`\r
Content-Type: `+p.contentType+`\r
\r
`,w=`\r
--`+h+"--",b=_r.getBlob(g,r,w);if(b===null)throw KN();const O={name:p.fullPath},N=qf(a,e.host,e._protocol),z="POST",S=e.maxUploadRetryTime,y=new O0(N,z,CA(e,n),S);return y.urlParams=O,y.headers=l,y.body=b.uploadData(),y.errorHandler=R0(t),y}class RA{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=hi.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=hi.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=hi.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,s){if(this.sent_)throw ro("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ro("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ro("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ro("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ro("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class DA extends RA{initXhr(){this.xhr_.responseType="text"}}function D0(){return new DA}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(t,n){this._service=t,n instanceof Ht?this._location=n:this._location=Ht.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Si(t,n)}get root(){const t=new Ht(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return L0(this._location.path)}get storage(){return this._service}get parent(){const t=yA(this._location.path);if(t===null)return null;const n=new Ht(this._location.bucket,t);return new Si(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw QN(t)}}function MA(e,t,n){e._throwIfRoot("uploadBytes");const r=IA(e.storage,e._location,N0(),new _r(t,!0),n);return e.storage.makeRequestWithTokens(r,D0).then(s=>({metadata:s,ref:e}))}function BA(e){e._throwIfRoot("getDownloadURL");const t=NA(e.storage,e._location,N0());return e.storage.makeRequestWithTokens(t,D0).then(n=>{if(n===null)throw GN();return n})}function zA(e,t){const n=wA(e._location.path,t),r=new Ht(e._location.bucket,n);return new Si(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(e){return/^[A-Za-z]+:\/\//.test(e)}function UA(e,t){return new Si(e,t)}function M0(e,t){if(e instanceof Kf){const n=e;if(n._bucket==null)throw qN();const r=new Si(n,n._bucket);return t!=null?M0(r,t):r}else return t!==void 0?zA(e,t):e}function $A(e,t){if(t&&FA(t)){if(e instanceof Kf)return UA(e,t);throw ch("To use ref(service, url), the first argument must be a Storage instance.")}else return M0(e,t)}function k_(e,t){const n=t==null?void 0:t[x0];return n==null?null:Ht.makeFromBucketSpec(n,e)}function jA(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:s}=r;s&&(e._overrideAuthToken=typeof s=="string"?s:yC(s,e.app.options.projectId))}class Kf{constructor(t,n,r,s,a){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=k0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=MN,this._maxUploadRetryTime=BN,this._requests=new Set,s!=null?this._bucket=Ht.makeFromBucketSpec(s,this._host):this._bucket=k_(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Ht.makeFromBucketSpec(this._url,t):this._bucket=k_(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){w_("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){w_("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Si(this,t)}_makeRequest(t,n,r,s,a=!0){if(this._deleted)return new JN(S0());{const l=uA(t,this._appId,r,s,n,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(t,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,s).getPromise()}}const x_="@firebase/storage",S_="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="storage";function VA(e,t,n){return e=Ls(e),MA(e,t,n)}function ZA(e){return e=Ls(e),BA(e)}function HA(e,t){return e=Ls(e),$A(e,t)}function WA(e=jw(),t){e=Ls(e);const r=cu(e,B0).getImmediate({identifier:t}),s=_C("storage");return s&&qA(r,...s),r}function qA(e,t,n,r={}){jA(e,t,n,r)}function KA(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Kf(n,r,s,t,xP)}function GA(){$r(new ir(B0,KA,"PUBLIC").setMultipleInstances(!0)),zn(x_,S_,""),zn(x_,S_,"esm2017")}GA();const E_="09477357651",YA=()=>{const[e,t]=C.useState(!1),[n,r]=C.useState(null),[s,a]=C.useState(null),[l,c]=C.useState([14.113,122.95]),[h,p]=C.useState(null),[_,g]=C.useState(!1),[w,b]=C.useState(!navigator.onLine),[O,N]=C.useState(null);C.useEffect(()=>{if(!navigator.geolocation){p("Geolocation is not supported by your browser.");return}navigator.geolocation.getCurrentPosition(R=>{const U={lat:R.coords.latitude,lng:R.coords.longitude};c([U.lat,U.lng]),a(U)},()=>{p("Could not get your location automatically. The map is optional."),a(null)});const T=()=>b(!navigator.onLine);return window.addEventListener("online",T),window.addEventListener("offline",T),()=>{window.removeEventListener("online",T),window.removeEventListener("offline",T)}},[]);const z=T=>{a(T)},S=async T=>{if(w){N(T);return}t(!0),r(null);try{let R=null;if(T.image&&T.image[0]){const G=WA(),pe=HA(G,`incidents/${Date.now()}_${T.image[0].name}`),J=await VA(pe,T.image[0]);R=await ZA(J.ref)}const U=await fetch(`${wt}/api/auth/quick-access`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reporterName:T.reporterName,reporterPhone:T.reporterPhone})});if(!U.ok)throw new Error("Failed to get quick access token");const{token:B}=await U.json(),$={...T,location:s,imageUrl:R};if(!(await fetch(`${wt}/api/alerts`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${B}`},body:JSON.stringify($)})).ok)throw new Error("Failed to submit alert");g(!0)}catch(R){r(R.message||"An unexpected error occurred.")}finally{t(!1)}},y=()=>{const T=`PRC-CN EMS ALERT:
Incident: ${O.incidentType}
Address: ${O.address}
Reporter: ${O.reporterName}, ${O.reporterPhone}
Patients: ${O.patientCount}
Details: ${O.description}`;window.location.href=`sms:${E_}?body=${encodeURIComponent(T)}`},x=()=>{window.location.href=`tel:${E_}`};return w&&O?v("div",{className:"quick-form-container",children:D("div",{className:"offline-container",children:[v("h2",{children:"No Internet Connection"}),v("p",{children:"You can send the alert via SMS or call the emergency hotline directly."}),D("div",{className:"offline-actions",children:[v("button",{onClick:y,className:"offline-btn sms-btn",children:"Send Alert via SMS"}),v("button",{onClick:x,className:"offline-btn call-btn",children:"Call Emergency Hotline"})]})]})}):_?v("div",{className:"quick-form-container",children:D("div",{className:"success-message-container",children:[v("h2",{children:"Alert Submitted Successfully!"}),v("p",{children:"Thank you for your report. The EMS team has been notified."}),v("p",{children:v("strong",{children:"Please keep your phone line open. An EMS dispatcher may call you for confirmation or additional details."})}),D("div",{className:"success-actions",children:[v(nt,{to:"/",className:"homepage-btn",children:"Back to Homepage"}),v("button",{onClick:()=>window.location.reload(),className:"submit-another-btn",children:"Submit Another Report"})]})]})}):D("div",{className:"quick-form-container",children:[D("header",{className:"quick-form-header",children:[v("h1",{children:"Emergency Alert"}),v("p",{children:"Fill out the details below. The location description is required."})]}),D("div",{className:"map-form-container",children:[D("div",{className:"map-wrapper",children:[v("p",{className:"map-optional-text",children:"Optional: Drag the pin to the exact incident location."}),v(mw,{center:l,onLocationChange:z})]}),h&&v("p",{className:"location-error",children:h}),D("div",{className:"form-wrapper",children:[v(aw,{onSubmit:S,isSubmitting:e}),n&&v("p",{className:"submission-error",children:n})]})]})]})};const QA=()=>{const[e,t]=C.useState([]),[n,r]=C.useState(!0),[s,a]=C.useState(null),{token:l,user:c}=Wr(),h=Un();C.useEffect(()=>{(async()=>{if(l)try{const w=await fetch(`${wt}/api/alerts/completed`,{headers:{Authorization:`Bearer ${l}`}});if(!w.ok)throw new Error("Failed to fetch completed alerts");const b=await w.json();t(b)}catch(w){a(w.message)}finally{r(!1)}})()},[l]);const p=async g=>{if(window.confirm("Are you sure you want to permanently delete this record?"))try{if(!(await fetch(`${wt}/api/alerts/completed/${g}`,{method:"DELETE",headers:{Authorization:`Bearer ${l}`}})).ok)throw new Error("Failed to delete the alert record.");t(e.filter(b=>b._id!==g))}catch(w){a(w.message)}},_=async g=>{const w=`${wt}/api/reports/${g}`;try{const b=await fetch(w,{headers:{Authorization:`Bearer ${l}`}});if(!b.ok)throw new Error("Failed to download report");const O=await b.blob(),N=window.URL.createObjectURL(O),z=document.createElement("a");z.href=N,z.download=`completed_alerts_report.${g}`,document.body.appendChild(z),z.click(),window.URL.revokeObjectURL(N),z.remove()}catch(b){a(b.message)}};return n?v("div",{className:"reports-loading",children:"Loading reports..."}):D("div",{className:"reports-container",children:[D("header",{className:"universal-header",children:[D(nt,{to:"/",className:"header-logo-link",children:[v("img",{src:"/prc-logo.png",alt:"PRC Logo"}),v("span",{children:"Completed Reports"})]}),D("div",{className:"header-actions",children:[v("button",{onClick:()=>_("pdf"),className:"download-btn pdf",children:"Download PDF"}),v("button",{onClick:()=>_("excel"),className:"download-btn excel",children:"Download Excel"}),v("button",{onClick:()=>h(-1),className:"back-button",children:" Back"})]})]}),s&&D("div",{className:"reports-error",children:["Error: ",s]}),v("div",{className:"reports-table-container",children:D("table",{className:"reports-table",children:[v("thead",{children:D("tr",{children:[v("th",{children:"Incident Type"}),v("th",{children:"Address"}),v("th",{children:"Reporter Name"}),v("th",{children:"Date Completed"}),(c==null?void 0:c.role)==="admin"&&v("th",{children:"Actions"})]})}),v("tbody",{children:e.map(g=>{var w;return D("tr",{children:[v("td",{children:g.incidentType}),v("td",{children:((w=g.location)==null?void 0:w.address)||"N/A"}),v("td",{children:g.reporterName}),v("td",{children:new Date(g.archivedAt).toLocaleString()}),(c==null?void 0:c.role)==="admin"&&v("td",{children:v("button",{onClick:()=>p(g._id),className:"delete-btn",children:"Delete"})})]},g._id)})})]})})]})};const JA=()=>{const[e,t]=C.useState([]),[n,r]=C.useState(!0),[s,a]=C.useState(null),{token:l,user:c,logout:h}=Wr();C.useEffect(()=>{(async()=>{if(l)try{const w=await fetch(`${wt}/api/admin/users`,{headers:{Authorization:`Bearer ${l}`}});if(!w.ok)throw new Error("Failed to fetch users");const b=await w.json();t(b)}catch(w){a(w.message)}finally{r(!1)}})()},[l]);const p=async(g,w)=>{try{if(!(await fetch(`${wt}/api/admin/users/${g}/role`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify({role:w})})).ok)throw new Error("Failed to update role");t(e.map(O=>O._id===g?{...O,role:w}:O)),alert("User role updated successfully!")}catch(b){a(b.message)}},_=async g=>{if(window.confirm("Are you sure you want to permanently delete this user?"))try{const w=await fetch(`${wt}/api/admin/users/${g}`,{method:"DELETE",headers:{Authorization:`Bearer ${l}`}}),b=await w.json();if(!w.ok)throw new Error(b.message||"Failed to delete user.");t(e.filter(O=>O._id!==g)),alert(b.message)}catch(w){a(w.message)}};return n?v("div",{className:"admin-loading",children:"Loading users..."}):D("div",{className:"admin-dashboard-container",children:[D("header",{className:"admin-header",children:[D(nt,{to:"/",className:"header-logo-link",children:[v("img",{src:"/prc-logo.png",alt:"PRC Logo"}),v("span",{children:"Admin Dashboard"})]}),D("nav",{className:"admin-nav",children:[v(nt,{to:"/dashboard/ems",className:"nav-link",children:"EMS Dashboard"}),v(nt,{to:"/dashboard/citizen",className:"nav-link",children:"Citizen Dashboard"}),v("button",{onClick:h,className:"nav-link logout-btn",children:"Logout"})]})]}),s&&D("div",{className:"admin-error",children:["Error: ",s]}),D("div",{className:"user-table-container",children:[v("h2",{className:"table-header",children:"User Management"}),D("table",{className:"user-table",children:[v("thead",{children:D("tr",{children:[v("th",{children:"Name"}),v("th",{children:"Email"}),v("th",{children:"Current Role"}),v("th",{children:"Actions"})]})}),v("tbody",{children:e.map(g=>D("tr",{children:[D("td",{children:[g.firstName," ",g.lastName]}),v("td",{children:g.email}),v("td",{children:g.role}),D("td",{className:"action-cell",children:[D("select",{defaultValue:g.role,onChange:w=>p(g._id,w.target.value),className:"role-select",disabled:g.email==="i.am.sam052408@gmail.com",children:[v("option",{value:"citizen",children:"Citizen"}),v("option",{value:"ems_personnel",children:"EMS Personnel"}),v("option",{value:"admin",children:"Admin"})]}),v("button",{onClick:()=>_(g._id),className:"delete-user-btn",disabled:g._id===c.id||g.email==="i.am.sam052408@gmail.com",children:"Delete"})]})]},g._id))})]})]})]})},XA=()=>{const{isAuthenticated:e,user:t}=Wr(),n=Un();return C.useEffect(()=>{if(!e)return;const r=(t==null?void 0:t.role)==="ems_personnel"?"/dashboard/ems":"/dashboard/citizen";n(r,{replace:!0})},[e,t,n]),D("div",{style:{padding:"2rem",textAlign:"center"},children:[v("h2",{children:"Authenticating..."}),v("p",{children:"Please wait, you are being redirected."})]})},io=({children:e,role:t})=>{const{isAuthenticated:n,user:r,isAuthLoading:s}=Wr(),a=Ts();return s?null:n?t&&r.role!==t&&r.role!=="admin"?v(cg,{to:"/",replace:!0}):e:v(cg,{to:"/login",state:{from:a},replace:!0})},z0=[{id:"severe-bleeding",title:"Severe Bleeding",icon:"",steps:[{instruction:"CALL FOR HELP: Ensure an ambulance has been called."},{instruction:"APPLY PRESSURE: Press firmly on the wound with a clean cloth or bandage."},{instruction:"ELEVATE: If the wound is on a limb, elevate it above the heart."},{instruction:"MAINTAIN PRESSURE: Do not remove the cloth. If blood soaks through, add more cloths on top and keep pressing."}]},{id:"burns",title:"Burns (Minor)",icon:"",steps:[{instruction:"COOL THE BURN: Hold under cool (not cold) running water for 10-15 minutes."},{instruction:"REMOVE JEWELRY: Gently remove rings or other tight items from the burned area."},{instruction:"DO NOT BREAK BLISTERS: Leave blisters intact to prevent infection."},{instruction:"APPLY LOTION: Once cooled, apply a moisturizer or aloe vera gel."},{instruction:"BANDAGE: Cover the burn with a sterile gauze bandage (not fluffy cotton)."}]},{id:"choking",title:"Choking (Adult)",icon:"",steps:[{instruction:"ENCOURAGE COUGHING: Ask them to cough forcefully."},{instruction:"GIVE BACK BLOWS: Give 5 sharp back blows between the persons shoulder blades with the heel of your hand."},{instruction:"GIVE ABDOMINAL THRUSTS (HEIMLICH MANEUVER): Perform 5 abdominal thrusts."},{instruction:"CONTINUE: Alternate between 5 blows and 5 thrusts until the object is dislodged."}]},{id:"cpr",title:"CPR (Cardiopulmonary Resuscitation)",icon:"",steps:[{instruction:"CHECK RESPONSIVENESS: Tap the person and shout, 'Are you OK?'."},{instruction:"CALL FOR HELP: Tell a specific person to call for an ambulance."},{instruction:"BEGIN COMPRESSIONS: Place the heel of one hand in the center of the chest. Push hard and fast at a rate of 100-120 compressions per minute."},{instruction:"CONTINUE: Continue compressions until medical help arrives or the person starts to breathe."}]}];const eO=()=>D("div",{className:"first-aid-container",children:[v("header",{className:"universal-header",children:D(nt,{to:"/",className:"header-logo-link",children:[v("img",{src:"/prc-logo.png",alt:"PRC Logo"}),v("span",{children:"First-Aid Guide"})]})}),v("div",{className:"first-aid-menu",children:z0.map(e=>D(nt,{to:`/first-aid/${e.id}`,className:"menu-item",children:[v("div",{className:"menu-item-icon",children:e.icon}),v("div",{className:"menu-item-title",children:e.title})]},e.id))})]}),tO=()=>{const{topicId:e}=Zy(),t=Un(),n=z0.find(r=>r.id===e);return n?D("div",{className:"first-aid-container",children:[D("header",{className:"universal-header",children:[D(nt,{to:"/",className:"header-logo-link",children:[v("img",{src:"/prc-logo.png",alt:"PRC Logo"}),v("span",{children:n.title})]}),v("button",{onClick:()=>t("/first-aid"),className:"back-button",children:" Back to Guide"})]}),D("div",{className:"steps-container",children:[D("div",{className:"disclaimer",children:[v("strong",{children:"Disclaimer:"})," This is a basic guide only. Always call for an ambulance in a serious medical emergency."]}),v("ul",{className:"steps-list",children:n.steps.map((r,s)=>D("li",{className:"step-item",children:[v("div",{className:"step-number",children:s+1}),v("div",{className:"step-instruction",children:r.instruction})]},s))})]})]}):D("div",{className:"first-aid-container",children:[v("header",{className:"universal-header",children:D(nt,{to:"/",className:"header-logo-link",children:[v("img",{src:"/prc-logo.png",alt:"PRC Logo"}),v("span",{children:"First-Aid Guide"})]})}),v("p",{className:"not-found-message",children:"The requested first-aid topic could not be found."})]})};function nO(){return v(TE,{children:D(yE,{children:[v($t,{path:"/",element:v(AE,{})}),v($t,{path:"/login",element:v(Rb,{})}),v($t,{path:"/register",element:v(Mb,{})}),v($t,{path:"/quick-access",element:v(YA,{})}),v($t,{path:"/first-aid",element:v(eO,{})}),v($t,{path:"/first-aid/:topicId",element:v(tO,{})}),v($t,{path:"/auth/callback",element:v(XA,{})}),v($t,{path:"/dashboard/admin",element:v(io,{role:"admin",children:v(JA,{})})}),v($t,{path:"/dashboard/citizen",element:v(io,{role:"citizen",children:v(Jb,{})})}),v($t,{path:"/dashboard/ems",element:v(io,{role:"ems_personnel",children:v(RN,{})})}),v($t,{path:"/alert/:id",element:v(io,{children:v(DN,{})})}),v($t,{path:"/reports",element:D(io,{role:["admin","ems_personnel"],children:[" ",v(QA,{})]})})]})})}$c.createRoot(document.getElementById("root")).render(v(ot.StrictMode,{children:v(Ob,{children:v(YT,{children:v(nO,{})})})}));
